openapi: 3.0.3
info:
  title: Upvest Investment API
  version: 1.9.0
  description: Upvest Investment API.
  contact:
    name: Upvest API Support
    email: api@upvest.co
    url: https://docs.upvest.co
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0
tags:
  - name: Access Tokens
    description: All authentication related paths.
  - name: Webhooks
    description: All webhook related paths.
  - name: Users
    description: All user related paths.
  - name: User Identifiers
    description: All user identifiers related paths.
  - name: User Checks
    description: All user checks related paths.
  - name: Accounts
    description: All accounts related paths
  - name: Account Groups
    description: All account groups related paths
  - name: Reference Accounts
    description: All reference account related paths
  - name: Mandates
    description: All direct debit mandates related paths
  - name: Payments
    description: All payments related paths
  - name: Cash Balances
    description: All cash balance related paths
  - name: Instruments
    description: All instrument related paths.
  - name: Orders
    description: All order related paths.
  - name: Executions
    description: All execution related paths.
  - name: Positions
    description: All positions related paths.
  - name: Treasury Reports
    description: All treasury reports related paths.
  - name: Reports
    description: All reports related paths.
  - name: Taxes
    description: All taxes related paths.
  - name: Transactions
    description: All transactions related paths.
  - name: Fees
    description: All fees related paths.
  - name: Portfolios
    description: All portfolios related paths.
  - name: Valuations
    description: All valuations related paths.
  - name: Liquidations
    description: All accounts liquidations related paths.
  - name: Returns
    description: All accounts returns related paths.
  - name: Virtual Cash Balances
    description: All virtual cash balances related paths
servers:
  - url: https://sandbox.upvest.co
    description: Sandbox environment
  - url: https://api.upvest.co
    description: Live environment
paths:
  /auth/token:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    post:
      operationId: issue_token
      summary: Get an access token for requested scopes
      description: >-
        Get an access token to use with the API with specified scopes.


        You should _always_ scope your access tokens. You get one for read-access and separate ones for updating, creating or deleting resources.
      tags:
        - Access Tokens
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              title: Request - Auth - Request Access Token
              type: object
              description: Schema for access token request.
              properties:
                client_id:
                  type: string
                  format: uuid
                  description: Client ID given during onboarding.
                client_secret:
                  type: string
                  maxLength: 1000
                  description: Client Secret given during onboarding.
                grant_type:
                  type: string
                  default: client_credentials
                  description: This must always be `client_credentials`.
                scope:
                  type: string
                  maxLength: 1000
                  description: List of space delimited scopes to request for this access token.
              required:
                - client_id
                - client_secret
                - grant_type
                - scope
              additionalProperties: false
            example:
              client_id: 363f3305-7ab0-4e82-a158-f9d382ad08b6
              client_secret: WHIW1yic-ouct3sceh
              grant_type: client_credentials
              scope: users:read
      responses:
        "200":
          description: Access token successfully generated.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Auth - Access Token
                type: object
                description: Schema for an access token response.
                properties:
                  access_token:
                    type: string
                    maxLength: 1000
                    description: The generated access token.
                  expires_in:
                    type: integer
                    description: How many seconds the access token is valid for.
                  token_type:
                    type: string
                    default: bearer
                    description: This is always 'bearer'.
                  scope:
                    type: string
                    maxLength: 1000
                    description: List of space delimited scopes requested for this access token.
                required:
                  - access_token
                  - expires_in
                  - token_type
                  - scope
                additionalProperties: false
              example:
                access_token: token.signature
                expires_in: 86400
                token_type: bearer
                scope: users:read
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /auth/verify_keys:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: get_jwks
      summary: Get signing keys
      description: Get list of signing keys used to verify webhooks
      tags:
        - Webhooks
      security:
        - oauth-client-credentials:
            - webhooks:read
            - webhooks:admin
      responses:
        "200":
          description: JWKS signing public keys
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Auth - Verification keys
                type: object
                description: Webhooks verification keys.
                properties:
                  keys:
                    type: array
                    description: List of verification keys
                    items:
                      type: object
                      properties:
                        kid:
                          type: string
                          format: uuid
                          description: Key ID
                        kty:
                          type: string
                          enum:
                            - EC
                          default: EC
                          description: "Cryptographic algorithm family used with the key.\n* EC - "
                        crv:
                          type: string
                          description: "Elliptic curve family.\n* P-521 - "
                          enum:
                            - P-521
                          default: P-521
                        x:
                          type: string
                          description: Curve parameter
                        y:
                          type: string
                          description: Curve parameter
                required:
                  - keys
                additionalProperties: false
              example:
                keys:
                  - kid: 9ed77463-c18e-4794-ab5c-17423f9b801a
                    kty: EC
                    crv: P-521
                    x: AcYAf5Ou0UvtehpeRvyhnvvrUQvjI4B3VCxfSmxK4gqKJGxO_jTB-nTdrHbBfmZpwmwYR86DppMg43E579K5MQ54
                    y: ALkrId77iD0Ye2vBS5bTkLqPH-bo8urTpTXiNc6Ub-VOFbXfJrR0tQ8COvVXXu58BTu8jWV-1mtbjfJpDl3ISbcK
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /webhooks:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_webhooks
      summary: List all webhooks
      description: List all webhooks
      tags:
        - Webhooks
      security:
        - oauth-client-credentials:
            - webhooks:read
            - webhooks:admin
      parameters:
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - created_at
              - updated_at
              - title
              - url
              - enabled
            default: created_at
          description: Sort the result by `created_at`, `updated_at`, `title`, `url`, or `enabled`.
        - name: order
          in: query
          required: false
          schema:
            type: string
            enum:
              - ASC
              - DESC
            default: ASC
          description: Sort order of the result list if the `sort` parameter is specified. Use `ASC` for ascending or `DESC` for descending sort order.
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
      responses:
        "200":
          description: An object with a data property that contains an array of webhook subscription objects.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Webhooks - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Webhook
                      type: object
                      additionalProperties: false
                      properties:
                        id:
                          title: Webhook ID
                          type: string
                          description: Webhook unique identifier.
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        title:
                          type: string
                          maxLength: 100
                          description: Title of the webhook for use on tenant side.
                        url:
                          type: string
                          format: url
                          maxLength: 1000
                          description: The callback URL to be called by the webhook.
                        enabled:
                          type: boolean
                          description: Enable/disable webhook.
                        type:
                          type: array
                          description: What kind of events to be sent by the webhook.
                          default:
                            - ALL
                          items:
                            type: string
                            enum:
                              - ALL
                              - USER
                              - USER_CHECK
                              - ORDER
                              - ORDER_CANCELLATION
                              - EXECUTION
                              - POSITION
                              - CASH_BALANCE
                              - ACCOUNT
                              - ACCOUNT_GROUP
                              - REPORT
                              - TREASURY_REPORT
                              - DIRECT_DEBIT
                              - WITHDRAWAL
                              - PORTFOLIO
                              - PORTFOLIO_ALLOCATION
                              - PORTFOLIO_ORDER
                              - CORPORATE_ACTION
                              - ACCOUNT_VALUATION
                              - INTRADAY_ACCOUNT_VALUATION
                              - CASH_TRANSACTION
                              - SECURITY_TRANSACTION
                              - ACCOUNT_LIQUIDATION
                              - ACCOUNT_RETURNS
                              - VIRTUAL_CASH_INCREASE
                              - VIRTUAL_CASH_DECREASE
                              - FEE_COLLECTION
                        config:
                          type: object
                          description: Configuration of webhook packages collection.
                          properties:
                            delay:
                              type: string
                              pattern: ^[1-9][0-9]?[sm]$
                              description: Maximum time of package collection.
                            max_package_size:
                              type: integer
                              minimum: 100
                              maximum: 1048576
                              description: Maximum package size (bytes)
                      required:
                        - id
                        - created_at
                        - updated_at
                        - title
                        - url
                        - enabled
                        - type
                        - config
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 1
                  total_count: 1
                  sort: id
                  order: ASC
                data:
                  - id: a8eb3540-5a84-40f9-b2bb-7f99f282fc5a
                    created_at: 2021-07-21T14:10:00.00Z
                    updated_at: 2021-07-21T14:10:00.00Z
                    title: User webhook
                    url: https://tenant.tld/webhooks/users
                    type:
                      - USER
                    enabled: false
                    config:
                      delay: 5s
                      max_package_size: 10240
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    post:
      operationId: create_webhook
      summary: Create a webhook subscription
      description: Create a webhook subscription
      tags:
        - Webhooks
      security:
        - oauth-client-credentials:
            - webhooks:admin
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Create - Request
              type: object
              properties:
                title:
                  type: string
                  maxLength: 100
                  description: Title of the webhook for use on tenant side.
                url:
                  type: string
                  format: url
                  maxLength: 1000
                  description: The callback URL to be called by the webhook.
                type:
                  type: array
                  description: What kind of events to be sent by the webhook.
                  default:
                    - ALL
                  items:
                    type: string
                    enum:
                      - ALL
                      - USER
                      - USER_CHECK
                      - ORDER
                      - ORDER_CANCELLATION
                      - EXECUTION
                      - POSITION
                      - CASH_BALANCE
                      - ACCOUNT
                      - ACCOUNT_GROUP
                      - REPORT
                      - TREASURY_REPORT
                      - DIRECT_DEBIT
                      - WITHDRAWAL
                      - PORTFOLIO
                      - PORTFOLIO_ALLOCATION
                      - PORTFOLIO_ORDER
                      - CORPORATE_ACTION
                      - ACCOUNT_VALUATION
                      - INTRADAY_ACCOUNT_VALUATION
                      - CASH_TRANSACTION
                      - SECURITY_TRANSACTION
                      - ACCOUNT_LIQUIDATION
                      - ACCOUNT_RETURNS
                      - VIRTUAL_CASH_INCREASE
                      - VIRTUAL_CASH_DECREASE
                      - FEE_COLLECTION
                config:
                  type: object
                  description: Configuration of webhook packages collection.
                  properties:
                    delay:
                      type: string
                      pattern: ^[1-9][0-9]?[sm]$
                      description: Maximum time of package collection.
                    max_package_size:
                      type: integer
                      minimum: 100
                      maximum: 1048576
                      description: Maximum package size (bytes)
              required:
                - title
                - url
              additionalProperties: false
            example:
              title: User webhook
              url: https://tenant.tld/webhooks/users
              type:
                - USER
              config:
                delay: 5s
                max_package_size: 10240
      responses:
        "201":
          description: Returns a webhook subscription object if a valid webhook subscription object ID was provided.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Webhook
                type: object
                additionalProperties: false
                properties:
                  id:
                    title: Webhook ID
                    type: string
                    description: Webhook unique identifier.
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  title:
                    type: string
                    maxLength: 100
                    description: Title of the webhook for use on tenant side.
                  url:
                    type: string
                    format: url
                    maxLength: 1000
                    description: The callback URL to be called by the webhook.
                  enabled:
                    type: boolean
                    description: Enable/disable webhook.
                  type:
                    type: array
                    description: What kind of events to be sent by the webhook.
                    default:
                      - ALL
                    items:
                      type: string
                      enum:
                        - ALL
                        - USER
                        - USER_CHECK
                        - ORDER
                        - ORDER_CANCELLATION
                        - EXECUTION
                        - POSITION
                        - CASH_BALANCE
                        - ACCOUNT
                        - ACCOUNT_GROUP
                        - REPORT
                        - TREASURY_REPORT
                        - DIRECT_DEBIT
                        - WITHDRAWAL
                        - PORTFOLIO
                        - PORTFOLIO_ALLOCATION
                        - PORTFOLIO_ORDER
                        - CORPORATE_ACTION
                        - ACCOUNT_VALUATION
                        - INTRADAY_ACCOUNT_VALUATION
                        - CASH_TRANSACTION
                        - SECURITY_TRANSACTION
                        - ACCOUNT_LIQUIDATION
                        - ACCOUNT_RETURNS
                        - VIRTUAL_CASH_INCREASE
                        - VIRTUAL_CASH_DECREASE
                        - FEE_COLLECTION
                  config:
                    type: object
                    description: Configuration of webhook packages collection.
                    properties:
                      delay:
                        type: string
                        pattern: ^[1-9][0-9]?[sm]$
                        description: Maximum time of package collection.
                      max_package_size:
                        type: integer
                        minimum: 100
                        maximum: 1048576
                        description: Maximum package size (bytes)
                required:
                  - id
                  - created_at
                  - updated_at
                  - title
                  - url
                  - enabled
                  - type
                  - config
              example:
                id: a8eb3540-5a84-40f9-b2bb-7f99f282fc5a
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-21T14:10:00.00Z
                title: User webhook
                url: https://tenant.tld/webhooks/users
                type:
                  - USER
                enabled: false
                config:
                  delay: 5s
                  max_package_size: 10240
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/webhooks/{webhook_id}":
    parameters:
      - name: webhook_id
        in: path
        description: Webhook identifier
        required: true
        schema:
          title: Webhook ID
          type: string
          description: Webhook unique identifier.
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_webhook
      summary: Retrieve a webhook subscription
      description: Retrieve a webhook subscription
      tags:
        - Webhooks
      security:
        - oauth-client-credentials:
            - webhooks:read
            - webhooks:admin
      responses:
        "200":
          description: Returns a webhook subscription object if a valid webhook subscription object ID was provided.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Webhook
                type: object
                additionalProperties: false
                properties:
                  id:
                    title: Webhook ID
                    type: string
                    description: Webhook unique identifier.
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  title:
                    type: string
                    maxLength: 100
                    description: Title of the webhook for use on tenant side.
                  url:
                    type: string
                    format: url
                    maxLength: 1000
                    description: The callback URL to be called by the webhook.
                  enabled:
                    type: boolean
                    description: Enable/disable webhook.
                  type:
                    type: array
                    description: What kind of events to be sent by the webhook.
                    default:
                      - ALL
                    items:
                      type: string
                      enum:
                        - ALL
                        - USER
                        - USER_CHECK
                        - ORDER
                        - ORDER_CANCELLATION
                        - EXECUTION
                        - POSITION
                        - CASH_BALANCE
                        - ACCOUNT
                        - ACCOUNT_GROUP
                        - REPORT
                        - TREASURY_REPORT
                        - DIRECT_DEBIT
                        - WITHDRAWAL
                        - PORTFOLIO
                        - PORTFOLIO_ALLOCATION
                        - PORTFOLIO_ORDER
                        - CORPORATE_ACTION
                        - ACCOUNT_VALUATION
                        - INTRADAY_ACCOUNT_VALUATION
                        - CASH_TRANSACTION
                        - SECURITY_TRANSACTION
                        - ACCOUNT_LIQUIDATION
                        - ACCOUNT_RETURNS
                        - VIRTUAL_CASH_INCREASE
                        - VIRTUAL_CASH_DECREASE
                        - FEE_COLLECTION
                  config:
                    type: object
                    description: Configuration of webhook packages collection.
                    properties:
                      delay:
                        type: string
                        pattern: ^[1-9][0-9]?[sm]$
                        description: Maximum time of package collection.
                      max_package_size:
                        type: integer
                        minimum: 100
                        maximum: 1048576
                        description: Maximum package size (bytes)
                required:
                  - id
                  - created_at
                  - updated_at
                  - title
                  - url
                  - enabled
                  - type
                  - config
              example:
                id: a8eb3540-5a84-40f9-b2bb-7f99f282fc5a
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-21T14:10:00.00Z
                title: User webhook
                url: https://tenant.tld/webhooks/users
                type:
                  - USER
                enabled: true
                config:
                  delay: 5s
                  max_package_size: 1024
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    delete:
      operationId: delete_webhook
      summary: Delete a webhook subscription
      description: Delete a webhook subscription
      tags:
        - Webhooks
      security:
        - oauth-client-credentials:
            - webhooks:admin
      responses:
        "204":
          description: Request has been processed successfully.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    patch:
      operationId: update_webhook
      summary: Update a webhook subscription
      description: Update a webhook subscription
      tags:
        - Webhooks
      security:
        - oauth-client-credentials:
            - webhooks:admin
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Update - Request
              type: object
              properties:
                title:
                  type: string
                  maxLength: 100
                  description: Title of the webhook for use on tenant side.
                url:
                  type: string
                  format: url
                  maxLength: 1000
                  description: The callback URL to be called by the webhook.
                enabled:
                  type: boolean
                  description: Enable/disable webhook.
                type:
                  type: array
                  description: What kind of events to be sent by the webhook.
                  default:
                    - ALL
                  items:
                    type: string
                    enum:
                      - ALL
                      - USER
                      - USER_CHECK
                      - ORDER
                      - ORDER_CANCELLATION
                      - EXECUTION
                      - POSITION
                      - CASH_BALANCE
                      - ACCOUNT
                      - ACCOUNT_GROUP
                      - REPORT
                      - TREASURY_REPORT
                      - DIRECT_DEBIT
                      - WITHDRAWAL
                      - PORTFOLIO
                      - PORTFOLIO_ALLOCATION
                      - PORTFOLIO_ORDER
                      - CORPORATE_ACTION
                      - ACCOUNT_VALUATION
                      - INTRADAY_ACCOUNT_VALUATION
                      - CASH_TRANSACTION
                      - SECURITY_TRANSACTION
                      - ACCOUNT_LIQUIDATION
                      - ACCOUNT_RETURNS
                      - VIRTUAL_CASH_INCREASE
                      - VIRTUAL_CASH_DECREASE
                      - FEE_COLLECTION
                config:
                  type: object
                  description: Configuration of webhook packages collection.
                  properties:
                    delay:
                      type: string
                      pattern: ^[1-9][0-9]?[sm]$
                      description: Maximum time of package collection.
                    max_package_size:
                      type: integer
                      minimum: 100
                      maximum: 1048576
                      description: Maximum package size (bytes)
              additionalProperties: false
            example:
              url: https://tenant.tld/webhooks/users
              type:
                - USER
      responses:
        "200":
          description: Returns a webhook subscription object if a valid webhook subscription object ID was provided.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Webhook
                type: object
                additionalProperties: false
                properties:
                  id:
                    title: Webhook ID
                    type: string
                    description: Webhook unique identifier.
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  title:
                    type: string
                    maxLength: 100
                    description: Title of the webhook for use on tenant side.
                  url:
                    type: string
                    format: url
                    maxLength: 1000
                    description: The callback URL to be called by the webhook.
                  enabled:
                    type: boolean
                    description: Enable/disable webhook.
                  type:
                    type: array
                    description: What kind of events to be sent by the webhook.
                    default:
                      - ALL
                    items:
                      type: string
                      enum:
                        - ALL
                        - USER
                        - USER_CHECK
                        - ORDER
                        - ORDER_CANCELLATION
                        - EXECUTION
                        - POSITION
                        - CASH_BALANCE
                        - ACCOUNT
                        - ACCOUNT_GROUP
                        - REPORT
                        - TREASURY_REPORT
                        - DIRECT_DEBIT
                        - WITHDRAWAL
                        - PORTFOLIO
                        - PORTFOLIO_ALLOCATION
                        - PORTFOLIO_ORDER
                        - CORPORATE_ACTION
                        - ACCOUNT_VALUATION
                        - INTRADAY_ACCOUNT_VALUATION
                        - CASH_TRANSACTION
                        - SECURITY_TRANSACTION
                        - ACCOUNT_LIQUIDATION
                        - ACCOUNT_RETURNS
                        - VIRTUAL_CASH_INCREASE
                        - VIRTUAL_CASH_DECREASE
                        - FEE_COLLECTION
                  config:
                    type: object
                    description: Configuration of webhook packages collection.
                    properties:
                      delay:
                        type: string
                        pattern: ^[1-9][0-9]?[sm]$
                        description: Maximum time of package collection.
                      max_package_size:
                        type: integer
                        minimum: 100
                        maximum: 1048576
                        description: Maximum package size (bytes)
                required:
                  - id
                  - created_at
                  - updated_at
                  - title
                  - url
                  - enabled
                  - type
                  - config
              example:
                id: a8eb3540-5a84-40f9-b2bb-7f99f282fc5a
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-21T14:10:00.00Z
                title: User webhook
                url: https://tenant.tld/webhooks/users
                type:
                  - USER
                enabled: true
                config:
                  delay: 5s
                  max_package_size: 10240
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/webhooks/{webhook_id}/test":
    parameters:
      - name: webhook_id
        in: path
        description: Webhook identifier
        required: true
        schema:
          title: Webhook ID
          type: string
          description: Webhook unique identifier.
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    post:
      operationId: test_webhook
      summary: Test a webhook
      description: Test a webhook
      tags:
        - Webhooks
      security:
        - oauth-client-credentials:
            - webhooks:admin
      responses:
        "202":
          description: The request has been successfully accepted and will be processed asynchronously.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /users:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_users
      summary: Get all users
      description: Returns the list of all users.
      tags:
        - Users
      security:
        - oauth-client-credentials:
            - users:read
            - users:admin
      parameters:
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - created_at
            default: created_at
          description: Sort the result by `created_at`.
        - $ref: "#/components/parameters/order"
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Users - List - Response
                type: object
                description: ""
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    oneOf:
                      - anyOf:
                          - title: Users (BYOL) - List
                            type: array
                            minItems: 1
                            items:
                              title: User (BYOL)
                              type: object
                              properties:
                                id:
                                  title: User unique identifier.
                                  type: string
                                  description: User unique identifier.
                                  format: uuid
                                created_at:
                                  type: string
                                  format: date-time
                                  description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                                updated_at:
                                  type: string
                                  format: date-time
                                  description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                                first_name:
                                  type: string
                                  maxLength: 100
                                  minLength: 2
                                  description: First name of the user.
                                last_name:
                                  type: string
                                  maxLength: 100
                                  minLength: 2
                                  description: Last name of the user.
                                salutation:
                                  type: string
                                  description: "Salutation of the user used in reports and statements.\n* (empty string) - \n* SALUTATION_MALE - \n* SALUTATION_FEMALE - \n* SALUTATION_FEMALE_MARRIED - \n* SALUTATION_DIVERSE - "
                                  enum:
                                    - ""
                                    - SALUTATION_MALE
                                    - SALUTATION_FEMALE
                                    - SALUTATION_FEMALE_MARRIED
                                    - SALUTATION_DIVERSE
                                  default: ""
                                title:
                                  type: string
                                  description: "Title of the user used in reports and statements.\n* (empty string) - \n* DR - Doctor\n* PROF - Professor\n* PROF_DR - \n* DIPL_ING - Graduate engineer (Diplom-Ingenieur)\n* MAGISTER - "
                                  enum:
                                    - ""
                                    - DR
                                    - PROF
                                    - PROF_DR
                                    - DIPL_ING
                                    - MAGISTER
                                  default: ""
                                birth_date:
                                  type: string
                                  format: date
                                  description: Birth date of the user in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339)
                                birth_city:
                                  title: City name
                                  type: string
                                  minLength: 1
                                  maxLength: 85
                                birth_country:
                                  description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                  type: string
                                  pattern: ^[A-Z]{2}$
                                birth_name:
                                  type: string
                                  maxLength: 100
                                  description: If applicable, birth name of the user.
                                nationalities:
                                  type: array
                                  items:
                                    description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                    type: string
                                    pattern: ^[A-Z]{2}$
                                  minItems: 1
                                  description: Nationalities of the user. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                address:
                                  title: Address
                                  type: object
                                  description: Address. Must not be a P.O. box or c/o address.
                                  properties:
                                    address_line1:
                                      type: string
                                      description: First address line of the address.
                                      maxLength: 100
                                    address_line2:
                                      type: string
                                      description: Second address line of the address.
                                      maxLength: 100
                                    postcode:
                                      title: Postal code
                                      type: string
                                      description: Postal code (postcode, PIN or ZIP code)
                                      pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                                    country:
                                      description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                      type: string
                                      pattern: ^[A-Z]{2}$
                                    state:
                                      description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                      type: string
                                      maxLength: 50
                                    city:
                                      title: City name
                                      type: string
                                      minLength: 1
                                      maxLength: 85
                                  required:
                                    - address_line1
                                    - postcode
                                    - country
                                    - city
                                postal_address:
                                  description: User postal address. Needs to be specified if different to the residential address, otherwise it is automatically populated.
                                  oneOf:
                                    - title: Address
                                      type: object
                                      description: Address. Must not be a P.O. box or c/o address.
                                      properties:
                                        address_line1:
                                          type: string
                                          description: First address line of the address.
                                          maxLength: 100
                                        address_line2:
                                          type: string
                                          description: Second address line of the address.
                                          maxLength: 100
                                        postcode:
                                          title: Postal code
                                          type: string
                                          description: Postal code (postcode, PIN or ZIP code)
                                          pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                                        country:
                                          description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                          type: string
                                          pattern: ^[A-Z]{2}$
                                        state:
                                          description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                          type: string
                                          maxLength: 50
                                        city:
                                          title: City name
                                          type: string
                                          minLength: 1
                                          maxLength: 85
                                      required:
                                        - address_line1
                                        - postcode
                                        - country
                                        - city
                                    - type: "null"
                                status:
                                  type: string
                                  description: "Status of the user.\n* ACTIVE - \n* INACTIVE - \n* OFFBOARDING - \n* OFFBOARDED - "
                                  enum:
                                    - ACTIVE
                                    - INACTIVE
                                    - OFFBOARDING
                                    - OFFBOARDED
                              required:
                                - id
                                - created_at
                                - updated_at
                                - first_name
                                - last_name
                                - birth_date
                                - nationalities
                                - address
                                - status
                              additionalProperties: false
                          - title: Users (TOL) - List
                            type: array
                            minItems: 1
                            items:
                              title: User (TOL)
                              type: object
                              properties:
                                id:
                                  title: User unique identifier.
                                  type: string
                                  description: User unique identifier.
                                  format: uuid
                                created_at:
                                  type: string
                                  format: date-time
                                  description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                                updated_at:
                                  type: string
                                  format: date-time
                                  description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                                first_name:
                                  type: string
                                  maxLength: 100
                                  minLength: 2
                                  description: First name of the user.
                                last_name:
                                  type: string
                                  maxLength: 100
                                  minLength: 2
                                  description: Last name of the user.
                                salutation:
                                  type: string
                                  description: "Salutation of the user used in reports and statements.\n* (empty string) - \n* SALUTATION_MALE - \n* SALUTATION_FEMALE - \n* SALUTATION_FEMALE_MARRIED - \n* SALUTATION_DIVERSE - "
                                  enum:
                                    - ""
                                    - SALUTATION_MALE
                                    - SALUTATION_FEMALE
                                    - SALUTATION_FEMALE_MARRIED
                                    - SALUTATION_DIVERSE
                                  default: ""
                                title:
                                  type: string
                                  description: "Title of the user used in reports and statements.\n* (empty string) - \n* DR - Doctor\n* PROF - Professor\n* PROF_DR - \n* DIPL_ING - Graduate engineer (Diplom-Ingenieur)\n* MAGISTER - "
                                  enum:
                                    - ""
                                    - DR
                                    - PROF
                                    - PROF_DR
                                    - DIPL_ING
                                    - MAGISTER
                                  default: ""
                                birth_date:
                                  type: string
                                  format: date
                                  description: Birth date of the user in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339)
                                birth_city:
                                  title: City name
                                  type: string
                                  minLength: 1
                                  maxLength: 85
                                birth_country:
                                  description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                  type: string
                                  pattern: ^[A-Z]{2}$
                                birth_name:
                                  type: string
                                  maxLength: 100
                                  description: If applicable, birth name of the user.
                                nationalities:
                                  type: array
                                  items:
                                    description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                    type: string
                                    pattern: ^[A-Z]{2}$
                                  minItems: 1
                                  description: Nationalities of the user. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                address:
                                  title: Address
                                  type: object
                                  description: Address. Must not be a P.O. box or c/o address.
                                  properties:
                                    address_line1:
                                      type: string
                                      description: First address line of the address.
                                      maxLength: 100
                                    address_line2:
                                      type: string
                                      description: Second address line of the address.
                                      maxLength: 100
                                    postcode:
                                      title: Postal code
                                      type: string
                                      description: Postal code (postcode, PIN or ZIP code)
                                      pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                                    country:
                                      description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                      type: string
                                      pattern: ^[A-Z]{2}$
                                    state:
                                      description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                      type: string
                                      maxLength: 50
                                    city:
                                      title: City name
                                      type: string
                                      minLength: 1
                                      maxLength: 85
                                  required:
                                    - address_line1
                                    - postcode
                                    - country
                                    - city
                                postal_address:
                                  description: User postal address. Needs to be specified if different to the residential address, otherwise it is automatically populated.
                                  oneOf:
                                    - title: Address
                                      type: object
                                      description: Address. Must not be a P.O. box or c/o address.
                                      properties:
                                        address_line1:
                                          type: string
                                          description: First address line of the address.
                                          maxLength: 100
                                        address_line2:
                                          type: string
                                          description: Second address line of the address.
                                          maxLength: 100
                                        postcode:
                                          title: Postal code
                                          type: string
                                          description: Postal code (postcode, PIN or ZIP code)
                                          pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                                        country:
                                          description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                          type: string
                                          pattern: ^[A-Z]{2}$
                                        state:
                                          description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                          type: string
                                          maxLength: 50
                                        city:
                                          title: City name
                                          type: string
                                          minLength: 1
                                          maxLength: 85
                                      required:
                                        - address_line1
                                        - postcode
                                        - country
                                        - city
                                    - type: "null"
                                status:
                                  type: string
                                  description: "Status of the user.\n* ACTIVE - \n* INACTIVE - \n* OFFBOARDING - \n* OFFBOARDED - "
                                  enum:
                                    - ACTIVE
                                    - INACTIVE
                                    - OFFBOARDING
                                    - OFFBOARDED
                                email:
                                  type: string
                                  format: email
                                  maxLength: 100
                                  description: Email of the user. Must be a valid email address.
                                phone_number:
                                  type: string
                                  pattern: ^([0-9]{8,15})?$
                                  description: Phone number of the user. [Phone number E.164 format](https://en.wikipedia.org/wiki/E.164).
                                fatca:
                                  type: object
                                  properties:
                                    status:
                                      type: boolean
                                      description: The user’s FATCA status is true if the user is subject to paying taxes in the US, otherwise it can be set to false.
                                    confirmed_at:
                                      type: string
                                      format: date-time
                                      description: Timestamp at which the user confirmed their FATCA status. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                                  required:
                                    - status
                                    - confirmed_at
                                terms_and_conditions:
                                  type: object
                                  properties:
                                    consent_document_id:
                                      title: Consent unique identifier.
                                      type: string
                                      description: Consent unique identifier.
                                      format: uuid
                                    confirmed_at:
                                      type: string
                                      format: date-time
                                      description: Timestamp at which the user consented to the terms & conditions. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                                  required:
                                    - consent_document_id
                                    - confirmed_at
                                data_privacy_and_sharing_agreement:
                                  type: object
                                  properties:
                                    consent_document_id:
                                      title: Consent unique identifier.
                                      type: string
                                      description: Consent unique identifier.
                                      format: uuid
                                    confirmed_at:
                                      type: string
                                      format: date-time
                                      description: Timestamp at which the user consented to the data sharing agreement. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                                  required:
                                    - consent_document_id
                                    - confirmed_at
                              required:
                                - id
                                - created_at
                                - updated_at
                                - first_name
                                - last_name
                                - birth_date
                                - nationalities
                                - address
                                - status
                              additionalProperties: false
                      - title: empty Users - List
                        description: For empty lists, JSON schema's 'oneOf' matches both 'Users (BYOL) - List' *and* 'Users (TOL) - List' and hence fails. So we need this extra 'oneOf' branch specifically for empty lists, distinguished by 'minItems' and 'maxItems'.
                        type: array
                        maxItems: 0
                        items:
                          description: All items on list responses must be objects.
                          type: object
                          properties: {}
                required:
                  - meta
                  - data
                additionalProperties: false
              examples:
                BYOL:
                  summary: BYOL users
                  value:
                    meta:
                      offset: 0
                      limit: 100
                      count: 1
                      total_count: 1
                      sort: id
                      order: ASC
                    data:
                      - id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
                        created_at: 2021-07-21T14:10:00.00Z
                        updated_at: 2021-07-21T14:10:00.00Z
                        first_name: Karl
                        last_name: Schmidt
                        salutation: SALUTATION_MALE
                        title: DR
                        birth_date: 1972-09-30
                        birth_city: Berlin
                        birth_country: DE
                        birth_name: Schmidt
                        nationalities:
                          - DE
                          - AU
                        postal_address:
                          address_line1: Rosenweg 221
                          address_line2: apt. 33
                          postcode: "45678"
                          city: Berlin
                          state: BE
                          country: DE
                        address:
                          address_line1: Rosenweg 221
                          address_line2: apt. 33
                          postcode: "45678"
                          city: Berlin
                          state: BE
                          country: DE
                        status: ACTIVE
                      - id: 287673ef-1bae-4d8a-9e78-8ddaae249d72
                        created_at: 2021-07-21T14:10:00.00Z
                        updated_at: 2021-07-21T14:10:00.00Z
                        first_name: John
                        last_name: Doe
                        salutation: SALUTATION_MALE
                        title: PROF_DR
                        birth_date: 1970-10-01
                        birth_city: Berlin
                        birth_country: DE
                        birth_name: Schmidt
                        nationalities:
                          - DE
                          - AU
                        postal_address: null
                        address:
                          address_line1: Rosenweg 221
                          address_line2: apt. 33
                          postcode: "45678"
                          city: Berlin
                          state: BE
                          country: DE
                        status: ACTIVE
                TOL:
                  summary: TOL users
                  value:
                    meta:
                      offset: 0
                      limit: 100
                      count: 1
                      total_count: 1
                      sort: id
                      order: ASC
                    data:
                      - id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
                        created_at: 2021-07-21T14:10:00.00Z
                        updated_at: 2021-07-21T14:10:00.00Z
                        first_name: Karl
                        last_name: Schmidt
                        email: karl.schmidt@example.com
                        salutation: SALUTATION_MALE
                        title: DR
                        birth_date: 1972-09-30
                        birth_city: Berlin
                        birth_country: DE
                        birth_name: Schmidt
                        nationalities:
                          - DE
                          - AU
                        phone_number: "4930901820"
                        postal_address:
                          address_line1: Rosenweg 221
                          address_line2: apt. 33
                          postcode: "45678"
                          city: Berlin
                          state: BE
                          country: DE
                        address:
                          address_line1: Rosenweg 221
                          address_line2: apt. 33
                          postcode: "45678"
                          city: Berlin
                          state: BE
                          country: DE
                        fatca:
                          status: false
                          confirmed_at: 2020-08-24T14:15:22Z
                        terms_and_conditions:
                          consent_document_id: a8a87268-4f3c-4de2-abb9-a553a3bb7608
                          confirmed_at: 2020-08-24T14:14:22Z
                        data_privacy_and_sharing_agreement:
                          consent_document_id: fb1827c3-2b29-47e1-84da-996d09517edc
                          confirmed_at: 2020-08-24T14:16:22Z
                        status: ACTIVE
                      - id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
                        created_at: 2021-07-21T14:10:00.00Z
                        updated_at: 2021-07-21T14:10:00.00Z
                        first_name: Karl
                        last_name: Schmidt
                        email: karl.schmidt@example.com
                        salutation: SALUTATION_MALE
                        title: DR
                        birth_date: 1972-09-30
                        birth_city: Berlin
                        birth_country: DE
                        birth_name: Schmidt
                        nationalities:
                          - DE
                          - AU
                        phone_number: "4930901820"
                        postal_address: null
                        address:
                          address_line1: Rosenweg 221
                          address_line2: apt. 33
                          postcode: "45678"
                          city: Berlin
                          state: BE
                          country: DE
                        fatca:
                          status: false
                          confirmed_at: 2020-08-24T14:15:22Z
                        terms_and_conditions:
                          consent_document_id: a8a87268-4f3c-4de2-abb9-a553a3bb7608
                          confirmed_at: 2020-08-24T14:14:22Z
                        data_privacy_and_sharing_agreement:
                          consent_document_id: fb1827c3-2b29-47e1-84da-996d09517edc
                          confirmed_at: 2020-08-24T14:16:22Z
                        status: ACTIVE
                empty:
                  summary: Empty users list
                  value:
                    meta:
                      offset: 0
                      limit: 100
                      count: 0
                      total_count: 0
                      sort: id
                      order: ASC
                    data: []
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    post:
      operationId: create_user
      summary: Create a user
      description: Creates a user.
      tags:
        - Users
      security:
        - oauth-client-credentials:
            - users:admin
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      requestBody:
        content:
          application/json:
            schema:
              title: User - Create - Request
              anyOf:
                - title: User (BYOL) - Create - Request
                  type: object
                  properties:
                    first_name:
                      type: string
                      maxLength: 100
                      minLength: 2
                      description: First name of the user.
                    last_name:
                      type: string
                      maxLength: 100
                      minLength: 2
                      description: Last name of the user.
                    salutation:
                      type: string
                      description: "Salutation of the user used in reports and statements.\n* (empty string) - \n* SALUTATION_MALE - \n* SALUTATION_FEMALE - \n* SALUTATION_FEMALE_MARRIED - \n* SALUTATION_DIVERSE - "
                      enum:
                        - ""
                        - SALUTATION_MALE
                        - SALUTATION_FEMALE
                        - SALUTATION_FEMALE_MARRIED
                        - SALUTATION_DIVERSE
                      default: ""
                    title:
                      type: string
                      description: "Title of the user used in reports and statements.\n* (empty string) - \n* DR - Doctor\n* PROF - Professor\n* PROF_DR - \n* DIPL_ING - Graduate engineer (Diplom-Ingenieur)\n* MAGISTER - "
                      enum:
                        - ""
                        - DR
                        - PROF
                        - PROF_DR
                        - DIPL_ING
                        - MAGISTER
                      default: ""
                    birth_date:
                      type: string
                      format: date
                      description: Birth date of the user in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339)
                    birth_city:
                      title: City name
                      type: string
                      minLength: 1
                      maxLength: 85
                    birth_country:
                      description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                      type: string
                      pattern: ^[A-Z]{2}$
                    birth_name:
                      type: string
                      maxLength: 100
                      description: If applicable, birth name of the user.
                    nationalities:
                      type: array
                      items:
                        description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                        type: string
                        pattern: ^[A-Z]{2}$
                      minItems: 1
                      description: Nationalities of the user. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                    address:
                      title: Address
                      type: object
                      description: Address. Must not be a P.O. box or c/o address.
                      properties:
                        address_line1:
                          type: string
                          description: First address line of the address.
                          maxLength: 100
                        address_line2:
                          type: string
                          description: Second address line of the address.
                          maxLength: 100
                        postcode:
                          title: Postal code
                          type: string
                          description: Postal code (postcode, PIN or ZIP code)
                          pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                        country:
                          description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                          type: string
                          pattern: ^[A-Z]{2}$
                        state:
                          description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                          type: string
                          maxLength: 50
                        city:
                          title: City name
                          type: string
                          minLength: 1
                          maxLength: 85
                      required:
                        - address_line1
                        - postcode
                        - country
                        - city
                    postal_address:
                      description: User postal address. Needs to be specified if different to the residential address, otherwise it is automatically populated.
                      oneOf:
                        - title: Address
                          type: object
                          description: Address. Must not be a P.O. box or c/o address.
                          properties:
                            address_line1:
                              type: string
                              description: First address line of the address.
                              maxLength: 100
                            address_line2:
                              type: string
                              description: Second address line of the address.
                              maxLength: 100
                            postcode:
                              title: Postal code
                              type: string
                              description: Postal code (postcode, PIN or ZIP code)
                              pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                            country:
                              description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              pattern: ^[A-Z]{2}$
                            state:
                              description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              maxLength: 50
                            city:
                              title: City name
                              type: string
                              minLength: 1
                              maxLength: 85
                          required:
                            - address_line1
                            - postcode
                            - country
                            - city
                        - type: "null"
                  required:
                    - first_name
                    - last_name
                    - birth_date
                    - nationalities
                    - address
                  additionalProperties: false
                - title: User (TOL) - Create - Request
                  type: object
                  properties:
                    first_name:
                      type: string
                      maxLength: 100
                      minLength: 2
                      description: First name of the user.
                    last_name:
                      type: string
                      maxLength: 100
                      minLength: 2
                      description: Last name of the user.
                    email:
                      type: string
                      format: email
                      maxLength: 100
                      description: Email of the user. Must be a valid email address.
                    salutation:
                      type: string
                      description: "Salutation of the user used in reports and statements.\n* (empty string) - \n* SALUTATION_MALE - \n* SALUTATION_FEMALE - \n* SALUTATION_FEMALE_MARRIED - \n* SALUTATION_DIVERSE - "
                      enum:
                        - ""
                        - SALUTATION_MALE
                        - SALUTATION_FEMALE
                        - SALUTATION_FEMALE_MARRIED
                        - SALUTATION_DIVERSE
                      default: ""
                    title:
                      type: string
                      description: "Title of the user used in reports and statements.\n* (empty string) - \n* DR - Doctor\n* PROF - Professor\n* PROF_DR - \n* DIPL_ING - Graduate engineer (Diplom-Ingenieur)\n* MAGISTER - "
                      enum:
                        - ""
                        - DR
                        - PROF
                        - PROF_DR
                        - DIPL_ING
                        - MAGISTER
                      default: ""
                    birth_date:
                      type: string
                      format: date
                      description: Birth date of the user in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339)
                    birth_city:
                      title: City name
                      type: string
                      minLength: 1
                      maxLength: 85
                    birth_country:
                      description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                      type: string
                      pattern: ^[A-Z]{2}$
                    birth_name:
                      type: string
                      maxLength: 100
                      description: If applicable, birth name of the user.
                    nationalities:
                      type: array
                      items:
                        description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                        type: string
                        pattern: ^[A-Z]{2}$
                      minItems: 1
                      description: Nationalities of the user. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                    phone_number:
                      type: string
                      pattern: ^([0-9]{8,15})?$
                      description: Phone number of the user. [Phone number E.164 format](https://en.wikipedia.org/wiki/E.164).
                    address:
                      title: Address
                      type: object
                      description: Address. Must not be a P.O. box or c/o address.
                      properties:
                        address_line1:
                          type: string
                          description: First address line of the address.
                          maxLength: 100
                        address_line2:
                          type: string
                          description: Second address line of the address.
                          maxLength: 100
                        postcode:
                          title: Postal code
                          type: string
                          description: Postal code (postcode, PIN or ZIP code)
                          pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                        country:
                          description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                          type: string
                          pattern: ^[A-Z]{2}$
                        state:
                          description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                          type: string
                          maxLength: 50
                        city:
                          title: City name
                          type: string
                          minLength: 1
                          maxLength: 85
                      required:
                        - address_line1
                        - postcode
                        - country
                        - city
                    postal_address:
                      description: User postal address. Needs to be specified if different to the residential address, otherwise it is automatically populated.
                      oneOf:
                        - title: Address
                          type: object
                          description: Address. Must not be a P.O. box or c/o address.
                          properties:
                            address_line1:
                              type: string
                              description: First address line of the address.
                              maxLength: 100
                            address_line2:
                              type: string
                              description: Second address line of the address.
                              maxLength: 100
                            postcode:
                              title: Postal code
                              type: string
                              description: Postal code (postcode, PIN or ZIP code)
                              pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                            country:
                              description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              pattern: ^[A-Z]{2}$
                            state:
                              description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              maxLength: 50
                            city:
                              title: City name
                              type: string
                              minLength: 1
                              maxLength: 85
                          required:
                            - address_line1
                            - postcode
                            - country
                            - city
                        - type: "null"
                    fatca:
                      type: object
                      properties:
                        status:
                          type: boolean
                          description: The user’s FATCA status is true if the user is subject to paying taxes in the US, otherwise it can be set to false.
                        confirmed_at:
                          type: string
                          format: date-time
                          description: Timestamp at which the user confirmed their FATCA status. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                      required:
                        - status
                        - confirmed_at
                    terms_and_conditions:
                      type: object
                      properties:
                        consent_document_id:
                          title: Consent unique identifier.
                          type: string
                          description: Consent unique identifier.
                          format: uuid
                        confirmed_at:
                          type: string
                          format: date-time
                          description: Timestamp at which the user consented to the terms & conditions. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                      required:
                        - consent_document_id
                        - confirmed_at
                    data_privacy_and_sharing_agreement:
                      type: object
                      properties:
                        consent_document_id:
                          title: Consent unique identifier.
                          type: string
                          description: Consent unique identifier.
                          format: uuid
                        confirmed_at:
                          type: string
                          format: date-time
                          description: Timestamp at which the user consented to the data sharing agreement. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                      required:
                        - consent_document_id
                        - confirmed_at
                  required:
                    - first_name
                    - last_name
                    - email
                    - birth_date
                    - birth_city
                    - birth_country
                    - nationalities
                    - address
                    - fatca
                    - terms_and_conditions
                    - data_privacy_and_sharing_agreement
                  additionalProperties: false
            examples:
              BYOL:
                summary: BYOL user
                value:
                  first_name: Karl
                  last_name: Schmidt
                  salutation: SALUTATION_MALE
                  title: DR
                  birth_date: 1972-09-30
                  birth_city: Berlin
                  birth_country: DE
                  birth_name: Schmidt
                  nationalities:
                    - DE
                    - AU
                  postal_address:
                    address_line1: Rosenweg 221
                    address_line2: apt. 33
                    postcode: "45678"
                    city: Berlin
                    state: BE
                    country: DE
                  address:
                    address_line1: Rosenweg 221
                    address_line2: apt. 33
                    postcode: "45678"
                    city: Berlin
                    state: BE
                    country: DE
              TOL:
                summary: TOL user
                value:
                  first_name: Karl
                  last_name: Schmidt
                  email: karl.schmidt@example.com
                  salutation: SALUTATION_MALE
                  title: DR
                  birth_date: 1972-09-30
                  birth_city: Berlin
                  birth_country: DE
                  birth_name: Schmidt
                  nationalities:
                    - DE
                    - AU
                  phone_number: "4930901820"
                  postal_address:
                    address_line1: Rosenweg 221
                    address_line2: apt. 33
                    postcode: "45678"
                    city: Berlin
                    state: BE
                    country: DE
                  address:
                    address_line1: Rosenweg 221
                    address_line2: apt. 33
                    postcode: "45678"
                    city: Berlin
                    state: BE
                    country: DE
                  fatca:
                    status: false
                    confirmed_at: 2020-08-24T14:15:22Z
                  terms_and_conditions:
                    consent_document_id: a8a87268-4f3c-4de2-abb9-a553a3bb7608
                    confirmed_at: 2020-08-24T14:14:22Z
                  data_privacy_and_sharing_agreement:
                    consent_document_id: fb1827c3-2b29-47e1-84da-996d09517edc
                    confirmed_at: 2020-08-24T14:16:22Z
      responses:
        "200":
          description: User created.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: User - Create - Request
                anyOf:
                  - title: User (BYOL)
                    type: object
                    properties:
                      id:
                        title: User unique identifier.
                        type: string
                        description: User unique identifier.
                        format: uuid
                      created_at:
                        type: string
                        format: date-time
                        description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                      updated_at:
                        type: string
                        format: date-time
                        description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                      first_name:
                        type: string
                        maxLength: 100
                        minLength: 2
                        description: First name of the user.
                      last_name:
                        type: string
                        maxLength: 100
                        minLength: 2
                        description: Last name of the user.
                      salutation:
                        type: string
                        description: "Salutation of the user used in reports and statements.\n* (empty string) - \n* SALUTATION_MALE - \n* SALUTATION_FEMALE - \n* SALUTATION_FEMALE_MARRIED - \n* SALUTATION_DIVERSE - "
                        enum:
                          - ""
                          - SALUTATION_MALE
                          - SALUTATION_FEMALE
                          - SALUTATION_FEMALE_MARRIED
                          - SALUTATION_DIVERSE
                        default: ""
                      title:
                        type: string
                        description: "Title of the user used in reports and statements.\n* (empty string) - \n* DR - Doctor\n* PROF - Professor\n* PROF_DR - \n* DIPL_ING - Graduate engineer (Diplom-Ingenieur)\n* MAGISTER - "
                        enum:
                          - ""
                          - DR
                          - PROF
                          - PROF_DR
                          - DIPL_ING
                          - MAGISTER
                        default: ""
                      birth_date:
                        type: string
                        format: date
                        description: Birth date of the user in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339)
                      birth_city:
                        title: City name
                        type: string
                        minLength: 1
                        maxLength: 85
                      birth_country:
                        description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                        type: string
                        pattern: ^[A-Z]{2}$
                      birth_name:
                        type: string
                        maxLength: 100
                        description: If applicable, birth name of the user.
                      nationalities:
                        type: array
                        items:
                          description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                          type: string
                          pattern: ^[A-Z]{2}$
                        minItems: 1
                        description: Nationalities of the user. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                      address:
                        title: Address
                        type: object
                        description: Address. Must not be a P.O. box or c/o address.
                        properties:
                          address_line1:
                            type: string
                            description: First address line of the address.
                            maxLength: 100
                          address_line2:
                            type: string
                            description: Second address line of the address.
                            maxLength: 100
                          postcode:
                            title: Postal code
                            type: string
                            description: Postal code (postcode, PIN or ZIP code)
                            pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                          country:
                            description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                            type: string
                            pattern: ^[A-Z]{2}$
                          state:
                            description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                            type: string
                            maxLength: 50
                          city:
                            title: City name
                            type: string
                            minLength: 1
                            maxLength: 85
                        required:
                          - address_line1
                          - postcode
                          - country
                          - city
                      postal_address:
                        description: User postal address. Needs to be specified if different to the residential address, otherwise it is automatically populated.
                        oneOf:
                          - title: Address
                            type: object
                            description: Address. Must not be a P.O. box or c/o address.
                            properties:
                              address_line1:
                                type: string
                                description: First address line of the address.
                                maxLength: 100
                              address_line2:
                                type: string
                                description: Second address line of the address.
                                maxLength: 100
                              postcode:
                                title: Postal code
                                type: string
                                description: Postal code (postcode, PIN or ZIP code)
                                pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                              country:
                                description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                type: string
                                pattern: ^[A-Z]{2}$
                              state:
                                description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                type: string
                                maxLength: 50
                              city:
                                title: City name
                                type: string
                                minLength: 1
                                maxLength: 85
                            required:
                              - address_line1
                              - postcode
                              - country
                              - city
                          - type: "null"
                      status:
                        type: string
                        description: "Status of the user.\n* ACTIVE - \n* INACTIVE - \n* OFFBOARDING - \n* OFFBOARDED - "
                        enum:
                          - ACTIVE
                          - INACTIVE
                          - OFFBOARDING
                          - OFFBOARDED
                    required:
                      - id
                      - created_at
                      - updated_at
                      - first_name
                      - last_name
                      - birth_date
                      - nationalities
                      - address
                      - status
                    additionalProperties: false
                  - title: User (TOL)
                    type: object
                    properties:
                      id:
                        title: User unique identifier.
                        type: string
                        description: User unique identifier.
                        format: uuid
                      created_at:
                        type: string
                        format: date-time
                        description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                      updated_at:
                        type: string
                        format: date-time
                        description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                      first_name:
                        type: string
                        maxLength: 100
                        minLength: 2
                        description: First name of the user.
                      last_name:
                        type: string
                        maxLength: 100
                        minLength: 2
                        description: Last name of the user.
                      salutation:
                        type: string
                        description: "Salutation of the user used in reports and statements.\n* (empty string) - \n* SALUTATION_MALE - \n* SALUTATION_FEMALE - \n* SALUTATION_FEMALE_MARRIED - \n* SALUTATION_DIVERSE - "
                        enum:
                          - ""
                          - SALUTATION_MALE
                          - SALUTATION_FEMALE
                          - SALUTATION_FEMALE_MARRIED
                          - SALUTATION_DIVERSE
                        default: ""
                      title:
                        type: string
                        description: "Title of the user used in reports and statements.\n* (empty string) - \n* DR - Doctor\n* PROF - Professor\n* PROF_DR - \n* DIPL_ING - Graduate engineer (Diplom-Ingenieur)\n* MAGISTER - "
                        enum:
                          - ""
                          - DR
                          - PROF
                          - PROF_DR
                          - DIPL_ING
                          - MAGISTER
                        default: ""
                      birth_date:
                        type: string
                        format: date
                        description: Birth date of the user in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339)
                      birth_city:
                        title: City name
                        type: string
                        minLength: 1
                        maxLength: 85
                      birth_country:
                        description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                        type: string
                        pattern: ^[A-Z]{2}$
                      birth_name:
                        type: string
                        maxLength: 100
                        description: If applicable, birth name of the user.
                      nationalities:
                        type: array
                        items:
                          description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                          type: string
                          pattern: ^[A-Z]{2}$
                        minItems: 1
                        description: Nationalities of the user. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                      address:
                        title: Address
                        type: object
                        description: Address. Must not be a P.O. box or c/o address.
                        properties:
                          address_line1:
                            type: string
                            description: First address line of the address.
                            maxLength: 100
                          address_line2:
                            type: string
                            description: Second address line of the address.
                            maxLength: 100
                          postcode:
                            title: Postal code
                            type: string
                            description: Postal code (postcode, PIN or ZIP code)
                            pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                          country:
                            description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                            type: string
                            pattern: ^[A-Z]{2}$
                          state:
                            description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                            type: string
                            maxLength: 50
                          city:
                            title: City name
                            type: string
                            minLength: 1
                            maxLength: 85
                        required:
                          - address_line1
                          - postcode
                          - country
                          - city
                      postal_address:
                        description: User postal address. Needs to be specified if different to the residential address, otherwise it is automatically populated.
                        oneOf:
                          - title: Address
                            type: object
                            description: Address. Must not be a P.O. box or c/o address.
                            properties:
                              address_line1:
                                type: string
                                description: First address line of the address.
                                maxLength: 100
                              address_line2:
                                type: string
                                description: Second address line of the address.
                                maxLength: 100
                              postcode:
                                title: Postal code
                                type: string
                                description: Postal code (postcode, PIN or ZIP code)
                                pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                              country:
                                description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                type: string
                                pattern: ^[A-Z]{2}$
                              state:
                                description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                type: string
                                maxLength: 50
                              city:
                                title: City name
                                type: string
                                minLength: 1
                                maxLength: 85
                            required:
                              - address_line1
                              - postcode
                              - country
                              - city
                          - type: "null"
                      status:
                        type: string
                        description: "Status of the user.\n* ACTIVE - \n* INACTIVE - \n* OFFBOARDING - \n* OFFBOARDED - "
                        enum:
                          - ACTIVE
                          - INACTIVE
                          - OFFBOARDING
                          - OFFBOARDED
                      email:
                        type: string
                        format: email
                        maxLength: 100
                        description: Email of the user. Must be a valid email address.
                      phone_number:
                        type: string
                        pattern: ^([0-9]{8,15})?$
                        description: Phone number of the user. [Phone number E.164 format](https://en.wikipedia.org/wiki/E.164).
                      fatca:
                        type: object
                        properties:
                          status:
                            type: boolean
                            description: The user’s FATCA status is true if the user is subject to paying taxes in the US, otherwise it can be set to false.
                          confirmed_at:
                            type: string
                            format: date-time
                            description: Timestamp at which the user confirmed their FATCA status. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        required:
                          - status
                          - confirmed_at
                      terms_and_conditions:
                        type: object
                        properties:
                          consent_document_id:
                            title: Consent unique identifier.
                            type: string
                            description: Consent unique identifier.
                            format: uuid
                          confirmed_at:
                            type: string
                            format: date-time
                            description: Timestamp at which the user consented to the terms & conditions. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        required:
                          - consent_document_id
                          - confirmed_at
                      data_privacy_and_sharing_agreement:
                        type: object
                        properties:
                          consent_document_id:
                            title: Consent unique identifier.
                            type: string
                            description: Consent unique identifier.
                            format: uuid
                          confirmed_at:
                            type: string
                            format: date-time
                            description: Timestamp at which the user consented to the data sharing agreement. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        required:
                          - consent_document_id
                          - confirmed_at
                    required:
                      - id
                      - created_at
                      - updated_at
                      - first_name
                      - last_name
                      - birth_date
                      - nationalities
                      - address
                      - status
                    additionalProperties: false
              examples:
                BYOL:
                  summary: BYOL User
                  value:
                    id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
                    created_at: 2021-07-21T14:10:00.00Z
                    updated_at: 2021-07-21T14:10:00.00Z
                    first_name: Karl
                    last_name: Schmidt
                    salutation: SALUTATION_MALE
                    title: DR
                    birth_date: 1972-09-30
                    birth_city: Berlin
                    birth_country: DE
                    birth_name: Schmidt
                    nationalities:
                      - DE
                      - AU
                    postal_address:
                      address_line1: Rosenweg 221
                      address_line2: apt. 33
                      postcode: "45678"
                      city: Berlin
                      state: BE
                      country: DE
                    address:
                      address_line1: Rosenweg 221
                      address_line2: apt. 33
                      postcode: "45678"
                      city: Berlin
                      state: BE
                      country: DE
                    status: ACTIVE
                TOL:
                  summary: TOL User
                  value:
                    id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
                    created_at: 2021-07-21T14:10:00.00Z
                    updated_at: 2021-07-21T14:10:00.00Z
                    first_name: Karl
                    last_name: Schmidt
                    email: karl.schmidt@example.com
                    salutation: SALUTATION_MALE
                    title: DR
                    birth_date: 1972-09-30
                    birth_city: Berlin
                    birth_country: DE
                    birth_name: Schmidt
                    nationalities:
                      - DE
                      - AU
                    phone_number: "4930901820"
                    postal_address:
                      address_line1: Rosenweg 221
                      address_line2: apt. 33
                      postcode: "45678"
                      city: Berlin
                      state: BE
                      country: DE
                    address:
                      address_line1: Rosenweg 221
                      address_line2: apt. 33
                      postcode: "45678"
                      city: Berlin
                      state: BE
                      country: DE
                    fatca:
                      status: false
                      confirmed_at: 2020-08-24T14:15:22Z
                    terms_and_conditions:
                      consent_document_id: a8a87268-4f3c-4de2-abb9-a553a3bb7608
                      confirmed_at: 2020-08-24T14:14:22Z
                    data_privacy_and_sharing_agreement:
                      consent_document_id: fb1827c3-2b29-47e1-84da-996d09517edc
                      confirmed_at: 2020-08-24T14:16:22Z
                    status: ACTIVE
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/users/{user_id}":
    parameters:
      - $ref: "#/components/parameters/userID"
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_user
      summary: Get a user by ID
      description: Returns the user specified by ID.
      tags:
        - Users
      security:
        - oauth-client-credentials:
            - users:read
            - users:admin
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: User - Get - Response
                anyOf:
                  - title: User (BYOL)
                    type: object
                    properties:
                      id:
                        title: User unique identifier.
                        type: string
                        description: User unique identifier.
                        format: uuid
                      created_at:
                        type: string
                        format: date-time
                        description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                      updated_at:
                        type: string
                        format: date-time
                        description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                      first_name:
                        type: string
                        maxLength: 100
                        minLength: 2
                        description: First name of the user.
                      last_name:
                        type: string
                        maxLength: 100
                        minLength: 2
                        description: Last name of the user.
                      salutation:
                        type: string
                        description: "Salutation of the user used in reports and statements.\n* (empty string) - \n* SALUTATION_MALE - \n* SALUTATION_FEMALE - \n* SALUTATION_FEMALE_MARRIED - \n* SALUTATION_DIVERSE - "
                        enum:
                          - ""
                          - SALUTATION_MALE
                          - SALUTATION_FEMALE
                          - SALUTATION_FEMALE_MARRIED
                          - SALUTATION_DIVERSE
                        default: ""
                      title:
                        type: string
                        description: "Title of the user used in reports and statements.\n* (empty string) - \n* DR - Doctor\n* PROF - Professor\n* PROF_DR - \n* DIPL_ING - Graduate engineer (Diplom-Ingenieur)\n* MAGISTER - "
                        enum:
                          - ""
                          - DR
                          - PROF
                          - PROF_DR
                          - DIPL_ING
                          - MAGISTER
                        default: ""
                      birth_date:
                        type: string
                        format: date
                        description: Birth date of the user in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339)
                      birth_city:
                        title: City name
                        type: string
                        minLength: 1
                        maxLength: 85
                      birth_country:
                        description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                        type: string
                        pattern: ^[A-Z]{2}$
                      birth_name:
                        type: string
                        maxLength: 100
                        description: If applicable, birth name of the user.
                      nationalities:
                        type: array
                        items:
                          description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                          type: string
                          pattern: ^[A-Z]{2}$
                        minItems: 1
                        description: Nationalities of the user. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                      address:
                        title: Address
                        type: object
                        description: Address. Must not be a P.O. box or c/o address.
                        properties:
                          address_line1:
                            type: string
                            description: First address line of the address.
                            maxLength: 100
                          address_line2:
                            type: string
                            description: Second address line of the address.
                            maxLength: 100
                          postcode:
                            title: Postal code
                            type: string
                            description: Postal code (postcode, PIN or ZIP code)
                            pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                          country:
                            description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                            type: string
                            pattern: ^[A-Z]{2}$
                          state:
                            description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                            type: string
                            maxLength: 50
                          city:
                            title: City name
                            type: string
                            minLength: 1
                            maxLength: 85
                        required:
                          - address_line1
                          - postcode
                          - country
                          - city
                      postal_address:
                        description: User postal address. Needs to be specified if different to the residential address, otherwise it is automatically populated.
                        oneOf:
                          - title: Address
                            type: object
                            description: Address. Must not be a P.O. box or c/o address.
                            properties:
                              address_line1:
                                type: string
                                description: First address line of the address.
                                maxLength: 100
                              address_line2:
                                type: string
                                description: Second address line of the address.
                                maxLength: 100
                              postcode:
                                title: Postal code
                                type: string
                                description: Postal code (postcode, PIN or ZIP code)
                                pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                              country:
                                description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                type: string
                                pattern: ^[A-Z]{2}$
                              state:
                                description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                type: string
                                maxLength: 50
                              city:
                                title: City name
                                type: string
                                minLength: 1
                                maxLength: 85
                            required:
                              - address_line1
                              - postcode
                              - country
                              - city
                          - type: "null"
                      status:
                        type: string
                        description: "Status of the user.\n* ACTIVE - \n* INACTIVE - \n* OFFBOARDING - \n* OFFBOARDED - "
                        enum:
                          - ACTIVE
                          - INACTIVE
                          - OFFBOARDING
                          - OFFBOARDED
                    required:
                      - id
                      - created_at
                      - updated_at
                      - first_name
                      - last_name
                      - birth_date
                      - nationalities
                      - address
                      - status
                    additionalProperties: false
                  - title: User (TOL)
                    type: object
                    properties:
                      id:
                        title: User unique identifier.
                        type: string
                        description: User unique identifier.
                        format: uuid
                      created_at:
                        type: string
                        format: date-time
                        description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                      updated_at:
                        type: string
                        format: date-time
                        description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                      first_name:
                        type: string
                        maxLength: 100
                        minLength: 2
                        description: First name of the user.
                      last_name:
                        type: string
                        maxLength: 100
                        minLength: 2
                        description: Last name of the user.
                      salutation:
                        type: string
                        description: "Salutation of the user used in reports and statements.\n* (empty string) - \n* SALUTATION_MALE - \n* SALUTATION_FEMALE - \n* SALUTATION_FEMALE_MARRIED - \n* SALUTATION_DIVERSE - "
                        enum:
                          - ""
                          - SALUTATION_MALE
                          - SALUTATION_FEMALE
                          - SALUTATION_FEMALE_MARRIED
                          - SALUTATION_DIVERSE
                        default: ""
                      title:
                        type: string
                        description: "Title of the user used in reports and statements.\n* (empty string) - \n* DR - Doctor\n* PROF - Professor\n* PROF_DR - \n* DIPL_ING - Graduate engineer (Diplom-Ingenieur)\n* MAGISTER - "
                        enum:
                          - ""
                          - DR
                          - PROF
                          - PROF_DR
                          - DIPL_ING
                          - MAGISTER
                        default: ""
                      birth_date:
                        type: string
                        format: date
                        description: Birth date of the user in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339)
                      birth_city:
                        title: City name
                        type: string
                        minLength: 1
                        maxLength: 85
                      birth_country:
                        description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                        type: string
                        pattern: ^[A-Z]{2}$
                      birth_name:
                        type: string
                        maxLength: 100
                        description: If applicable, birth name of the user.
                      nationalities:
                        type: array
                        items:
                          description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                          type: string
                          pattern: ^[A-Z]{2}$
                        minItems: 1
                        description: Nationalities of the user. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                      address:
                        title: Address
                        type: object
                        description: Address. Must not be a P.O. box or c/o address.
                        properties:
                          address_line1:
                            type: string
                            description: First address line of the address.
                            maxLength: 100
                          address_line2:
                            type: string
                            description: Second address line of the address.
                            maxLength: 100
                          postcode:
                            title: Postal code
                            type: string
                            description: Postal code (postcode, PIN or ZIP code)
                            pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                          country:
                            description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                            type: string
                            pattern: ^[A-Z]{2}$
                          state:
                            description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                            type: string
                            maxLength: 50
                          city:
                            title: City name
                            type: string
                            minLength: 1
                            maxLength: 85
                        required:
                          - address_line1
                          - postcode
                          - country
                          - city
                      postal_address:
                        description: User postal address. Needs to be specified if different to the residential address, otherwise it is automatically populated.
                        oneOf:
                          - title: Address
                            type: object
                            description: Address. Must not be a P.O. box or c/o address.
                            properties:
                              address_line1:
                                type: string
                                description: First address line of the address.
                                maxLength: 100
                              address_line2:
                                type: string
                                description: Second address line of the address.
                                maxLength: 100
                              postcode:
                                title: Postal code
                                type: string
                                description: Postal code (postcode, PIN or ZIP code)
                                pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                              country:
                                description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                type: string
                                pattern: ^[A-Z]{2}$
                              state:
                                description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                type: string
                                maxLength: 50
                              city:
                                title: City name
                                type: string
                                minLength: 1
                                maxLength: 85
                            required:
                              - address_line1
                              - postcode
                              - country
                              - city
                          - type: "null"
                      status:
                        type: string
                        description: "Status of the user.\n* ACTIVE - \n* INACTIVE - \n* OFFBOARDING - \n* OFFBOARDED - "
                        enum:
                          - ACTIVE
                          - INACTIVE
                          - OFFBOARDING
                          - OFFBOARDED
                      email:
                        type: string
                        format: email
                        maxLength: 100
                        description: Email of the user. Must be a valid email address.
                      phone_number:
                        type: string
                        pattern: ^([0-9]{8,15})?$
                        description: Phone number of the user. [Phone number E.164 format](https://en.wikipedia.org/wiki/E.164).
                      fatca:
                        type: object
                        properties:
                          status:
                            type: boolean
                            description: The user’s FATCA status is true if the user is subject to paying taxes in the US, otherwise it can be set to false.
                          confirmed_at:
                            type: string
                            format: date-time
                            description: Timestamp at which the user confirmed their FATCA status. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        required:
                          - status
                          - confirmed_at
                      terms_and_conditions:
                        type: object
                        properties:
                          consent_document_id:
                            title: Consent unique identifier.
                            type: string
                            description: Consent unique identifier.
                            format: uuid
                          confirmed_at:
                            type: string
                            format: date-time
                            description: Timestamp at which the user consented to the terms & conditions. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        required:
                          - consent_document_id
                          - confirmed_at
                      data_privacy_and_sharing_agreement:
                        type: object
                        properties:
                          consent_document_id:
                            title: Consent unique identifier.
                            type: string
                            description: Consent unique identifier.
                            format: uuid
                          confirmed_at:
                            type: string
                            format: date-time
                            description: Timestamp at which the user consented to the data sharing agreement. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        required:
                          - consent_document_id
                          - confirmed_at
                    required:
                      - id
                      - created_at
                      - updated_at
                      - first_name
                      - last_name
                      - birth_date
                      - nationalities
                      - address
                      - status
                    additionalProperties: false
              examples:
                BYOL:
                  summary: BYOL user
                  value:
                    id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
                    created_at: 2021-07-21T14:10:00.00Z
                    updated_at: 2021-07-21T14:10:00.00Z
                    first_name: Karl
                    last_name: Schmidt
                    salutation: SALUTATION_MALE
                    title: DR
                    birth_date: 1972-09-30
                    birth_city: Berlin
                    birth_country: DE
                    birth_name: Schmidt
                    nationalities:
                      - DE
                      - AU
                    postal_address:
                      address_line1: Rosenweg 221
                      address_line2: apt. 33
                      postcode: "45678"
                      city: Berlin
                      state: BE
                      country: DE
                    address:
                      address_line1: Rosenweg 221
                      address_line2: apt. 33
                      postcode: "45678"
                      city: Berlin
                      state: BE
                      country: DE
                    status: ACTIVE
                TOL:
                  summary: TOL user
                  value:
                    id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
                    created_at: 2021-07-21T14:10:00.00Z
                    updated_at: 2021-07-21T14:10:00.00Z
                    first_name: Karl
                    last_name: Schmidt
                    email: karl.schmidt@example.com
                    salutation: SALUTATION_MALE
                    title: DR
                    birth_date: 1972-09-30
                    birth_city: Berlin
                    birth_country: DE
                    birth_name: Schmidt
                    nationalities:
                      - DE
                      - AU
                    phone_number: "4930901820"
                    postal_address:
                      address_line1: Rosenweg 221
                      address_line2: apt. 33
                      postcode: "45678"
                      city: Berlin
                      state: BE
                      country: DE
                    address:
                      address_line1: Rosenweg 221
                      address_line2: apt. 33
                      postcode: "45678"
                      city: Berlin
                      state: BE
                      country: DE
                    fatca:
                      status: false
                      confirmed_at: 2020-08-24T14:15:22Z
                    terms_and_conditions:
                      consent_document_id: a8a87268-4f3c-4de2-abb9-a553a3bb7608
                      confirmed_at: 2020-08-24T14:14:22Z
                    data_privacy_and_sharing_agreement:
                      consent_document_id: fb1827c3-2b29-47e1-84da-996d09517edc
                      confirmed_at: 2020-08-24T14:16:22Z
                    status: ACTIVE
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    delete:
      operationId: offboard_user
      summary: Offboard a user
      description: Starts the user offboarding process in the background.
      tags:
        - Users
      security:
        - oauth-client-credentials:
            - users:admin
      responses:
        "202":
          description: The request has been successfully accepted and will be processed asynchronously.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/users/{user_id}/data_change_requests":
    parameters:
      - $ref: "#/components/parameters/userID"
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    post:
      operationId: user_data_change
      summary: Change user data
      description: Requests a data change for a user specified by ID.
      tags:
        - Users
      security:
        - oauth-client-credentials:
            - users:admin
      requestBody:
        content:
          application/json:
            schema:
              title: User - Data Change - Request
              anyOf:
                - title: User (BYOL) - Data Change Request
                  type: object
                  properties:
                    first_name:
                      type: string
                      maxLength: 100
                      minLength: 2
                      description: First name of the user.
                    last_name:
                      type: string
                      maxLength: 100
                      minLength: 2
                      description: Last name of the user.
                    salutation:
                      type: string
                      description: "Salutation of the user used in reports and statements.\n* (empty string) - \n* SALUTATION_MALE - \n* SALUTATION_FEMALE - \n* SALUTATION_FEMALE_MARRIED - \n* SALUTATION_DIVERSE - "
                      enum:
                        - ""
                        - SALUTATION_MALE
                        - SALUTATION_FEMALE
                        - SALUTATION_FEMALE_MARRIED
                        - SALUTATION_DIVERSE
                      default: ""
                    title:
                      type: string
                      description: "Title of the user used in reports and statements.\n* (empty string) - \n* DR - Doctor\n* PROF - Professor\n* PROF_DR - \n* DIPL_ING - Graduate engineer (Diplom-Ingenieur)\n* MAGISTER - "
                      enum:
                        - ""
                        - DR
                        - PROF
                        - PROF_DR
                        - DIPL_ING
                        - MAGISTER
                      default: ""
                    birth_date:
                      type: string
                      format: date
                      description: Birth date of the user in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339)
                    birth_city:
                      title: City name
                      type: string
                      minLength: 1
                      maxLength: 85
                    birth_country:
                      description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                      type: string
                      pattern: ^[A-Z]{2}$
                    birth_name:
                      type: string
                      maxLength: 100
                      description: If applicable, birth name of the user.
                    nationalities:
                      type: array
                      items:
                        description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                        type: string
                        pattern: ^[A-Z]{2}$
                      minItems: 1
                      description: Nationalities of the user. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                    address:
                      title: Address
                      type: object
                      description: Address. Must not be a P.O. box or c/o address.
                      properties:
                        address_line1:
                          type: string
                          description: First address line of the address.
                          maxLength: 100
                        address_line2:
                          type: string
                          description: Second address line of the address.
                          maxLength: 100
                        postcode:
                          title: Postal code
                          type: string
                          description: Postal code (postcode, PIN or ZIP code)
                          pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                        country:
                          description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                          type: string
                          pattern: ^[A-Z]{2}$
                        state:
                          description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                          type: string
                          maxLength: 50
                        city:
                          title: City name
                          type: string
                          minLength: 1
                          maxLength: 85
                      required:
                        - address_line1
                        - postcode
                        - country
                        - city
                    postal_address:
                      description: User postal address. Needs to be specified if different to the residential address, otherwise it is automatically populated.
                      oneOf:
                        - title: Address
                          type: object
                          description: Address. Must not be a P.O. box or c/o address.
                          properties:
                            address_line1:
                              type: string
                              description: First address line of the address.
                              maxLength: 100
                            address_line2:
                              type: string
                              description: Second address line of the address.
                              maxLength: 100
                            postcode:
                              title: Postal code
                              type: string
                              description: Postal code (postcode, PIN or ZIP code)
                              pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                            country:
                              description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              pattern: ^[A-Z]{2}$
                            state:
                              description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              maxLength: 50
                            city:
                              title: City name
                              type: string
                              minLength: 1
                              maxLength: 85
                          required:
                            - address_line1
                            - postcode
                            - country
                            - city
                        - type: "null"
                  minProperties: 1
                  additionalProperties: false
                - title: User (TOL) - Data Change Request
                  oneOf:
                    - type: object
                      title: Name change
                      properties:
                        first_name:
                          type: string
                          maxLength: 100
                          minLength: 2
                          description: First name of the user.
                        last_name:
                          type: string
                          maxLength: 100
                          minLength: 2
                          description: Last name of the user.
                        issuance_date:
                          type: string
                          format: date
                          description: Issuance date in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339)
                        data_download_link:
                          type: string
                          format: url
                          maxLength: 1000
                          description: Download link for the document that proofs data change.
                        document_type:
                          type: string
                          description: |-
                            The type of document used to proof data change
                            * PASSPORT - Passport
                            * ID_CARD - National Identification document
                          enum:
                            - PASSPORT
                            - ID_CARD
                      required:
                        - first_name
                        - last_name
                        - issuance_date
                        - data_download_link
                        - document_type
                      additionalProperties: false
                    - type: object
                      title: Other
                      properties:
                        email:
                          type: string
                          format: email
                          maxLength: 100
                          description: Email of the user. Must be a valid email address.
                        salutation:
                          type: string
                          description: "Salutation of the user used in reports and statements.\n* (empty string) - \n* SALUTATION_MALE - \n* SALUTATION_FEMALE - \n* SALUTATION_FEMALE_MARRIED - \n* SALUTATION_DIVERSE - "
                          enum:
                            - ""
                            - SALUTATION_MALE
                            - SALUTATION_FEMALE
                            - SALUTATION_FEMALE_MARRIED
                            - SALUTATION_DIVERSE
                          default: ""
                        title:
                          type: string
                          description: "Title of the user used in reports and statements.\n* (empty string) - \n* DR - Doctor\n* PROF - Professor\n* PROF_DR - \n* DIPL_ING - Graduate engineer (Diplom-Ingenieur)\n* MAGISTER - "
                          enum:
                            - ""
                            - DR
                            - PROF
                            - PROF_DR
                            - DIPL_ING
                            - MAGISTER
                          default: ""
                        phone_number:
                          type: string
                          pattern: ^([0-9]{8,15})?$
                          description: Phone number of the user. [Phone number E.164 format](https://en.wikipedia.org/wiki/E.164).
                        birth_name:
                          type: string
                          maxLength: 100
                          description: If applicable, birth name of the user.
                        postal_address:
                          description: User postal address. Needs to be specified if different to the residential address, otherwise it is automatically populated.
                          oneOf:
                            - title: Address
                              type: object
                              description: Address. Must not be a P.O. box or c/o address.
                              properties:
                                address_line1:
                                  type: string
                                  description: First address line of the address.
                                  maxLength: 100
                                address_line2:
                                  type: string
                                  description: Second address line of the address.
                                  maxLength: 100
                                postcode:
                                  title: Postal code
                                  type: string
                                  description: Postal code (postcode, PIN or ZIP code)
                                  pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                                country:
                                  description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                  type: string
                                  pattern: ^[A-Z]{2}$
                                state:
                                  description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                  type: string
                                  maxLength: 50
                                city:
                                  title: City name
                                  type: string
                                  minLength: 1
                                  maxLength: 85
                              required:
                                - address_line1
                                - postcode
                                - country
                                - city
                            - type: "null"
                      minProperties: 1
                      additionalProperties: false
                    - type: object
                      title: Nationality
                      properties:
                        nationalities:
                          type: array
                          items:
                            description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                            type: string
                            pattern: ^[A-Z]{2}$
                          minItems: 1
                          description: Nationalities of the user. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                        issuance_date:
                          type: string
                          format: date
                          description: Issuance date in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339)
                        data_download_link:
                          type: string
                          format: url
                          maxLength: 1000
                          description: Download link for the document that proofs data change.
                        document_type:
                          type: string
                          description: |-
                            The type of document used to proof data change
                            * PASSPORT - Passport
                            * ID_CARD - National Identification document
                          enum:
                            - PASSPORT
                            - ID_CARD
                      required:
                        - nationalities
                        - issuance_date
                        - data_download_link
                        - document_type
                      additionalProperties: false
                    - type: object
                      title: Address
                      properties:
                        address:
                          title: Address
                          type: object
                          description: Address. Must not be a P.O. box or c/o address.
                          properties:
                            address_line1:
                              type: string
                              description: First address line of the address.
                              maxLength: 100
                            address_line2:
                              type: string
                              description: Second address line of the address.
                              maxLength: 100
                            postcode:
                              title: Postal code
                              type: string
                              description: Postal code (postcode, PIN or ZIP code)
                              pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                            country:
                              description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              pattern: ^[A-Z]{2}$
                            state:
                              description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              maxLength: 50
                            city:
                              title: City name
                              type: string
                              minLength: 1
                              maxLength: 85
                          required:
                            - address_line1
                            - postcode
                            - country
                            - city
                        issuance_date:
                          type: string
                          format: date
                          description: Issuance date in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339)
                        data_download_link:
                          type: string
                          format: url
                          maxLength: 1000
                          description: Download link for the document that proofs data change.
                        document_type:
                          type: string
                          description: |-
                            The type of document used to proof data change
                            * UTILITY_BILL - Utility bill
                            * TELEPHONE_BILL - Telephone bill
                            * INTERNET_BILL - Internet bill
                            * BANK_STATEMENT - Bank statement
                            * REGISTRATION_CERT - Registration certificate
                            * RESIDENCE_PERMIT - Residence permit
                            * ID_CARD - National Identification document
                          enum:
                            - UTILITY_BILL
                            - TELEPHONE_BILL
                            - INTERNET_BILL
                            - BANK_STATEMENT
                            - REGISTRATION_CERT
                            - RESIDENCE_PERMIT
                            - ID_CARD
                      required:
                        - address
                        - issuance_date
                        - data_download_link
                        - document_type
                      additionalProperties: false
            examples:
              Name:
                summary: Name
                value:
                  first_name: Karl
                  last_name: Schmidt
                  issuance_date: 2030-01-01
                  data_download_link: https://bucket.customer.com/ident/user3.zip
                  document_type: ID_CARD
              TOL User Email:
                summary: Email
                value:
                  email: max@example.com
              Nationality:
                summary: Nationality
                value:
                  nationalities:
                    - DE
                  issuance_date: 2030-01-01
                  data_download_link: https://bucket.customer.com/ident/user3.zip
                  document_type: ID_CARD
              Address:
                summary: Address
                value:
                  address:
                    address_line1: Rosenweg 221
                    address_line2: apt. 33
                    postcode: "45678"
                    city: Berlin
                    state: BE
                    country: DE
                  issuance_date: 2020-01-01
                  data_download_link: https://bucket.customer.com/por/user3.zip
                  document_type: UTILITY_BILL
              BYOL User Data Change:
                summary: BYOL User Data Change
                value:
                  first_name: Karl
                  last_name: Schmidt
                  salutation: SALUTATION_MALE
                  title: PROF_DR
                  birth_date: 1972-01-30
                  birth_city: Berlin
                  birth_country: DE
                  birth_name: Schmidt
                  nationalities:
                    - DE
                    - AU
                  address:
                    address_line1: Rosenweg 221
                    address_line2: apt. 33
                    postcode: "45678"
                    city: Berlin
                    state: BE
                    country: DE
                  postal_address:
                    address_line1: Rosenweg 221
                    address_line2: apt. 33
                    postcode: "45678"
                    city: Berlin
                    state: BE
                    country: DE
      responses:
        "202":
          description: The request has been successfully accepted and will be processed asynchronously.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/users/{user_id}/checks":
    parameters:
      - $ref: "#/components/parameters/userID"
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_user_checks
      summary: Get checks for a user
      description: Lists all checks for a user specified by ID.
      tags:
        - Users
      x-doctave-tags:
        - User Checks
      security:
        - oauth-client-credentials:
            - checks:read
            - checks:admin
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: User Check - List - Response
                type: object
                description: ""
                properties:
                  data:
                    type: array
                    items:
                      title: User Check
                      oneOf:
                        - title: User Check - Know your customer
                          type: object
                          description: The KYC (Know your customer) check is completed by the client sharing the valid and relevant KYC data for the user.
                          properties:
                            id:
                              title: User Check unique identifier
                              type: string
                              description: User Check unique identifier.
                              format: uuid
                            user_id:
                              title: User unique identifier.
                              type: string
                              description: User unique identifier.
                              format: uuid
                            type:
                              type: string
                              default: KYC
                              description: The type of check must be “KYC”.
                            check_confirmed_at:
                              type: string
                              format: date-time
                              description: Completion date and time of the KYC check. Must not be older than 24 months.
                            data_download_link:
                              type: string
                              format: url
                              maxLength: 1000
                              description: Download link for the KYC evidence file. Should be a valid URL.
                            document_type:
                              type: string
                              description: |-
                                The type of document used in the KYC process.
                                * PASSPORT - Passport
                                * ID_CARD - National Identification document
                                * RESIDENCE_PERMIT - Residence Permit
                              enum:
                                - PASSPORT
                                - ID_CARD
                                - RESIDENCE_PERMIT
                            document_expiration_date:
                              type: string
                              format: date
                              description: Expiration date of the document used in KYC process in YYYY-MM-DD format.
                            nationality:
                              description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              pattern: ^[A-Z]{2}$
                            status:
                              type: string
                              description: |-
                                Final status of the KYC check.
                                * IN_PROGRESS - KYC check is in progress
                                * PASSED - KYC check passed
                                * FAILED - KYC check failed
                              enum:
                                - IN_PROGRESS
                                - PASSED
                                - FAILED
                            provider:
                              type: string
                              maxLength: 100
                              description: Provider that was used to perform the KYC check.
                            method:
                              type: string
                              description: >-
                                Method used for AML compliant KYC process

                                * VIDEO_ID - Video identification

                                * IN_PERSON_ID - In person identification at the post office or the client’s outlet

                                * ELECTRONIC_ID - Advanced electronic identification methods (namely German eID)
                              enum:
                                - VIDEO_ID
                                - IN_PERSON_ID
                                - ELECTRONIC_ID
                            confirmed_address:
                              title: Address
                              type: object
                              description: Address. Must not be a P.O. box or c/o address.
                              properties:
                                address_line1:
                                  type: string
                                  description: First address line of the address.
                                  maxLength: 100
                                address_line2:
                                  type: string
                                  description: Second address line of the address.
                                  maxLength: 100
                                postcode:
                                  title: Postal code
                                  type: string
                                  description: Postal code (postcode, PIN or ZIP code)
                                  pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                                country:
                                  description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                  type: string
                                  pattern: ^[A-Z]{2}$
                                state:
                                  description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                  type: string
                                  maxLength: 50
                                city:
                                  title: City name
                                  type: string
                                  minLength: 1
                                  maxLength: 85
                              required:
                                - address_line1
                                - postcode
                                - country
                                - city
                            kyc_update:
                              type: boolean
                              description: Marks this check as a KYC refresh/update as opposed to an initial record.
                          required:
                            - id
                            - user_id
                            - type
                            - check_confirmed_at
                            - data_download_link
                            - document_type
                            - document_expiration_date
                            - nationality
                            - status
                            - provider
                            - method
                          additionalProperties: false
                        - title: User Check - Proof of Residency
                          type: object
                          description: The PoR (Proof of residency) check is completed by the client sharing a valid PoR document, if not fulfilled by the KYC check.
                          properties:
                            id:
                              title: User Check unique identifier
                              type: string
                              description: User Check unique identifier.
                              format: uuid
                            user_id:
                              title: User unique identifier.
                              type: string
                              description: User unique identifier.
                              format: uuid
                            type:
                              type: string
                              default: POR
                              description: The type of check must be POR.
                            check_confirmed_at:
                              type: string
                              format: date-time
                              description: Completion date and time of the PoR check.
                            issuance_date:
                              type: string
                              format: date
                              description: Issuance date in YYYY-MM-DD format.
                            data_download_link:
                              type: string
                              format: url
                              maxLength: 1000
                              description: Download link for the PoR evidence file. Should be a valid URL.
                            document_type:
                              type: string
                              description: "The type of document used in the PoR process. Maximum age of the document is 12 months (stated on the document) applicable for: Utility bills (water, gas, electricity), Telephone bills (only landline), Internet bills, Bank account statements. Documents that need to be still valid - Registration certificate (issued within the past 5 years), Residence permit e.g. Blue Card (as long as valid), ID Card that contains the registration address.\n* UTILITY_BILL - \n* TELEPHONE_BILL - \n* INTERNET_BILL - \n* BANK_STATEMENT - \n* REGISTRATION_CERT - \n* RESIDENCE_PERMIT - \n* ID_CARD - "
                              enum:
                                - UTILITY_BILL
                                - TELEPHONE_BILL
                                - INTERNET_BILL
                                - BANK_STATEMENT
                                - REGISTRATION_CERT
                                - RESIDENCE_PERMIT
                                - ID_CARD
                            status:
                              type: string
                              description: "Final status of the PoR check.\n* IN_PROGRESS - \n* PASSED - \n* FAILED - "
                              enum:
                                - IN_PROGRESS
                                - PASSED
                                - FAILED
                            confirmed_address:
                              title: Address
                              type: object
                              description: Address. Must not be a P.O. box or c/o address.
                              properties:
                                address_line1:
                                  type: string
                                  description: First address line of the address.
                                  maxLength: 100
                                address_line2:
                                  type: string
                                  description: Second address line of the address.
                                  maxLength: 100
                                postcode:
                                  title: Postal code
                                  type: string
                                  description: Postal code (postcode, PIN or ZIP code)
                                  pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                                country:
                                  description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                  type: string
                                  pattern: ^[A-Z]{2}$
                                state:
                                  description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                  type: string
                                  maxLength: 50
                                city:
                                  title: City name
                                  type: string
                                  minLength: 1
                                  maxLength: 85
                              required:
                                - address_line1
                                - postcode
                                - country
                                - city
                          required:
                            - id
                            - user_id
                            - type
                            - check_confirmed_at
                            - issuance_date
                            - data_download_link
                            - document_type
                            - status
                            - confirmed_address
                          additionalProperties: false
                        - title: User Check - Instrument fit
                          type: object
                          description: Instrument fit check is completed by the client providing the user's answers to the instrument appropriateness or suitability questionnaire.
                          properties:
                            id:
                              title: User Check unique identifier
                              type: string
                              description: User Check unique identifier.
                              format: uuid
                            user_id:
                              title: User unique identifier.
                              type: string
                              description: User unique identifier.
                              format: uuid
                            type:
                              type: string
                              default: INSTRUMENT_FIT
                              description: The type of check must be INSTRUMENT_FIT.
                            check_confirmed_at:
                              type: string
                              format: date-time
                              description: Completion date and time of the instrument fit check.
                            status:
                              type: string
                              description: >-
                                Final status of the instrument fit check.

                                * IN_PROGRESS - Instrument fit check is in progress

                                * PASSED - Instrument fit check passed

                                * FAILED - Instrument fit check failed
                              enum:
                                - IN_PROGRESS
                                - PASSED
                                - FAILED
                            instrument_suitability:
                              type: object
                              properties:
                                suitability:
                                  type: boolean
                                  description: Did the user go through a suitability assessment and the outcome indicated suitability.
                              required:
                                - suitability
                          required:
                            - id
                            - user_id
                            - type
                            - check_confirmed_at
                            - status
                            - instrument_suitability
                          additionalProperties: false
                        - title: User Check - Compliance
                          type: object
                          description: Compliance check
                          properties:
                            id:
                              title: User Check unique identifier
                              type: string
                              description: User Check unique identifier.
                              format: uuid
                            user_id:
                              title: User unique identifier.
                              type: string
                              description: User unique identifier.
                              format: uuid
                            type:
                              type: string
                              default: COMPLIANCE
                              description: The type of check must be COMPLIANCE.
                            status:
                              type: string
                              description: |-
                                Final status of the COMPLIANCE check.
                                * IN_PROGRESS - Compliance check is in progress
                                * PASSED - Compliance check passed
                                * FAILED - Compliance check failed
                              enum:
                                - IN_PROGRESS
                                - PASSED
                                - FAILED
                            check_confirmed_at:
                              type: string
                              format: date-time
                              description: Completion date and time of the COMPLIANCE check.
                          required:
                            - id
                            - user_id
                            - type
                            - check_confirmed_at
                          additionalProperties: false
                required:
                  - data
                additionalProperties: false
              example:
                data:
                  - id: 008a82d0-c5a4-4410-9318-d34786429c5a
                    user_id: 7b39529a-e68c-4688-8242-7549d10d6084
                    type: KYC
                    check_confirmed_at: 2019-08-24T14:15:22Z
                    data_download_link: https://bucket.customer.com/ident/user3.zip
                    document_type: ID_CARD
                    document_expiration_date: 2030-01-01
                    nationality: DE
                    status: PASSED
                    provider: KYC provider
                    method: VIDEO_ID
                    confirmed_address:
                      address_line1: Rosenweg 221
                      address_line2: apt. 33
                      postcode: "45678"
                      city: Berlin
                      state: BE
                      country: DE
                  - id: a680ff52-3a96-4e82-a2ab-12563bbd1a2e
                    user_id: 7b39529a-e68c-4688-8242-7549d10d6084
                    type: INSTRUMENT_FIT
                    check_confirmed_at: 2020-08-24T14:15:22Z
                    status: PASSED
                    instrument_suitability:
                      suitability: true
                  - id: b633a915-ed3c-43d7-afb5-a550f26ccb0d
                    user_id: 7b39529a-e68c-4688-8242-7549d10d6084
                    type: POR
                    check_confirmed_at: 2020-08-24T14:15:22Z
                    issuance_date: 2020-01-01
                    data_download_link: "https: //bucket.customer.com/por/user3.zip"
                    document_type: UTILITY_BILL
                    status: PASSED
                    confirmed_address:
                      address_line1: Rosenweg 221
                      address_line2: apt. 33
                      postcode: "45678"
                      city: Berlin
                      state: BE
                      country: DE
                  - id: 76aa72aa-3738-4640-bad5-68c1196dc758
                    user_id: 7b39529a-e68c-4688-8242-7549d10d6084
                    type: COMPLIANCE
                    check_confirmed_at: 2020-08-24T14:15:22Z
                    status: PASSED
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    post:
      operationId: create_user_check
      summary: Create a new check for a user
      description: Creates a new check for a user specified by ID.
      tags:
        - Users
      x-doctave-tags:
        - User Checks
      security:
        - oauth-client-credentials:
            - checks:admin
      requestBody:
        content:
          application/json:
            schema:
              title: User Check - Create - Request
              oneOf:
                - title: User Check - Know your customer - Create - Request
                  type: object
                  description: The KYC (Know your customer) check is completed by the client sharing the valid and relevant KYC data for the user.
                  properties:
                    type:
                      type: string
                      default: KYC
                      description: The type of check must be “KYC”.
                    check_confirmed_at:
                      type: string
                      format: date-time
                      description: Completion date and time of the KYC check. Must not be older than 24 months.
                    data_download_link:
                      type: string
                      format: url
                      maxLength: 1000
                      description: Download link for the KYC evidence file. Should be a valid URL.
                    document_type:
                      type: string
                      description: |-
                        The type of document used in the KYC process.
                        * PASSPORT - Passport
                        * ID_CARD - National Identification document
                        * RESIDENCE_PERMIT - Residence Permit
                      enum:
                        - PASSPORT
                        - ID_CARD
                        - RESIDENCE_PERMIT
                    document_expiration_date:
                      type: string
                      format: date
                      description: Expiration date of the document used in KYC process in YYYY-MM-DD format.
                    nationality:
                      description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                      type: string
                      pattern: ^[A-Z]{2}$
                    provider:
                      type: string
                      maxLength: 100
                      description: Provider that was used to perform the KYC check.
                    method:
                      type: string
                      description: >-
                        Method used for AML compliant KYC process

                        * VIDEO_ID - Video identification

                        * IN_PERSON_ID - In person identification at the post office or the client’s outlet

                        * ELECTRONIC_ID - Advanced electronic identification methods (namely German eID)
                      enum:
                        - VIDEO_ID
                        - IN_PERSON_ID
                        - ELECTRONIC_ID
                    confirmed_address:
                      title: Address
                      type: object
                      description: Address. Must not be a P.O. box or c/o address.
                      properties:
                        address_line1:
                          type: string
                          description: First address line of the address.
                          maxLength: 100
                        address_line2:
                          type: string
                          description: Second address line of the address.
                          maxLength: 100
                        postcode:
                          title: Postal code
                          type: string
                          description: Postal code (postcode, PIN or ZIP code)
                          pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                        country:
                          description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                          type: string
                          pattern: ^[A-Z]{2}$
                        state:
                          description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                          type: string
                          maxLength: 50
                        city:
                          title: City name
                          type: string
                          minLength: 1
                          maxLength: 85
                      required:
                        - address_line1
                        - postcode
                        - country
                        - city
                    kyc_update:
                      type: boolean
                      description: Marks this check as a KYC refresh/update as opposed to an initial record.
                  required:
                    - type
                    - check_confirmed_at
                    - data_download_link
                    - document_type
                    - document_expiration_date
                    - nationality
                    - provider
                    - method
                  additionalProperties: false
                - title: User Check - Proof of Residency - Create - Request
                  type: object
                  description: The PoR (Proof of residency) check is completed by the client sharing a valid PoR document, if not fulfilled by the KYC check.
                  properties:
                    type:
                      type: string
                      default: POR
                      description: The type of check must be POR.
                    check_confirmed_at:
                      type: string
                      format: date-time
                      description: Completion date and time of the PoR check.
                    issuance_date:
                      type: string
                      format: date
                      description: Issuance date in YYYY-MM-DD format.
                    data_download_link:
                      type: string
                      format: url
                      maxLength: 1000
                      description: Download link for the PoR evidence file. Should be a valid URL.
                    document_type:
                      type: string
                      description: "The type of document used in the PoR process. Maximum age of the document is 12 months (stated on the document) applicable for: Utility bills (water, gas, electricity), Telephone bills (only landline), Internet bills, Bank account statements. Documents that need to be still valid - Registration certificate (issued within the past 5 years), Residence permit e.g. Blue Card (as long as valid), ID Card that contains the registration address.\n* UTILITY_BILL - \n* TELEPHONE_BILL - \n* INTERNET_BILL - \n* BANK_STATEMENT - \n* REGISTRATION_CERT - \n* RESIDENCE_PERMIT - \n* ID_CARD - "
                      enum:
                        - UTILITY_BILL
                        - TELEPHONE_BILL
                        - INTERNET_BILL
                        - BANK_STATEMENT
                        - REGISTRATION_CERT
                        - RESIDENCE_PERMIT
                        - ID_CARD
                    confirmed_address:
                      title: Address
                      type: object
                      description: Address. Must not be a P.O. box or c/o address.
                      properties:
                        address_line1:
                          type: string
                          description: First address line of the address.
                          maxLength: 100
                        address_line2:
                          type: string
                          description: Second address line of the address.
                          maxLength: 100
                        postcode:
                          title: Postal code
                          type: string
                          description: Postal code (postcode, PIN or ZIP code)
                          pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                        country:
                          description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                          type: string
                          pattern: ^[A-Z]{2}$
                        state:
                          description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                          type: string
                          maxLength: 50
                        city:
                          title: City name
                          type: string
                          minLength: 1
                          maxLength: 85
                      required:
                        - address_line1
                        - postcode
                        - country
                        - city
                  required:
                    - type
                    - check_confirmed_at
                    - issuance_date
                    - data_download_link
                    - document_type
                    - confirmed_address
                  additionalProperties: false
                - title: User Check - Instrument fit - Create - Request
                  type: object
                  description: Instrument fit check is completed by the client providing the user's answers to the instrument appropriateness or suitability questionnaire.
                  properties:
                    type:
                      type: string
                      default: INSTRUMENT_FIT
                      description: The type of check must be INSTRUMENT_FIT.
                    check_confirmed_at:
                      type: string
                      format: date-time
                      description: Completion date and time of the instrument fit check.
                    instrument_suitability:
                      type: object
                      properties:
                        suitability:
                          type: boolean
                          description: Did the user go through a suitability assessment and the outcome indicated suitability.
                      required:
                        - suitability
                  required:
                    - type
                    - check_confirmed_at
                    - instrument_suitability
                  additionalProperties: false
            examples:
              KYC:
                summary: KYC check
                value:
                  type: KYC
                  check_confirmed_at: 2019-08-24T14:15:22Z
                  data_download_link: https://bucket.customer.com/ident/user3.zip
                  document_type: ID_CARD
                  document_expiration_date: 2030-01-01
                  nationality: DE
                  provider: KYC provider
                  method: VIDEO_ID
                  confirmed_address:
                    address_line1: Rosenweg 221
                    address_line2: apt. 33
                    postcode: "45678"
                    city: Berlin
                    state: BE
                    country: DE
              INSTRUMENT_FIT:
                summary: Instrument fit check
                value:
                  type: INSTRUMENT_FIT
                  check_confirmed_at: 2020-08-24T14:15:22Z
                  instrument_suitability:
                    suitability: true
              POR:
                summary: PoR check
                value:
                  type: POR
                  check_confirmed_at: 2020-08-24T14:15:22Z
                  issuance_date: 2020-01-01
                  data_download_link: https://bucket.customer.com/por/user3.zip
                  document_type: UTILITY_BILL
                  confirmed_address:
                    address_line1: Rosenweg 221
                    address_line2: apt. 33
                    postcode: "45678"
                    city: Berlin
                    state: BE
                    country: DE
      responses:
        "202":
          description: The request has been successfully accepted.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: User Check - Create - Response
                type: object
                properties:
                  id:
                    title: User Check unique identifier
                    type: string
                    description: User Check unique identifier.
                    format: uuid
                required:
                  - id
                additionalProperties: false
              example:
                id: e13e9d81-7f43-492d-a02a-440edced389a
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/users/{user_id}/checks/{check_id}":
    parameters:
      - $ref: "#/components/parameters/userID"
      - $ref: "#/components/parameters/checkID"
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_user_check
      summary: Get a user check by ID
      description: Retrieves a check for a user specified by its ID.
      tags:
        - Users
      x-doctave-tags:
        - User Checks
      security:
        - oauth-client-credentials:
            - checks:read
            - checks:admin
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: User Check
                oneOf:
                  - title: User Check - Know your customer
                    type: object
                    description: The KYC (Know your customer) check is completed by the client sharing the valid and relevant KYC data for the user.
                    properties:
                      id:
                        title: User Check unique identifier
                        type: string
                        description: User Check unique identifier.
                        format: uuid
                      user_id:
                        title: User unique identifier.
                        type: string
                        description: User unique identifier.
                        format: uuid
                      type:
                        type: string
                        default: KYC
                        description: The type of check must be “KYC”.
                      check_confirmed_at:
                        type: string
                        format: date-time
                        description: Completion date and time of the KYC check. Must not be older than 24 months.
                      data_download_link:
                        type: string
                        format: url
                        maxLength: 1000
                        description: Download link for the KYC evidence file. Should be a valid URL.
                      document_type:
                        type: string
                        description: |-
                          The type of document used in the KYC process.
                          * PASSPORT - Passport
                          * ID_CARD - National Identification document
                          * RESIDENCE_PERMIT - Residence Permit
                        enum:
                          - PASSPORT
                          - ID_CARD
                          - RESIDENCE_PERMIT
                      document_expiration_date:
                        type: string
                        format: date
                        description: Expiration date of the document used in KYC process in YYYY-MM-DD format.
                      nationality:
                        description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                        type: string
                        pattern: ^[A-Z]{2}$
                      status:
                        type: string
                        description: |-
                          Final status of the KYC check.
                          * IN_PROGRESS - KYC check is in progress
                          * PASSED - KYC check passed
                          * FAILED - KYC check failed
                        enum:
                          - IN_PROGRESS
                          - PASSED
                          - FAILED
                      provider:
                        type: string
                        maxLength: 100
                        description: Provider that was used to perform the KYC check.
                      method:
                        type: string
                        description: >-
                          Method used for AML compliant KYC process

                          * VIDEO_ID - Video identification

                          * IN_PERSON_ID - In person identification at the post office or the client’s outlet

                          * ELECTRONIC_ID - Advanced electronic identification methods (namely German eID)
                        enum:
                          - VIDEO_ID
                          - IN_PERSON_ID
                          - ELECTRONIC_ID
                      confirmed_address:
                        title: Address
                        type: object
                        description: Address. Must not be a P.O. box or c/o address.
                        properties:
                          address_line1:
                            type: string
                            description: First address line of the address.
                            maxLength: 100
                          address_line2:
                            type: string
                            description: Second address line of the address.
                            maxLength: 100
                          postcode:
                            title: Postal code
                            type: string
                            description: Postal code (postcode, PIN or ZIP code)
                            pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                          country:
                            description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                            type: string
                            pattern: ^[A-Z]{2}$
                          state:
                            description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                            type: string
                            maxLength: 50
                          city:
                            title: City name
                            type: string
                            minLength: 1
                            maxLength: 85
                        required:
                          - address_line1
                          - postcode
                          - country
                          - city
                      kyc_update:
                        type: boolean
                        description: Marks this check as a KYC refresh/update as opposed to an initial record.
                    required:
                      - id
                      - user_id
                      - type
                      - check_confirmed_at
                      - data_download_link
                      - document_type
                      - document_expiration_date
                      - nationality
                      - status
                      - provider
                      - method
                    additionalProperties: false
                  - title: User Check - Proof of Residency
                    type: object
                    description: The PoR (Proof of residency) check is completed by the client sharing a valid PoR document, if not fulfilled by the KYC check.
                    properties:
                      id:
                        title: User Check unique identifier
                        type: string
                        description: User Check unique identifier.
                        format: uuid
                      user_id:
                        title: User unique identifier.
                        type: string
                        description: User unique identifier.
                        format: uuid
                      type:
                        type: string
                        default: POR
                        description: The type of check must be POR.
                      check_confirmed_at:
                        type: string
                        format: date-time
                        description: Completion date and time of the PoR check.
                      issuance_date:
                        type: string
                        format: date
                        description: Issuance date in YYYY-MM-DD format.
                      data_download_link:
                        type: string
                        format: url
                        maxLength: 1000
                        description: Download link for the PoR evidence file. Should be a valid URL.
                      document_type:
                        type: string
                        description: "The type of document used in the PoR process. Maximum age of the document is 12 months (stated on the document) applicable for: Utility bills (water, gas, electricity), Telephone bills (only landline), Internet bills, Bank account statements. Documents that need to be still valid - Registration certificate (issued within the past 5 years), Residence permit e.g. Blue Card (as long as valid), ID Card that contains the registration address.\n* UTILITY_BILL - \n* TELEPHONE_BILL - \n* INTERNET_BILL - \n* BANK_STATEMENT - \n* REGISTRATION_CERT - \n* RESIDENCE_PERMIT - \n* ID_CARD - "
                        enum:
                          - UTILITY_BILL
                          - TELEPHONE_BILL
                          - INTERNET_BILL
                          - BANK_STATEMENT
                          - REGISTRATION_CERT
                          - RESIDENCE_PERMIT
                          - ID_CARD
                      status:
                        type: string
                        description: "Final status of the PoR check.\n* IN_PROGRESS - \n* PASSED - \n* FAILED - "
                        enum:
                          - IN_PROGRESS
                          - PASSED
                          - FAILED
                      confirmed_address:
                        title: Address
                        type: object
                        description: Address. Must not be a P.O. box or c/o address.
                        properties:
                          address_line1:
                            type: string
                            description: First address line of the address.
                            maxLength: 100
                          address_line2:
                            type: string
                            description: Second address line of the address.
                            maxLength: 100
                          postcode:
                            title: Postal code
                            type: string
                            description: Postal code (postcode, PIN or ZIP code)
                            pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                          country:
                            description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                            type: string
                            pattern: ^[A-Z]{2}$
                          state:
                            description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                            type: string
                            maxLength: 50
                          city:
                            title: City name
                            type: string
                            minLength: 1
                            maxLength: 85
                        required:
                          - address_line1
                          - postcode
                          - country
                          - city
                    required:
                      - id
                      - user_id
                      - type
                      - check_confirmed_at
                      - issuance_date
                      - data_download_link
                      - document_type
                      - status
                      - confirmed_address
                    additionalProperties: false
                  - title: User Check - Instrument fit
                    type: object
                    description: Instrument fit check is completed by the client providing the user's answers to the instrument appropriateness or suitability questionnaire.
                    properties:
                      id:
                        title: User Check unique identifier
                        type: string
                        description: User Check unique identifier.
                        format: uuid
                      user_id:
                        title: User unique identifier.
                        type: string
                        description: User unique identifier.
                        format: uuid
                      type:
                        type: string
                        default: INSTRUMENT_FIT
                        description: The type of check must be INSTRUMENT_FIT.
                      check_confirmed_at:
                        type: string
                        format: date-time
                        description: Completion date and time of the instrument fit check.
                      status:
                        type: string
                        description: >-
                          Final status of the instrument fit check.

                          * IN_PROGRESS - Instrument fit check is in progress

                          * PASSED - Instrument fit check passed

                          * FAILED - Instrument fit check failed
                        enum:
                          - IN_PROGRESS
                          - PASSED
                          - FAILED
                      instrument_suitability:
                        type: object
                        properties:
                          suitability:
                            type: boolean
                            description: Did the user go through a suitability assessment and the outcome indicated suitability.
                        required:
                          - suitability
                    required:
                      - id
                      - user_id
                      - type
                      - check_confirmed_at
                      - status
                      - instrument_suitability
                    additionalProperties: false
                  - title: User Check - Compliance
                    type: object
                    description: Compliance check
                    properties:
                      id:
                        title: User Check unique identifier
                        type: string
                        description: User Check unique identifier.
                        format: uuid
                      user_id:
                        title: User unique identifier.
                        type: string
                        description: User unique identifier.
                        format: uuid
                      type:
                        type: string
                        default: COMPLIANCE
                        description: The type of check must be COMPLIANCE.
                      status:
                        type: string
                        description: |-
                          Final status of the COMPLIANCE check.
                          * IN_PROGRESS - Compliance check is in progress
                          * PASSED - Compliance check passed
                          * FAILED - Compliance check failed
                        enum:
                          - IN_PROGRESS
                          - PASSED
                          - FAILED
                      check_confirmed_at:
                        type: string
                        format: date-time
                        description: Completion date and time of the COMPLIANCE check.
                    required:
                      - id
                      - user_id
                      - type
                      - check_confirmed_at
                    additionalProperties: false
              examples:
                KYC:
                  summary: KYC user check
                  value:
                    id: 008a82d0-c5a4-4410-9318-d34786429c5a
                    user_id: 7b39529a-e68c-4688-8242-7549d10d6084
                    type: KYC
                    check_confirmed_at: 2019-08-24T14:15:22Z
                    data_download_link: https://bucket.customer.com/ident/user3.zip
                    document_type: ID_CARD
                    document_expiration_date: 2030-01-01
                    nationality: DE
                    status: PASSED
                    provider: KYC provider
                    method: VIDEO_ID
                    confirmed_address:
                      address_line1: Rosenweg 221
                      address_line2: apt. 33
                      postcode: "45678"
                      city: Berlin
                      state: BE
                      country: DE
                INSTRUMENT_FIT:
                  summary: Instrument fit user check
                  value:
                    id: a680ff52-3a96-4e82-a2ab-12563bbd1a2e
                    user_id: 7b39529a-e68c-4688-8242-7549d10d6084
                    type: INSTRUMENT_FIT
                    check_confirmed_at: 2020-08-24T14:15:22Z
                    status: PASSED
                    instrument_suitability:
                      suitability: true
                POR:
                  summary: POR user check
                  value:
                    id: b633a915-ed3c-43d7-afb5-a550f26ccb0d
                    user_id: 7b39529a-e68c-4688-8242-7549d10d6084
                    type: POR
                    check_confirmed_at: 2020-08-24T14:15:22Z
                    issuance_date: 2020-01-01
                    data_download_link: https://bucket.customer.com/por/user3.zip
                    document_type: UTILITY_BILL
                    status: PASSED
                    confirmed_address:
                      address_line1: Rosenweg 221
                      address_line2: apt. 33
                      postcode: "45678"
                      city: Berlin
                      state: BE
                      country: DE
                COMPLIANCE:
                  summary: Compliance user check
                  value:
                    id: 76aa72aa-3738-4640-bad5-68c1196dc758
                    user_id: 7b39529a-e68c-4688-8242-7549d10d6084
                    type: COMPLIANCE
                    check_confirmed_at: 2020-08-24T14:15:22Z
                    status: PASSED
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/users/{user_id}/identifiers":
    parameters:
      - $ref: "#/components/parameters/userID"
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_user_identifiers
      summary: Get user identifiers
      description: Lists all existing identifiers of a user used for transaction reporting.
      tags:
        - Users
      x-doctave-tags:
        - User Identifiers
      security:
        - oauth-client-credentials:
            - users:read
            - users:admin
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Identifiers - List - Response
                type: object
                properties:
                  data:
                    type: array
                    items:
                      title: Identifier
                      type: object
                      properties:
                        id:
                          title: Unique identifier for the user's national ID.
                          type: string
                          description: Unique identifier for the user's national ID.
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        user_id:
                          title: User unique identifier.
                          type: string
                          description: User unique identifier.
                          format: uuid
                        identifier_standard:
                          type: string
                          maxLength: 10
                          minLength: 2
                          description: Identifier standard abbreviation. See [guide here](/guides/users_and_accounts/identifiers.md)
                        identifier:
                          type: string
                          maxLength: 30
                          minLength: 0
                          description: Identifier value. See [guide here](/guides/users_and_accounts/identifiers.md)
                        type:
                          type: string
                          description: "Identifier type.\n* NATIONAL_ID - "
                          default: NATIONAL_ID
                        issuing_country:
                          description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                          type: string
                          pattern: ^[A-Z]{2}$
                      required:
                        - id
                        - user_id
                        - created_at
                        - updated_at
                        - identifier_standard
                        - identifier
                        - type
                        - issuing_country
                      additionalProperties: false
                required:
                  - data
                additionalProperties: false
              example:
                data:
                  - id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
                    created_at: 2021-07-21T14:10:00.00Z
                    updated_at: 2021-07-21T14:10:00.00Z
                    user_id: 00000ec2-d2ca-49ff-bbea-b92b5c3be203
                    type: NATIONAL_ID
                    issuing_country: PL
                    identifier_standard: PESEL
                    identifier: "83053078917"
                  - id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be111
                    created_at: 2021-07-21T14:10:00.00Z
                    updated_at: 2021-07-21T14:10:00.00Z
                    user_id: 00000ec2-d2ca-49ff-bbea-b92b5c3be203
                    type: NATIONAL_ID
                    issuing_country: DK
                    identifier_standard: DPIC
                    identifier: "3005837891"
                  - id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be303
                    created_at: 2021-07-21T14:10:00.00Z
                    updated_at: 2021-07-21T14:10:00.00Z
                    user_id: 00000ec2-d2ca-49ff-bbea-b92b5c3be505
                    type: NATIONAL_ID
                    issuing_country: DE
                    identifier_standard: CONCAT
                    identifier: ""
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    post:
      operationId: create_identifier
      summary: Create a user identifier
      description: Creates a new identifier for a user that will be used for transaction reporting obligations. This identifier is required for user activation if the user's nationalities do not allow reporting using the CONCAT format. More information can be found in the [guides](https://docs.upvest.co/guides/users_and_accounts/identifiers_low_prio).
      tags:
        - Users
      x-doctave-tags:
        - User Identifiers
      security:
        - oauth-client-credentials:
            - users:admin
      requestBody:
        content:
          application/json:
            schema:
              title: Identifier - Create - Request
              type: object
              properties:
                type:
                  type: string
                  description: "Identifier type.\n* NATIONAL_ID - "
                  default: NATIONAL_ID
                issuing_country:
                  description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                  type: string
                  pattern: ^[A-Z]{2}$
                identifier:
                  type: string
                  maxLength: 30
                  minLength: 0
                  description: Identifier value. See [guide here](/guides/users_and_accounts/identifiers.md)
              required:
                - type
                - issuing_country
                - identifier
              additionalProperties: false
            example:
              type: NATIONAL_ID
              issuing_country: PL
              identifier: "83053078917"
      responses:
        "200":
          description: The user identifier is created.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Identifier
                type: object
                properties:
                  id:
                    title: Unique identifier for the user's national ID.
                    type: string
                    description: Unique identifier for the user's national ID.
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  user_id:
                    title: User unique identifier.
                    type: string
                    description: User unique identifier.
                    format: uuid
                  identifier_standard:
                    type: string
                    maxLength: 10
                    minLength: 2
                    description: Identifier standard abbreviation. See [guide here](/guides/users_and_accounts/identifiers.md)
                  identifier:
                    type: string
                    maxLength: 30
                    minLength: 0
                    description: Identifier value. See [guide here](/guides/users_and_accounts/identifiers.md)
                  type:
                    type: string
                    description: "Identifier type.\n* NATIONAL_ID - "
                    default: NATIONAL_ID
                  issuing_country:
                    description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                    type: string
                    pattern: ^[A-Z]{2}$
                required:
                  - id
                  - user_id
                  - created_at
                  - updated_at
                  - identifier_standard
                  - identifier
                  - type
                  - issuing_country
                additionalProperties: false
              example:
                id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-21T14:10:00.00Z
                user_id: 00000ec2-d2ca-49ff-bbea-b92b5c3be203
                type: NATIONAL_ID
                issuing_country: PL
                identifier_standard: PESEL
                identifier: "83053078917"
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/users/{user_id}/identifiers/{identifier_id}":
    parameters:
      - $ref: "#/components/parameters/userID"
      - $ref: "#/components/parameters/identifierID"
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_identifier
      summary: Get a user identifier by ID
      description: Returns an existing identifier of a given user used for transaction reporting.
      tags:
        - Users
      x-doctave-tags:
        - User Identifiers
      security:
        - oauth-client-credentials:
            - users:read
            - users:admin
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Identifier
                type: object
                properties:
                  id:
                    title: Unique identifier for the user's national ID.
                    type: string
                    description: Unique identifier for the user's national ID.
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  user_id:
                    title: User unique identifier.
                    type: string
                    description: User unique identifier.
                    format: uuid
                  identifier_standard:
                    type: string
                    maxLength: 10
                    minLength: 2
                    description: Identifier standard abbreviation. See [guide here](/guides/users_and_accounts/identifiers.md)
                  identifier:
                    type: string
                    maxLength: 30
                    minLength: 0
                    description: Identifier value. See [guide here](/guides/users_and_accounts/identifiers.md)
                  type:
                    type: string
                    description: "Identifier type.\n* NATIONAL_ID - "
                    default: NATIONAL_ID
                  issuing_country:
                    description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                    type: string
                    pattern: ^[A-Z]{2}$
                required:
                  - id
                  - user_id
                  - created_at
                  - updated_at
                  - identifier_standard
                  - identifier
                  - type
                  - issuing_country
                additionalProperties: false
              example:
                id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-21T14:10:00.00Z
                user_id: 00000ec2-d2ca-49ff-bbea-b92b5c3be203
                type: NATIONAL_ID
                issuing_country: PL
                identifier_standard: PESEL
                identifier: "83053078917"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    patch:
      operationId: update_identifier
      summary: Update a user identifier by ID
      description: Updates an existing identifier of a given user used for transaction reporting.
      tags:
        - Users
      x-doctave-tags:
        - User Identifiers
      security:
        - oauth-client-credentials:
            - users:admin
      requestBody:
        content:
          application/json:
            schema:
              title: Identifier - Update - Request
              type: object
              properties:
                identifier:
                  type: string
                  maxLength: 30
                  minLength: 0
                  description: Identifier value. See [guide here](/guides/users_and_accounts/identifiers.md)
              required:
                - identifier
              additionalProperties: false
            example:
              identifier: "83053078111"
      responses:
        "200":
          description: The user identifier is updated.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Identifier
                type: object
                properties:
                  id:
                    title: Unique identifier for the user's national ID.
                    type: string
                    description: Unique identifier for the user's national ID.
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  user_id:
                    title: User unique identifier.
                    type: string
                    description: User unique identifier.
                    format: uuid
                  identifier_standard:
                    type: string
                    maxLength: 10
                    minLength: 2
                    description: Identifier standard abbreviation. See [guide here](/guides/users_and_accounts/identifiers.md)
                  identifier:
                    type: string
                    maxLength: 30
                    minLength: 0
                    description: Identifier value. See [guide here](/guides/users_and_accounts/identifiers.md)
                  type:
                    type: string
                    description: "Identifier type.\n* NATIONAL_ID - "
                    default: NATIONAL_ID
                  issuing_country:
                    description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                    type: string
                    pattern: ^[A-Z]{2}$
                required:
                  - id
                  - user_id
                  - created_at
                  - updated_at
                  - identifier_standard
                  - identifier
                  - type
                  - issuing_country
                additionalProperties: false
              example:
                id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-22T15:20:10.00Z
                user_id: 00000ec2-d2ca-49ff-bbea-b92b5c3be203
                type: NATIONAL_ID
                issuing_country: PL
                identifier_standard: PESEL
                identifier: "83053078111"
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/users/{user_id}/account_groups":
    parameters:
      - $ref: "#/components/parameters/userID"
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_user_account_groups
      summary: Get user account groups
      description: Lists the account groups of a user specified by ID.
      tags:
        - Users
      security:
        - oauth-client-credentials:
            - accounts:read
            - accounts:admin
      parameters:
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - created_at
            default: created_at
          description: Sort the result by `created_at`.
        - $ref: "#/components/parameters/order"
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Account Groups - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Account Group
                      type: object
                      description: ""
                      properties:
                        id:
                          title: Account group unique identifier.
                          type: string
                          description: Account group unique identifier.
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        users:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                title: User unique identifier.
                                type: string
                                description: User unique identifier.
                                format: uuid
                              type:
                                type: string
                                description: "Relation type\n* OWNER - "
                                enum:
                                  - OWNER
                                default: OWNER
                        status:
                          type: string
                          description: >-
                            Status of the account group

                            * PENDING_APPROVAL - Account group approval is pending - the account group is visible through our API but cannot be acted on.

                            * ACTIVE - Account group is active - full functionality of the Investment API is accessible.

                            * CLOSING - Account group is closing.

                            * CLOSED - Account group is closed.

                            * LOCKED - Account group is locked for all actions.
                          enum:
                            - PENDING_APPROVAL
                            - ACTIVE
                            - CLOSING
                            - CLOSED
                            - LOCKED
                        type:
                          type: string
                          description: >-
                            Account group type.

                            * PERSONAL - Account group of a person holding assets on their own behalf.

                            * LEGAL_ENTITY - Account group of a legal entity holding assets on behalf of their users.
                          enum:
                            - PERSONAL
                            - LEGAL_ENTITY
                        securities_account_number:
                          type: string
                          description: Securities account number
                          pattern: ^[0-9]{9}$
                      required:
                        - id
                        - created_at
                        - updated_at
                        - users
                        - status
                        - type
                        - securities_account_number
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 1
                  total_count: 1
                  sort: id
                  order: ASC
                data:
                  - id: 9d95820d-4333-46b6-98de-04ab7512e76f
                    created_at: 2020-08-24T14:15:22Z
                    updated_at: 2020-08-24T14:15:22Z
                    type: PERSONAL
                    status: ACTIVE
                    users:
                      - id: 9c36af78-91a0-4174-a515-fc81214e3dab
                        type: OWNER
                    securities_account_number: "123456789"
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/account_groups/{account_group_id}":
    parameters:
      - name: account_group_id
        in: path
        required: true
        schema:
          title: Account group unique identifier.
          type: string
          description: Account group unique identifier.
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_account_group
      summary: Get an account group by ID
      description: Returns the account group specified bu its ID.
      tags:
        - Accounts
      x-doctave-tags:
        - Account Groups
      security:
        - oauth-client-credentials:
            - accounts:read
            - accounts:admin
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Account Group
                type: object
                description: ""
                properties:
                  id:
                    title: Account group unique identifier.
                    type: string
                    description: Account group unique identifier.
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  users:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          title: User unique identifier.
                          type: string
                          description: User unique identifier.
                          format: uuid
                        type:
                          type: string
                          description: "Relation type\n* OWNER - "
                          enum:
                            - OWNER
                          default: OWNER
                  status:
                    type: string
                    description: >-
                      Status of the account group

                      * PENDING_APPROVAL - Account group approval is pending - the account group is visible through our API but cannot be acted on.

                      * ACTIVE - Account group is active - full functionality of the Investment API is accessible.

                      * CLOSING - Account group is closing.

                      * CLOSED - Account group is closed.

                      * LOCKED - Account group is locked for all actions.
                    enum:
                      - PENDING_APPROVAL
                      - ACTIVE
                      - CLOSING
                      - CLOSED
                      - LOCKED
                  type:
                    type: string
                    description: >-
                      Account group type.

                      * PERSONAL - Account group of a person holding assets on their own behalf.

                      * LEGAL_ENTITY - Account group of a legal entity holding assets on behalf of their users.
                    enum:
                      - PERSONAL
                      - LEGAL_ENTITY
                  securities_account_number:
                    type: string
                    description: Securities account number
                    pattern: ^[0-9]{9}$
                required:
                  - id
                  - created_at
                  - updated_at
                  - users
                  - status
                  - type
                  - securities_account_number
                additionalProperties: false
              example:
                id: 9d95820d-4333-46b6-98de-04ab7512e76f
                created_at: 2020-08-24T14:15:22Z
                updated_at: 2020-08-24T14:15:22Z
                type: PERSONAL
                status: ACTIVE
                users:
                  - id: 413715f2-5401-4b97-8055-034a6b879f8c
                    type: OWNER
                securities_account_number: "123456789"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    delete:
      operationId: account_group_closure
      summary: Close an account group by ID
      description: Initiates the closure request for an account group specified by its ID.
      tags:
        - Accounts
      x-doctave-tags:
        - Account Groups
      security:
        - oauth-client-credentials:
            - accounts:admin
      responses:
        "202":
          description: The request has been successfully accepted and will be processed asynchronously.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "409":
          description: Conflict. An operation is not available for the current state of the resource.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 409
                type: conflict
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/account_groups/{account_group_id}/payments/cash_balance":
    parameters:
      - name: account_group_id
        in: path
        required: true
        schema:
          title: Account group unique identifier.
          type: string
          description: Account group unique identifier.
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_cash_balance
      summary: Retrieve an account group's cash balance
      description: Retrieve an account group's cash balance
      tags:
        - Cash Balances
      security:
        - oauth-client-credentials:
            - positions:read
      responses:
        "200":
          description: Response
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                type: object
                properties:
                  account_group_id:
                    title: Account group unique identifier.
                    type: string
                    description: Account group unique identifier.
                    format: uuid
                  currency:
                    type: string
                    format: ISO4217
                    description: >-
                      Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                      * EUR - Euro
                    enum:
                      - EUR
                    default: EUR
                  balance:
                    type: string
                    pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                  locked_for_trading:
                    type: string
                    pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                  pending_settlement:
                    type: string
                    pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                  available_for_withdrawal:
                    type: string
                    pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                  available_for_trading:
                    type: string
                    pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                required:
                  - account_group_id
                  - currency
                  - balance
                  - locked_for_trading
                  - pending_settlement
                  - available_for_withdrawal
                  - available_for_trading
                additionalProperties: false
              examples:
                cash_balance:
                  summary: Cash Balance
                  value:
                    account_group_id: d0fc0305-97b7-4e3b-bddf-66d3c434898c
                    currency: EUR
                    balance: "100.25"
                    locked_for_trading: "10"
                    pending_settlement: "10"
                    available_for_withdrawal: "80"
                    available_for_trading: "80"
                nominal_buy_order_new_cash_balance_update:
                  summary: Cash Balance when Nominal Buy Order is still NEW
                  value:
                    account_group_id: d0fc0305-97b7-4e3b-bddf-66d3c434898c
                    currency: EUR
                    balance: "1000"
                    locked_for_trading: "1000"
                    pending_settlement: "0"
                    available_for_withdrawal: "0"
                    available_for_trading: "0"
                nominal_buy_order_filled_cash_balance_update:
                  summary: Cash Balance after Nominal Buy Order was filled
                  value:
                    account_group_id: d0fc0305-97b7-4e3b-bddf-66d3c434898c
                    currency: EUR
                    balance: "0"
                    locked_for_trading: "0"
                    pending_settlement: "0"
                    available_for_withdrawal: "0"
                    available_for_trading: "0"
                unit_sell_order_filled_cash_balance_update:
                  summary: Cash Balance after a Unit Sell Order was filled
                  value:
                    account_group_id: d0fc0305-97b7-4e3b-bddf-66d3c434898c
                    currency: EUR
                    balance: "828.75"
                    locked_for_trading: "0"
                    pending_settlement: "828.75"
                    available_for_withdrawal: "0"
                    available_for_trading: "828.75"
                cash_balance_available_before_withdrawal_request:
                  summary: Cash Balance available before withdrawal request
                  value:
                    account_group_id: d0fc0305-97b7-4e3b-bddf-66d3c434898c
                    currency: EUR
                    balance: "200"
                    locked_for_trading: "0"
                    pending_settlement: "0"
                    available_for_withdrawal: "200"
                    available_for_trading: "0"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          description: Not Found. The requested resource could not be found.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 404
                type: not_found
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/users/{user_id}/accounts":
    parameters:
      - $ref: "#/components/parameters/userID"
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_user_accounts
      summary: Get user accounts
      description: Lists the accounts of a user specified by ID.
      tags:
        - Users
      security:
        - oauth-client-credentials:
            - accounts:read
            - accounts:admin
      parameters:
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - created_at
            default: created_at
          description: Sort the result by `created_at`.
        - $ref: "#/components/parameters/order"
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Accounts - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Account
                      type: object
                      description: ""
                      properties:
                        id:
                          title: Account unique identifier.
                          type: string
                          description: Account unique identifier.
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        account_group_id:
                          title: Account group unique identifier.
                          type: string
                          description: Account group unique identifier.
                          format: uuid
                        type:
                          type: string
                          description: >-
                            Account type.

                            * TRADING - Orders in accounts of this type are created on a specific instrument basis.

                            * PORTFOLIO - Orders in accounts of this type are created on a portfolio basis and additional portfolio functionality is available.
                          enum:
                            - TRADING
                            - PORTFOLIO
                        users:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                title: User unique identifier.
                                type: string
                                description: User unique identifier.
                                format: uuid
                              type:
                                type: string
                                description: "Relation type\n* OWNER - "
                                enum:
                                  - OWNER
                                default: OWNER
                        account_number:
                          type: integer
                          description: The serial account number of the account in the account group.
                          minimum: 1
                        name:
                          type: string
                          description: The name of the account.
                          maxLength: 100
                        status:
                          type: string
                          description: >-
                            The status of the account

                            * PENDING_APPROVAL - Account approval is pending - the account is visible through our API but cannot be acted on.

                            * ACTIVE - Account is active - full functionality of the Investment API is accessible.

                            * CLOSING - Account is closing - only sell orders or the transfer of positions out are permissible before the account is closed.

                            * CLOSED - Account is closed with zero balance successfully.

                            * LOCKED - Account is locked for all actions.
                          enum:
                            - PENDING_APPROVAL
                            - ACTIVE
                            - CLOSING
                            - CLOSED
                            - LOCKED
                      required:
                        - id
                        - created_at
                        - updated_at
                        - account_group_id
                        - type
                        - users
                        - name
                        - status
                        - account_number
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 1
                  total_count: 1
                  sort: id
                  order: ASC
                data:
                  - id: ad45b27f-c0e7-4cfb-b48c-a83670dbdfbd
                    created_at: 2020-08-24T14:15:22Z
                    updated_at: 2020-08-24T14:15:22Z
                    account_group_id: fa2414ed-8d62-46fd-85ed-565a340c81d6
                    type: TRADING
                    users:
                      - id: 9c36af78-91a0-4174-a515-fc81214e3dab
                        type: OWNER
                    account_number: 1
                    name: Main account
                    status: ACTIVE
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/accounts/{account_id}":
    parameters:
      - name: account_id
        in: path
        required: true
        schema:
          title: Account unique identifier.
          type: string
          description: Account unique identifier.
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_account
      summary: Get a user account by ID
      description: Returns the user account specified by its ID.
      tags:
        - Accounts
      security:
        - oauth-client-credentials:
            - accounts:read
            - accounts:admin
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Account
                type: object
                description: ""
                properties:
                  id:
                    title: Account unique identifier.
                    type: string
                    description: Account unique identifier.
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  account_group_id:
                    title: Account group unique identifier.
                    type: string
                    description: Account group unique identifier.
                    format: uuid
                  type:
                    type: string
                    description: >-
                      Account type.

                      * TRADING - Orders in accounts of this type are created on a specific instrument basis.

                      * PORTFOLIO - Orders in accounts of this type are created on a portfolio basis and additional portfolio functionality is available.
                    enum:
                      - TRADING
                      - PORTFOLIO
                  users:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          title: User unique identifier.
                          type: string
                          description: User unique identifier.
                          format: uuid
                        type:
                          type: string
                          description: "Relation type\n* OWNER - "
                          enum:
                            - OWNER
                          default: OWNER
                  account_number:
                    type: integer
                    description: The serial account number of the account in the account group.
                    minimum: 1
                  name:
                    type: string
                    description: The name of the account.
                    maxLength: 100
                  status:
                    type: string
                    description: >-
                      The status of the account

                      * PENDING_APPROVAL - Account approval is pending - the account is visible through our API but cannot be acted on.

                      * ACTIVE - Account is active - full functionality of the Investment API is accessible.

                      * CLOSING - Account is closing - only sell orders or the transfer of positions out are permissible before the account is closed.

                      * CLOSED - Account is closed with zero balance successfully.

                      * LOCKED - Account is locked for all actions.
                    enum:
                      - PENDING_APPROVAL
                      - ACTIVE
                      - CLOSING
                      - CLOSED
                      - LOCKED
                required:
                  - id
                  - created_at
                  - updated_at
                  - account_group_id
                  - type
                  - users
                  - name
                  - status
                  - account_number
                additionalProperties: false
              example:
                id: ad45b27f-c0e7-4cfb-b48c-a83670dbdfbd
                created_at: 2020-08-24T14:15:22Z
                updated_at: 2020-08-24T14:15:22Z
                account_group_id: fa2414ed-8d62-46fd-85ed-565a340c81d6
                type: TRADING
                users:
                  - id: 9c36af78-91a0-4174-a515-fc81214e3dab
                    type: OWNER
                account_number: 1
                name: Main account
                status: ACTIVE
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    patch:
      operationId: update_account
      summary: Update user account
      description: Updates the user account specified by its ID.
      tags:
        - Accounts
      security:
        - oauth-client-credentials:
            - accounts:admin
      requestBody:
        content:
          application/json:
            schema:
              title: Account - Update - Request
              type: object
              properties:
                name:
                  type: string
                  description: The name of the account.
                  maxLength: 100
              additionalProperties: false
            example:
              name: Main account
      responses:
        "200":
          description: Account updated.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Account
                type: object
                description: ""
                properties:
                  id:
                    title: Account unique identifier.
                    type: string
                    description: Account unique identifier.
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  account_group_id:
                    title: Account group unique identifier.
                    type: string
                    description: Account group unique identifier.
                    format: uuid
                  type:
                    type: string
                    description: >-
                      Account type.

                      * TRADING - Orders in accounts of this type are created on a specific instrument basis.

                      * PORTFOLIO - Orders in accounts of this type are created on a portfolio basis and additional portfolio functionality is available.
                    enum:
                      - TRADING
                      - PORTFOLIO
                  users:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          title: User unique identifier.
                          type: string
                          description: User unique identifier.
                          format: uuid
                        type:
                          type: string
                          description: "Relation type\n* OWNER - "
                          enum:
                            - OWNER
                          default: OWNER
                  account_number:
                    type: integer
                    description: The serial account number of the account in the account group.
                    minimum: 1
                  name:
                    type: string
                    description: The name of the account.
                    maxLength: 100
                  status:
                    type: string
                    description: >-
                      The status of the account

                      * PENDING_APPROVAL - Account approval is pending - the account is visible through our API but cannot be acted on.

                      * ACTIVE - Account is active - full functionality of the Investment API is accessible.

                      * CLOSING - Account is closing - only sell orders or the transfer of positions out are permissible before the account is closed.

                      * CLOSED - Account is closed with zero balance successfully.

                      * LOCKED - Account is locked for all actions.
                    enum:
                      - PENDING_APPROVAL
                      - ACTIVE
                      - CLOSING
                      - CLOSED
                      - LOCKED
                required:
                  - id
                  - created_at
                  - updated_at
                  - account_group_id
                  - type
                  - users
                  - name
                  - status
                  - account_number
                additionalProperties: false
              example:
                id: ad45b27f-c0e7-4cfb-b48c-a83670dbdfbd
                created_at: 2020-08-24T14:15:22Z
                updated_at: 2020-08-24T14:15:22Z
                account_group_id: fa2414ed-8d62-46fd-85ed-565a340c81d6
                type: TRADING
                users:
                  - id: 9c36af78-91a0-4174-a515-fc81214e3dab
                    type: OWNER
                account_number: 1
                name: Main account
                status: ACTIVE
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    delete:
      operationId: account_closure
      summary: Close a user account by ID
      description: Initiates the closure request for an account specified by its ID.
      tags:
        - Accounts
      security:
        - oauth-client-credentials:
            - accounts:admin
      responses:
        "202":
          description: The request has been successfully accepted and will be processed asynchronously.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "409":
          description: Conflict. An operation is not available for the current state of the resource.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 409
                type: conflict
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/accounts/{account_id}/positions":
    parameters:
      - name: account_id
        in: path
        required: true
        schema:
          title: Account unique identifier.
          type: string
          description: Account unique identifier.
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_positions
      summary: List positions
      description: List of account positions
      tags:
        - Positions
      security:
        - oauth-client-credentials:
            - positions:read
      parameters:
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
      responses:
        "200":
          description: Response
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Positions - List - Response
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        account_id:
                          title: Account unique identifier.
                          type: string
                          description: Account unique identifier.
                          format: uuid
                        instrument:
                          type: object
                          properties:
                            uuid:
                              type: string
                              description: Instrument unique identifier.
                              format: uuid
                            isin:
                              title: International securities identification number
                              type: string
                              description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                              pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                          required:
                            - uuid
                          additionalProperties: false
                        quantity:
                          type: string
                          pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                        locked_for_trading:
                          type: string
                          pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                        pending_settlement:
                          type: string
                          pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                        available_for_trading:
                          type: string
                          pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                      required:
                        - account_id
                        - instrument
                        - quantity
                        - locked_for_trading
                        - pending_settlement
                        - available_for_trading
                      additionalProperties: false
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                required:
                  - data
                  - meta
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 1
                  total_count: 1
                  sort: id
                  order: ASC
                data:
                  - account_id: c5161455-4d27-4781-bc74-f05532e49a77
                    instrument:
                      isin: US0378331005
                      uuid: ccb86937-8a39-4160-8d33-85bf9e902321
                    quantity: "10.4"
                    locked_for_trading: "5"
                    pending_settlement: "0"
                    available_for_trading: "5.4"
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/accounts/{account_id}/positions/{instrument_id}":
    parameters:
      - name: instrument_id
        in: path
        required: true
        schema:
          title: Instrument unique identifier
          description: Instrument unique identifier.
          oneOf:
            - title: International securities identification number with 'isin:' URN namespace
              type: string
              description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number), prefixed with a 'isin:' [URN scheme](https://datatracker.ietf.org/doc/html/rfc8141).
              pattern: ^(urn:)?isin:[A-Z]{2}[A-Z0-9]{9}[0-9]$
            - title: Universally Unique IDentifier (UUID) with 'uuid:' URN scheme
              type: string
              description: Universally Unique IDentifier (UUID) with 'uuid:' URN namespace, defined by [RFC 4122](https://datatracker.ietf.org/doc/html/rfc4122).
              pattern: ^(urn:)?uuid:[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
      - name: account_id
        in: path
        required: true
        schema:
          title: Account unique identifier.
          type: string
          description: Account unique identifier.
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_position
      summary: Retrieve position
      description: Retrieve an account position
      tags:
        - Positions
      security:
        - oauth-client-credentials:
            - positions:read
      responses:
        "200":
          description: Response
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                type: object
                properties:
                  account_id:
                    title: Account unique identifier.
                    type: string
                    description: Account unique identifier.
                    format: uuid
                  instrument:
                    type: object
                    properties:
                      uuid:
                        type: string
                        description: Instrument unique identifier.
                        format: uuid
                      isin:
                        title: International securities identification number
                        type: string
                        description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                        pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                    required:
                      - uuid
                    additionalProperties: false
                  quantity:
                    type: string
                    pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                  locked_for_trading:
                    type: string
                    pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                  pending_settlement:
                    type: string
                    pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                  available_for_trading:
                    type: string
                    pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                required:
                  - account_id
                  - instrument
                  - quantity
                  - locked_for_trading
                  - pending_settlement
                  - available_for_trading
                additionalProperties: false
              examples:
                position:
                  summary: Position Example
                  value:
                    account_id: c5161455-4d27-4781-bc74-f05532e49a77
                    instrument:
                      isin: US0378331005
                      uuid: ccb86937-8a39-4160-8d33-85bf9e902321
                    quantity: "10.4"
                    locked_for_trading: "5"
                    pending_settlement: "0"
                    available_for_trading: "5.4"
                unit_sell_order_new_and_filled_position_update:
                  summary: Position Example
                  value:
                    account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                    instrument:
                      isin: US0378331005
                      uuid: ccb86937-8a39-4160-8d33-85bf9e902321
                    quantity: "10"
                    locked_for_trading: "10"
                    pending_settlement: "0"
                    available_for_trading: "0"
                unit_sell_order_filled_position_update:
                  summary: Position Example
                  value:
                    account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                    instrument:
                      isin: US0378331005
                      uuid: ccb86937-8a39-4160-8d33-85bf9e902321
                    quantity: "0"
                    locked_for_trading: "0"
                    pending_settlement: "0"
                    available_for_trading: "0"
                nominal_buy_order_filled_positions_update:
                  summary: Position Example
                  value:
                    account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                    instrument:
                      isin: US0378331005
                      uuid: ccb86937-8a39-4160-8d33-85bf9e902321
                    quantity: "11.734334663"
                    locked_for_trading: "0"
                    pending_settlement: "0"
                    available_for_trading: "11.734334663"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/users/{user_id}/payments/reference_accounts":
    parameters:
      - $ref: "#/components/parameters/userID"
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_reference_accounts
      summary: Get reference accounts of a user
      description: Returns the list of reference accounts of a user specified by ID.
      tags:
        - Reference Accounts
      security:
        - oauth-client-credentials:
            - reference_accounts:admin
            - reference_accounts:read
      parameters:
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - id
              - created_at
            default: created_at
          description: Field of resource to sort by
          example: id
        - name: order
          in: query
          required: false
          schema:
            type: string
            enum:
              - ASC
              - DESC
            default: ASC
          description: Sort order of the result list if the `sort` parameter is specified. Use `ASC` for ascending or `DESC` for descending sort order.
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Users - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Reference Account
                      type: object
                      properties:
                        id:
                          title: Reference account unique identifier.
                          type: string
                          description: Reference account unique identifier.
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        user_id:
                          title: User unique identifier.
                          type: string
                          description: User unique identifier.
                          format: uuid
                        account_owner:
                          type: string
                          maxLength: 140
                          description: First and last name of the reference account owner
                        name:
                          type: string
                          maxLength: 100
                          description: Human-readable name of the reference bank account
                        iban:
                          title: International Bank Account Number (IBAN)
                          type: string
                          description: International Bank Account Number [IBAN](https://en.wikipedia.org/wiki/International_Bank_Account_Number).
                          pattern: ^[A-Z]{2}[0-9]{2}[A-Z0-9]{2}\*{10}[A-Z0-9]{4}$
                        bic:
                          title: Business Identifier Code
                          type: string
                          description: Business Identifier Code (also known as SWIFT-BIC, BIC, SWIFT ID or SWIFT code) [ISO 9362](https://en.wikipedia.org/wiki/ISO_9362).
                          pattern: ^[A-Z]{6}[A-Z0-9]{2}([A-Z0-9]{3})?$
                        confirmed_at:
                          type: string
                          format: date-time
                          description: Timestamp of when user validated the reference account
                      required:
                        - id
                        - created_at
                        - updated_at
                        - user_id
                        - account_owner
                        - name
                        - iban
                        - bic
                        - confirmed_at
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              examples:
                SEPA:
                  summary: SEPA Reference Account
                  value:
                    meta:
                      offset: 0
                      limit: 100
                      count: 1
                      total_count: 1
                    data:
                      - id: c18f80bd-401e-4836-9776-7dc24c32d35e
                        created_at: 2020-08-24T14:15:22Z
                        updated_at: 2020-08-24T14:15:22Z
                        user_id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
                        account_owner: Max Mustermann
                        name: Max's Reference Account
                        iban: DE0210**********0402
                        bic: BELADEBE
                        confirmed_at: 2020-08-23T14:15:22Z
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /payments/reference_accounts:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    post:
      operationId: create_reference_account
      summary: Create a reference account
      description: Creates a new reference account for a user specified by ID.
      tags:
        - Reference Accounts
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      security:
        - oauth-client-credentials:
            - reference_accounts:admin
      requestBody:
        content:
          application/json:
            schema:
              title: Reference Account - Create - Request
              type: object
              properties:
                user_id:
                  title: User unique identifier.
                  type: string
                  description: User unique identifier.
                  format: uuid
                account_owner:
                  type: string
                  maxLength: 140
                  description: First and last name of the reference account owner
                name:
                  type: string
                  maxLength: 100
                  description: Human-readable name of the reference bank account
                iban:
                  title: International Bank Account Number (IBAN)
                  type: string
                  description: International Bank Account Number [IBAN](https://en.wikipedia.org/wiki/International_Bank_Account_Number).
                  pattern: ^[A-Z]{2}[0-9]{2}[A-Z0-9]{11,26}$
                bic:
                  title: Business Identifier Code
                  type: string
                  description: Business Identifier Code (also known as SWIFT-BIC, BIC, SWIFT ID or SWIFT code) [ISO 9362](https://en.wikipedia.org/wiki/ISO_9362).
                  pattern: ^[A-Z]{6}[A-Z0-9]{2}([A-Z0-9]{3})?$
                confirmed_at:
                  type: string
                  format: date-time
                  description: Timestamp of when user validated the reference account
              required:
                - account_owner
                - iban
                - bic
                - confirmed_at
              additionalProperties: false
            examples:
              SEPA:
                summary: SEPA Reference Account
                value:
                  user_id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
                  account_owner: Max Mustermann
                  name: Max's Reference Account
                  iban: DE02100500000054540402
                  bic: BELADEBE
                  confirmed_at: 2020-08-23T14:15:22Z
      responses:
        "200":
          description: Reference account created.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Reference Account
                type: object
                properties:
                  id:
                    title: Reference account unique identifier.
                    type: string
                    description: Reference account unique identifier.
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  user_id:
                    title: User unique identifier.
                    type: string
                    description: User unique identifier.
                    format: uuid
                  account_owner:
                    type: string
                    maxLength: 140
                    description: First and last name of the reference account owner
                  name:
                    type: string
                    maxLength: 100
                    description: Human-readable name of the reference bank account
                  iban:
                    title: International Bank Account Number (IBAN)
                    type: string
                    description: International Bank Account Number [IBAN](https://en.wikipedia.org/wiki/International_Bank_Account_Number).
                    pattern: ^[A-Z]{2}[0-9]{2}[A-Z0-9]{2}\*{10}[A-Z0-9]{4}$
                  bic:
                    title: Business Identifier Code
                    type: string
                    description: Business Identifier Code (also known as SWIFT-BIC, BIC, SWIFT ID or SWIFT code) [ISO 9362](https://en.wikipedia.org/wiki/ISO_9362).
                    pattern: ^[A-Z]{6}[A-Z0-9]{2}([A-Z0-9]{3})?$
                  confirmed_at:
                    type: string
                    format: date-time
                    description: Timestamp of when user validated the reference account
                required:
                  - id
                  - created_at
                  - updated_at
                  - user_id
                  - account_owner
                  - name
                  - iban
                  - bic
                  - confirmed_at
                additionalProperties: false
              examples:
                SEPA:
                  summary: SEPA Reference Account
                  value:
                    id: c18f80bd-401e-4836-9776-7dc24c32d35e
                    created_at: 2020-08-24T14:15:22Z
                    updated_at: 2020-08-24T14:15:22Z
                    user_id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
                    account_owner: Max Mustermann
                    name: Max's Reference Account
                    iban: DE0210**********0402
                    bic: BELADEBE
                    confirmed_at: 2020-08-23T14:15:22Z
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/payments/reference_accounts/{reference_account_id}":
    parameters:
      - name: reference_account_id
        in: path
        required: true
        schema:
          title: Reference account unique identifier.
          type: string
          description: Reference account unique identifier.
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_reference_account
      summary: Get a reference account by ID
      description: Retrieves the reference account specified by its ID.
      tags:
        - Reference Accounts
      security:
        - oauth-client-credentials:
            - reference_accounts:admin
            - reference_accounts:read
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Reference Account
                type: object
                properties:
                  id:
                    title: Reference account unique identifier.
                    type: string
                    description: Reference account unique identifier.
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  user_id:
                    title: User unique identifier.
                    type: string
                    description: User unique identifier.
                    format: uuid
                  account_owner:
                    type: string
                    maxLength: 140
                    description: First and last name of the reference account owner
                  name:
                    type: string
                    maxLength: 100
                    description: Human-readable name of the reference bank account
                  iban:
                    title: International Bank Account Number (IBAN)
                    type: string
                    description: International Bank Account Number [IBAN](https://en.wikipedia.org/wiki/International_Bank_Account_Number).
                    pattern: ^[A-Z]{2}[0-9]{2}[A-Z0-9]{2}\*{10}[A-Z0-9]{4}$
                  bic:
                    title: Business Identifier Code
                    type: string
                    description: Business Identifier Code (also known as SWIFT-BIC, BIC, SWIFT ID or SWIFT code) [ISO 9362](https://en.wikipedia.org/wiki/ISO_9362).
                    pattern: ^[A-Z]{6}[A-Z0-9]{2}([A-Z0-9]{3})?$
                  confirmed_at:
                    type: string
                    format: date-time
                    description: Timestamp of when user validated the reference account
                required:
                  - id
                  - created_at
                  - updated_at
                  - user_id
                  - account_owner
                  - name
                  - iban
                  - bic
                  - confirmed_at
                additionalProperties: false
              examples:
                SEPA:
                  summary: SEPA Reference Account
                  value:
                    id: c18f80bd-401e-4836-9776-7dc24c32d35e
                    created_at: 2020-08-24T14:15:22Z
                    updated_at: 2020-08-24T14:15:22Z
                    user_id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
                    account_owner: Max Mustermann
                    name: Max's Reference Account
                    iban: DE0210**********0402
                    bic: BELADEBE
                    confirmed_at: 2020-08-23T14:15:22Z
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    delete:
      operationId: delete_reference_account
      summary: Delete a reference account by ID
      description: Deletes the reference account specified by its ID.
      tags:
        - Reference Accounts
      security:
        - oauth-client-credentials:
            - reference_accounts:admin
      responses:
        "204":
          description: Request has been processed successfully.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/users/{user_id}/payments/mandates":
    parameters:
      - $ref: "#/components/parameters/userID"
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_mandates
      summary: List mandates
      description: List mandates
      tags:
        - Mandates
      security:
        - oauth-client-credentials:
            - mandates:admin
            - mandates:read
      parameters:
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - id
              - created_at
            default: created_at
          description: Field of resource to sort by
          example: id
        - name: order
          in: query
          required: false
          schema:
            type: string
            enum:
              - ASC
              - DESC
            default: ASC
          description: Sort order of the result list if the `sort` parameter is specified. Use `ASC` for ascending or `DESC` for descending sort order.
        - $ref: "#/components/parameters/limit"
        - $ref: "#/components/parameters/offset"
      responses:
        "200":
          description: Mandates list
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Mandates - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Direct Debit Mandate
                      type: object
                      properties:
                        id:
                          title: Direct Debit Mandate unique identifier.
                          type: string
                          description: Direct Debit Mandate unique identifier.
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        user_id:
                          title: User unique identifier.
                          type: string
                          description: User unique identifier.
                          format: uuid
                        iban:
                          title: International Bank Account Number (IBAN)
                          type: string
                          description: International Bank Account Number [IBAN](https://en.wikipedia.org/wiki/International_Bank_Account_Number).
                          pattern: ^[A-Z]{2}[0-9]{2}[A-Z0-9]{2}\*{10}[A-Z0-9]{4}$
                        bic:
                          title: Business Identifier Code
                          type: string
                          description: Business Identifier Code (also known as SWIFT-BIC, BIC, SWIFT ID or SWIFT code) [ISO 9362](https://en.wikipedia.org/wiki/ISO_9362).
                          pattern: ^[A-Z]{6}[A-Z0-9]{2}([A-Z0-9]{3})?$
                        creditor_name:
                          type: string
                          maxLength: 100
                          description: Name of the creditor on the mandate.
                        creditor_id:
                          type: string
                          maxLength: 20
                          description: Banking identifier of the creditor.
                        creditor_address:
                          title: Address
                          type: object
                          description: Address. Must not be a P.O. box or c/o address.
                          properties:
                            address_line1:
                              type: string
                              description: First address line of the address.
                              maxLength: 100
                            address_line2:
                              type: string
                              description: Second address line of the address.
                              maxLength: 100
                            postcode:
                              title: Postal code
                              type: string
                              description: Postal code (postcode, PIN or ZIP code)
                              pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                            country:
                              description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              pattern: ^[A-Z]{2}$
                            state:
                              description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              maxLength: 50
                            city:
                              title: City name
                              type: string
                              minLength: 1
                              maxLength: 85
                          required:
                            - address_line1
                            - postcode
                            - country
                            - city
                        type:
                          type: string
                          maxLength: 10
                          enum:
                            - RECURRENT
                          default: RECURRENT
                          description: "Type of mandate.\n* RECURRENT - "
                        confirmed_at:
                          type: string
                          format: date-time
                          description: Timestamp of when user validated the mandate
                      required:
                        - id
                        - created_at
                        - user_id
                        - iban
                        - bic
                        - creditor_name
                        - creditor_id
                        - creditor_address
                        - type
                        - confirmed_at
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 1
                  total_count: 1
                  sort: id
                  order: ASC
                data:
                  - id: 9c5a7dea-46f2-4502-b6b5-9902a53860e4
                    created_at: 2020-08-24T14:15:22Z
                    user_id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
                    iban: DE8900**********0000
                    bic: ABCDEXXX
                    creditor_name: Creditor Company
                    creditor_id: DE98ZZZ09999999999
                    creditor_address:
                      address_line1: Strasse 1
                      address_line2: Company GmbH
                      postcode: "12345"
                      city: Berlin
                      state: BE
                      country: DE
                    type: RECURRENT
                    confirmed_at: 2021-12-08T08:38:48.021Z
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /payments/mandates:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    post:
      operationId: create_mandate
      summary: Create a mandate
      description: Create a mandate
      tags:
        - Mandates
      security:
        - oauth-client-credentials:
            - mandates:admin
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      requestBody:
        content:
          application/json:
            schema:
              title: Mandate - Create - Request
              type: object
              properties:
                user_id:
                  title: User unique identifier.
                  type: string
                  description: User unique identifier.
                  format: uuid
                iban:
                  title: International Bank Account Number (IBAN)
                  type: string
                  description: International Bank Account Number [IBAN](https://en.wikipedia.org/wiki/International_Bank_Account_Number).
                  pattern: ^[A-Z]{2}[0-9]{2}[A-Z0-9]{11,26}$
                bic:
                  title: Business Identifier Code
                  type: string
                  description: Business Identifier Code (also known as SWIFT-BIC, BIC, SWIFT ID or SWIFT code) [ISO 9362](https://en.wikipedia.org/wiki/ISO_9362).
                  pattern: ^[A-Z]{6}[A-Z0-9]{2}([A-Z0-9]{3})?$
                confirmed_at:
                  type: string
                  format: date-time
                  description: Timestamp of when user validated the mandate
              required:
                - iban
                - bic
                - confirmed_at
              additionalProperties: false
            example:
              user_id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
              iban: DE89000000000000000000
              bic: ABCDEXXX
              confirmed_at: 2021-12-08T08:38:48.021Z
      responses:
        "200":
          description: Mandate
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Direct Debit Mandate
                type: object
                properties:
                  id:
                    title: Direct Debit Mandate unique identifier.
                    type: string
                    description: Direct Debit Mandate unique identifier.
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  user_id:
                    title: User unique identifier.
                    type: string
                    description: User unique identifier.
                    format: uuid
                  iban:
                    title: International Bank Account Number (IBAN)
                    type: string
                    description: International Bank Account Number [IBAN](https://en.wikipedia.org/wiki/International_Bank_Account_Number).
                    pattern: ^[A-Z]{2}[0-9]{2}[A-Z0-9]{2}\*{10}[A-Z0-9]{4}$
                  bic:
                    title: Business Identifier Code
                    type: string
                    description: Business Identifier Code (also known as SWIFT-BIC, BIC, SWIFT ID or SWIFT code) [ISO 9362](https://en.wikipedia.org/wiki/ISO_9362).
                    pattern: ^[A-Z]{6}[A-Z0-9]{2}([A-Z0-9]{3})?$
                  creditor_name:
                    type: string
                    maxLength: 100
                    description: Name of the creditor on the mandate.
                  creditor_id:
                    type: string
                    maxLength: 20
                    description: Banking identifier of the creditor.
                  creditor_address:
                    title: Address
                    type: object
                    description: Address. Must not be a P.O. box or c/o address.
                    properties:
                      address_line1:
                        type: string
                        description: First address line of the address.
                        maxLength: 100
                      address_line2:
                        type: string
                        description: Second address line of the address.
                        maxLength: 100
                      postcode:
                        title: Postal code
                        type: string
                        description: Postal code (postcode, PIN or ZIP code)
                        pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                      country:
                        description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                        type: string
                        pattern: ^[A-Z]{2}$
                      state:
                        description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                        type: string
                        maxLength: 50
                      city:
                        title: City name
                        type: string
                        minLength: 1
                        maxLength: 85
                    required:
                      - address_line1
                      - postcode
                      - country
                      - city
                  type:
                    type: string
                    maxLength: 10
                    enum:
                      - RECURRENT
                    default: RECURRENT
                    description: "Type of mandate.\n* RECURRENT - "
                  confirmed_at:
                    type: string
                    format: date-time
                    description: Timestamp of when user validated the mandate
                required:
                  - id
                  - created_at
                  - user_id
                  - iban
                  - bic
                  - creditor_name
                  - creditor_id
                  - creditor_address
                  - type
                  - confirmed_at
                additionalProperties: false
              example:
                id: 9c5a7dea-46f2-4502-b6b5-9902a53860e4
                created_at: 2020-08-24T14:15:22Z
                user_id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
                iban: DE8900**********0000
                bic: ABCDEXXX
                creditor_name: Creditor Company
                creditor_id: DE98ZZZ09999999999
                creditor_address:
                  address_line1: Strasse 1
                  address_line2: Company GmbH
                  postcode: "12345"
                  city: Berlin
                  state: BE
                  country: DE
                type: RECURRENT
                confirmed_at: 2021-12-08T08:38:48.021Z
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/payments/mandates/{mandate_id}":
    parameters:
      - name: mandate_id
        in: path
        required: true
        schema:
          title: Direct Debit Mandate unique identifier.
          type: string
          description: Direct Debit Mandate unique identifier.
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_mandate
      summary: Retrieve a direct debit mandate
      description: Retrieve a direct debit mandate
      tags:
        - Mandates
      security:
        - oauth-client-credentials:
            - mandates:admin
            - mandates:read
      responses:
        "200":
          description: Mandate
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Direct Debit Mandate
                type: object
                properties:
                  id:
                    title: Direct Debit Mandate unique identifier.
                    type: string
                    description: Direct Debit Mandate unique identifier.
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  user_id:
                    title: User unique identifier.
                    type: string
                    description: User unique identifier.
                    format: uuid
                  iban:
                    title: International Bank Account Number (IBAN)
                    type: string
                    description: International Bank Account Number [IBAN](https://en.wikipedia.org/wiki/International_Bank_Account_Number).
                    pattern: ^[A-Z]{2}[0-9]{2}[A-Z0-9]{2}\*{10}[A-Z0-9]{4}$
                  bic:
                    title: Business Identifier Code
                    type: string
                    description: Business Identifier Code (also known as SWIFT-BIC, BIC, SWIFT ID or SWIFT code) [ISO 9362](https://en.wikipedia.org/wiki/ISO_9362).
                    pattern: ^[A-Z]{6}[A-Z0-9]{2}([A-Z0-9]{3})?$
                  creditor_name:
                    type: string
                    maxLength: 100
                    description: Name of the creditor on the mandate.
                  creditor_id:
                    type: string
                    maxLength: 20
                    description: Banking identifier of the creditor.
                  creditor_address:
                    title: Address
                    type: object
                    description: Address. Must not be a P.O. box or c/o address.
                    properties:
                      address_line1:
                        type: string
                        description: First address line of the address.
                        maxLength: 100
                      address_line2:
                        type: string
                        description: Second address line of the address.
                        maxLength: 100
                      postcode:
                        title: Postal code
                        type: string
                        description: Postal code (postcode, PIN or ZIP code)
                        pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                      country:
                        description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                        type: string
                        pattern: ^[A-Z]{2}$
                      state:
                        description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                        type: string
                        maxLength: 50
                      city:
                        title: City name
                        type: string
                        minLength: 1
                        maxLength: 85
                    required:
                      - address_line1
                      - postcode
                      - country
                      - city
                  type:
                    type: string
                    maxLength: 10
                    enum:
                      - RECURRENT
                    default: RECURRENT
                    description: "Type of mandate.\n* RECURRENT - "
                  confirmed_at:
                    type: string
                    format: date-time
                    description: Timestamp of when user validated the mandate
                required:
                  - id
                  - created_at
                  - user_id
                  - iban
                  - bic
                  - creditor_name
                  - creditor_id
                  - creditor_address
                  - type
                  - confirmed_at
                additionalProperties: false
              example:
                id: 9c5a7dea-46f2-4502-b6b5-9902a53860e4
                created_at: 2020-08-24T14:15:22Z
                user_id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
                iban: DE8900**********0000
                bic: ABCDEXXX
                creditor_name: Creditor Company
                creditor_id: DE98ZZZ09999999999
                creditor_address:
                  address_line1: Strasse 1
                  address_line2: Company GmbH
                  postcode: "12345"
                  city: Berlin
                  state: BE
                  country: DE
                type: RECURRENT
                confirmed_at: 2021-12-08T08:38:48.021Z
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    delete:
      operationId: delete_mandate
      summary: Delete mandate
      description: Delete mandate
      tags:
        - Mandates
      security:
        - oauth-client-credentials:
            - mandates:admin
      responses:
        "204":
          description: Request has been processed successfully.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/account_groups/{account_group_id}/payments/direct_debits":
    parameters:
      - name: account_group_id
        in: path
        required: true
        schema:
          title: Account group unique identifier.
          type: string
          description: Account group unique identifier.
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_direct_debits
      summary: List direct debits
      description: List direct debits
      tags:
        - Payments
      security:
        - oauth-client-credentials:
            - payments:admin
            - payments:read
      parameters:
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - id
              - created_at
            default: created_at
          description: Field of resource to sort by
          example: id
        - name: order
          in: query
          required: false
          schema:
            type: string
            enum:
              - ASC
              - DESC
            default: ASC
          description: Sort order of the result list if the `sort` parameter is specified. Use `ASC` for ascending or `DESC` for descending sort order.
        - $ref: "#/components/parameters/limit"
        - $ref: "#/components/parameters/offset"
      responses:
        "200":
          description: Direct debits list
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Payments - Direct Debits List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          title: Direct debit funding request unique identifier
                          type: string
                          description: Direct debit funding request unique identifier
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        user_id:
                          title: User unique identifier.
                          type: string
                          description: User unique identifier.
                          format: uuid
                        account_group_id:
                          title: Account group unique identifier.
                          type: string
                          description: Account group unique identifier.
                          format: uuid
                        mandate_id:
                          title: Direct Debit Mandate unique identifier.
                          type: string
                          description: Direct Debit Mandate unique identifier.
                          format: uuid
                        cash_amount:
                          type: string
                          pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                        currency:
                          type: string
                          format: ISO4217
                          description: >-
                            Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                            * EUR - Euro
                          enum:
                            - EUR
                          default: EUR
                        remittance_information:
                          type: string
                          maxLength: 140
                          pattern: ^[0-9A-Za-z+?/\-:()\.,'; ]{0,140}$
                          description: Payment reference the end user will see in their bank statement for the corresponding direct debit booking (“Verwendungszweck”)
                        status:
                          type: string
                          description: >-
                            Status of the direct debit

                            * NEW - Direct debit is created but not started processing.

                            * PROCESSING - Direct debit is in processing.

                            * CONFIRMED - Direct debit was successfully processed.

                            * CANCELLED - Direct debit was cancelled.
                          enum:
                            - NEW
                            - PROCESSING
                            - CONFIRMED
                            - CANCELLED
                      required:
                        - id
                        - created_at
                        - user_id
                        - account_group_id
                        - mandate_id
                        - cash_amount
                        - currency
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 1
                  total_count: 1
                  sort: id
                  order: ASC
                data:
                  - id: 1ab4fef9-a097-4c6f-9345-647025d5fde6
                    created_at: 2020-08-24T14:15:22Z
                    user_id: 82b49999-1145-4e05-916a-567662daa7bc
                    account_group_id: 1ea60f56-b67b-61fc-829a-0242ac130003
                    mandate_id: 730b8719-0bc6-401d-98dd-b2de72afbf05
                    cash_amount: "200.00"
                    currency: EUR
                    remittance_information: payment for green energy portfolio
                    status: NEW
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /payments/direct_debits:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    post:
      operationId: create_direct_debit
      summary: Trigger a direct debit
      description: Trigger a direct debit
      tags:
        - Payments
      security:
        - oauth-client-credentials:
            - payments:admin
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      requestBody:
        content:
          application/json:
            schema:
              title: Payments - Direct Debit - Create - Request
              type: object
              properties:
                user_id:
                  title: User unique identifier.
                  type: string
                  description: User unique identifier.
                  format: uuid
                account_group_id:
                  title: Account group unique identifier.
                  type: string
                  description: Account group unique identifier.
                  format: uuid
                mandate_id:
                  title: Direct Debit Mandate unique identifier.
                  type: string
                  description: Direct Debit Mandate unique identifier.
                  format: uuid
                cash_amount:
                  type: string
                  pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                remittance_information:
                  type: string
                  maxLength: 140
                  pattern: ^[0-9A-Za-z+?/\-:()\.,'; ]{0,140}$
                  description: Payment reference the end user will see in their bank statement for the corresponding direct debit booking (“Verwendungszweck”)
              required:
                - user_id
                - account_group_id
                - mandate_id
                - cash_amount
              additionalProperties: false
            example:
              user_id: 83d83ec2-d2ca-49ff-bbea-b92b5c3be202
              account_group_id: 1ea60f56-b67b-61fc-829a-0242ac130003
              mandate_id: 95b8304e-19fc-4cd9-8e50-82532e6b8d8c
              cash_amount: "200.00"
              remittance_information: payment for green energy portfolio
      responses:
        "200":
          description: Direct debit
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    title: Direct debit funding request unique identifier
                    type: string
                    description: Direct debit funding request unique identifier
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  user_id:
                    title: User unique identifier.
                    type: string
                    description: User unique identifier.
                    format: uuid
                  account_group_id:
                    title: Account group unique identifier.
                    type: string
                    description: Account group unique identifier.
                    format: uuid
                  mandate_id:
                    title: Direct Debit Mandate unique identifier.
                    type: string
                    description: Direct Debit Mandate unique identifier.
                    format: uuid
                  cash_amount:
                    type: string
                    pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                  currency:
                    type: string
                    format: ISO4217
                    description: >-
                      Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                      * EUR - Euro
                    enum:
                      - EUR
                    default: EUR
                  remittance_information:
                    type: string
                    maxLength: 140
                    pattern: ^[0-9A-Za-z+?/\-:()\.,'; ]{0,140}$
                    description: Payment reference the end user will see in their bank statement for the corresponding direct debit booking (“Verwendungszweck”)
                  status:
                    type: string
                    description: >-
                      Status of the direct debit

                      * NEW - Direct debit is created but not started processing.

                      * PROCESSING - Direct debit is in processing.

                      * CONFIRMED - Direct debit was successfully processed.

                      * CANCELLED - Direct debit was cancelled.
                    enum:
                      - NEW
                      - PROCESSING
                      - CONFIRMED
                      - CANCELLED
                required:
                  - id
                  - created_at
                  - user_id
                  - account_group_id
                  - mandate_id
                  - cash_amount
                  - currency
                additionalProperties: false
              example:
                id: 1ab4fef9-a097-4c6f-9345-647025d5fde6
                created_at: 2020-08-24T14:15:22Z
                user_id: 82b49999-1145-4e05-916a-567662daa7bc
                account_group_id: 1ea60f56-b67b-61fc-829a-0242ac130003
                mandate_id: 730b8719-0bc6-401d-98dd-b2de72afbf05
                cash_amount: "200.00"
                currency: EUR
                status: NEW
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/payments/direct_debits/{direct_debit_id}":
    parameters:
      - name: direct_debit_id
        in: path
        required: true
        schema:
          title: Direct debit funding request unique identifier
          type: string
          description: Direct debit funding request unique identifier
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_direct_debit
      summary: Retrieve a direct debit
      description: Retrieve a direct debit
      tags:
        - Payments
      security:
        - oauth-client-credentials:
            - payments:admin
            - payments:read
      responses:
        "200":
          description: Direct debit payment
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    title: Direct debit funding request unique identifier
                    type: string
                    description: Direct debit funding request unique identifier
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  user_id:
                    title: User unique identifier.
                    type: string
                    description: User unique identifier.
                    format: uuid
                  account_group_id:
                    title: Account group unique identifier.
                    type: string
                    description: Account group unique identifier.
                    format: uuid
                  mandate_id:
                    title: Direct Debit Mandate unique identifier.
                    type: string
                    description: Direct Debit Mandate unique identifier.
                    format: uuid
                  cash_amount:
                    type: string
                    pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                  currency:
                    type: string
                    format: ISO4217
                    description: >-
                      Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                      * EUR - Euro
                    enum:
                      - EUR
                    default: EUR
                  remittance_information:
                    type: string
                    maxLength: 140
                    pattern: ^[0-9A-Za-z+?/\-:()\.,'; ]{0,140}$
                    description: Payment reference the end user will see in their bank statement for the corresponding direct debit booking (“Verwendungszweck”)
                  status:
                    type: string
                    description: >-
                      Status of the direct debit

                      * NEW - Direct debit is created but not started processing.

                      * PROCESSING - Direct debit is in processing.

                      * CONFIRMED - Direct debit was successfully processed.

                      * CANCELLED - Direct debit was cancelled.
                    enum:
                      - NEW
                      - PROCESSING
                      - CONFIRMED
                      - CANCELLED
                required:
                  - id
                  - created_at
                  - user_id
                  - account_group_id
                  - mandate_id
                  - cash_amount
                  - currency
                additionalProperties: false
              example:
                id: 1ab4fef9-a097-4c6f-9345-647025d5fde6
                created_at: 2020-08-24T14:15:22Z
                user_id: 82b49999-1145-4e05-916a-567662daa7bc
                account_group_id: 1ea60f56-b67b-61fc-829a-0242ac130003
                mandate_id: 730b8719-0bc6-401d-98dd-b2de72afbf05
                cash_amount: "200.00"
                currency: EUR
                remittance_information: payment for green energy portfolio
                status: NEW
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /payments/withdrawals:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    post:
      operationId: create_cash_withdrawal
      summary: Trigger a withdrawal
      description: Trigger a withdrawal
      tags:
        - Payments
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      security:
        - oauth-client-credentials:
            - payments:admin
      requestBody:
        content:
          application/json:
            schema:
              title: Payments - Withdrawal - Create - Request
              type: object
              additionalProperties: false
              properties:
                reference_account_id:
                  title: Reference account unique identifier.
                  type: string
                  description: Reference account unique identifier.
                  format: uuid
                account_group_id:
                  title: Account group unique identifier.
                  type: string
                  description: Account group unique identifier.
                  format: uuid
                user_id:
                  title: User unique identifier.
                  type: string
                  description: User unique identifier.
                  format: uuid
                amount:
                  type: string
                  pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                remittance_information:
                  type: string
                  maxLength: 140
                  pattern: ^[0-9A-Za-z+?/\-:()\.,'; ]{0,140}$
                  description: Payment reference the end user will see in their bank statement for the corresponding credit transfer booking (“Verwendungszweck”)
              required:
                - reference_account_id
                - account_group_id
                - user_id
                - amount
            example:
              reference_account_id: 295378ec-036e-4f3f-ae5c-2be85c93e837
              account_group_id: 2596db3b-0d03-4651-9eda-970910479dfb
              user_id: e56c14b3-8370-4c04-bc67-7092f7ec113c
              amount: "200.00"
              remittance_information: Withdrawal
      responses:
        "200":
          description: Withdrawal
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Payments - Withdrawal
                type: object
                additionalProperties: false
                properties:
                  id:
                    title: Cash withdrawal unique identifier
                    type: string
                    description: Cash withdrawal unique identifier
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  reference_account_id:
                    title: Reference account unique identifier.
                    type: string
                    description: Reference account unique identifier.
                    format: uuid
                  account_group_id:
                    title: Account group unique identifier.
                    type: string
                    description: Account group unique identifier.
                    format: uuid
                  user_id:
                    title: User unique identifier.
                    type: string
                    description: User unique identifier.
                    format: uuid
                  amount:
                    type: string
                    pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                  currency:
                    type: string
                    format: ISO4217
                    description: >-
                      Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                      * EUR - Euro
                    enum:
                      - EUR
                    default: EUR
                  remittance_information:
                    type: string
                    maxLength: 140
                    pattern: ^[0-9A-Za-z+?/\-:()\.,'; ]{0,140}$
                    description: Payment reference the end user will see in their bank statement for the corresponding credit transfer booking (“Verwendungszweck”)
                  status:
                    type: string
                    description: |-
                      Status of the withdrawal
                      * NEW - Withdrawal is created but not started processing.
                      * PROCESSING - Withdrawal is in processing.
                      * CONFIRMED - Withdrawal was successfully processed.
                      * CANCELLED - Withdrawal was cancelled.
                    enum:
                      - NEW
                      - PROCESSING
                      - CONFIRMED
                      - CANCELLED
                required:
                  - id
                  - reference_account_id
                  - account_group_id
                  - user_id
                  - amount
                  - currency
                  - created_at
                  - updated_at
                  - remittance_information
              example:
                id: 6ffa6b16-2380-4e7a-88b2-ae625c8eef99
                created_at: 2020-08-24T14:15:22Z
                updated_at: 2020-08-24T14:15:22Z
                reference_account_id: 295378ec-036e-4f3f-ae5c-2be85c93e837
                account_group_id: ac1c39e9-2101-46b8-a624-d10a9e351b6c
                user_id: b668282b-cdf3-439a-bda2-3f3c9f655bb7
                amount: "200.00"
                currency: EUR
                remittance_information: Withdrawal
                status: NEW
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/payments/withdrawals/{withdrawal_id}":
    parameters:
      - name: withdrawal_id
        in: path
        required: true
        schema:
          title: Cash withdrawal unique identifier
          type: string
          description: Cash withdrawal unique identifier
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_cash_withdrawal
      summary: Retrieve withdrawal
      description: Retrieve withdrawal
      tags:
        - Payments
      security:
        - oauth-client-credentials:
            - payments:admin
            - payments:read
      responses:
        "200":
          description: Withdrawal
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Payments - Withdrawal
                type: object
                additionalProperties: false
                properties:
                  id:
                    title: Cash withdrawal unique identifier
                    type: string
                    description: Cash withdrawal unique identifier
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  reference_account_id:
                    title: Reference account unique identifier.
                    type: string
                    description: Reference account unique identifier.
                    format: uuid
                  account_group_id:
                    title: Account group unique identifier.
                    type: string
                    description: Account group unique identifier.
                    format: uuid
                  user_id:
                    title: User unique identifier.
                    type: string
                    description: User unique identifier.
                    format: uuid
                  amount:
                    type: string
                    pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                  currency:
                    type: string
                    format: ISO4217
                    description: >-
                      Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                      * EUR - Euro
                    enum:
                      - EUR
                    default: EUR
                  remittance_information:
                    type: string
                    maxLength: 140
                    pattern: ^[0-9A-Za-z+?/\-:()\.,'; ]{0,140}$
                    description: Payment reference the end user will see in their bank statement for the corresponding credit transfer booking (“Verwendungszweck”)
                  status:
                    type: string
                    description: |-
                      Status of the withdrawal
                      * NEW - Withdrawal is created but not started processing.
                      * PROCESSING - Withdrawal is in processing.
                      * CONFIRMED - Withdrawal was successfully processed.
                      * CANCELLED - Withdrawal was cancelled.
                    enum:
                      - NEW
                      - PROCESSING
                      - CONFIRMED
                      - CANCELLED
                required:
                  - id
                  - reference_account_id
                  - account_group_id
                  - user_id
                  - amount
                  - currency
                  - created_at
                  - updated_at
                  - remittance_information
              example:
                id: 6ffa6b16-2380-4e7a-88b2-ae625c8eef99
                created_at: 2020-08-24T14:15:22Z
                updated_at: 2020-08-24T14:15:22Z
                reference_account_id: 295378ec-036e-4f3f-ae5c-2be85c93e837
                account_group_id: ac1c39e9-2101-46b8-a624-d10a9e351b6c
                user_id: b668282b-cdf3-439a-bda2-3f3c9f655bb7
                amount: "200.00"
                currency: EUR
                remittance_information: Withdrawal
                status: CONFIRMED
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    delete:
      operationId: cancel_cash_withdrawal
      summary: Cancel withdrawal by ID
      description: Cancels a withdrawal specified by its ID. It is only possible to cancel a withdrawal if it has the status `NEW`.
      tags:
        - Payments
      security:
        - oauth-client-credentials:
            - payments:admin
      responses:
        "204":
          description: Request has been processed successfully.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "422":
          description: Unprocessable Entity. The syntax of request is correct but server can't process it due a semantic error.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 422
                type: unprocessable_entity
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/account_groups/{account_group_id}/payments/withdrawals":
    parameters:
      - name: account_group_id
        in: path
        required: true
        schema:
          title: Account group unique identifier.
          type: string
          description: Account group unique identifier.
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_cash_withdrawals
      summary: List withdrawals
      description: List withdrawals
      tags:
        - Payments
      security:
        - oauth-client-credentials:
            - payments:admin
            - payments:read
      parameters:
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - id
              - created_at
            default: created_at
          description: Field of resource to sort by
          example: id
        - name: order
          in: query
          required: false
          schema:
            type: string
            enum:
              - ASC
              - DESC
            default: ASC
          description: Sort order of the result list if the `sort` parameter is specified. Use `ASC` for ascending or `DESC` for descending sort order.
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
      responses:
        "200":
          description: Withdrawals list
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Withdrawals - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Payments - Withdrawal
                      type: object
                      additionalProperties: false
                      properties:
                        id:
                          title: Cash withdrawal unique identifier
                          type: string
                          description: Cash withdrawal unique identifier
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        reference_account_id:
                          title: Reference account unique identifier.
                          type: string
                          description: Reference account unique identifier.
                          format: uuid
                        account_group_id:
                          title: Account group unique identifier.
                          type: string
                          description: Account group unique identifier.
                          format: uuid
                        user_id:
                          title: User unique identifier.
                          type: string
                          description: User unique identifier.
                          format: uuid
                        amount:
                          type: string
                          pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                        currency:
                          type: string
                          format: ISO4217
                          description: >-
                            Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                            * EUR - Euro
                          enum:
                            - EUR
                          default: EUR
                        remittance_information:
                          type: string
                          maxLength: 140
                          pattern: ^[0-9A-Za-z+?/\-:()\.,'; ]{0,140}$
                          description: Payment reference the end user will see in their bank statement for the corresponding credit transfer booking (“Verwendungszweck”)
                        status:
                          type: string
                          description: |-
                            Status of the withdrawal
                            * NEW - Withdrawal is created but not started processing.
                            * PROCESSING - Withdrawal is in processing.
                            * CONFIRMED - Withdrawal was successfully processed.
                            * CANCELLED - Withdrawal was cancelled.
                          enum:
                            - NEW
                            - PROCESSING
                            - CONFIRMED
                            - CANCELLED
                      required:
                        - id
                        - reference_account_id
                        - account_group_id
                        - user_id
                        - amount
                        - currency
                        - created_at
                        - updated_at
                        - remittance_information
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 1
                  total_count: 1
                data:
                  - id: 6ffa6b16-2380-4e7a-88b2-ae625c8eef99
                    created_at: 2020-08-24T14:15:22Z
                    updated_at: 2020-08-24T14:15:22Z
                    reference_account_id: 295378ec-036e-4f3f-ae5c-2be85c93e837
                    account_group_id: ac1c39e9-2101-46b8-a624-d10a9e351b6c
                    user_id: b668282b-cdf3-439a-bda2-3f3c9f655bb7
                    amount: "200.00"
                    currency: EUR
                    remittance_information: Withdrawal
                    status: CONFIRMED
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /account_groups:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_account_groups
      summary: Get account groups
      description: Returns a list of all account groups.
      tags:
        - Accounts
      x-doctave-tags:
        - Account Groups
      security:
        - oauth-client-credentials:
            - accounts:read
            - accounts:admin
      parameters:
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - created_at
            default: created_at
          description: Sort the result by `created_at`.
        - $ref: "#/components/parameters/order"
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Account Groups - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Account Group
                      type: object
                      description: ""
                      properties:
                        id:
                          title: Account group unique identifier.
                          type: string
                          description: Account group unique identifier.
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        users:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                title: User unique identifier.
                                type: string
                                description: User unique identifier.
                                format: uuid
                              type:
                                type: string
                                description: "Relation type\n* OWNER - "
                                enum:
                                  - OWNER
                                default: OWNER
                        status:
                          type: string
                          description: >-
                            Status of the account group

                            * PENDING_APPROVAL - Account group approval is pending - the account group is visible through our API but cannot be acted on.

                            * ACTIVE - Account group is active - full functionality of the Investment API is accessible.

                            * CLOSING - Account group is closing.

                            * CLOSED - Account group is closed.

                            * LOCKED - Account group is locked for all actions.
                          enum:
                            - PENDING_APPROVAL
                            - ACTIVE
                            - CLOSING
                            - CLOSED
                            - LOCKED
                        type:
                          type: string
                          description: >-
                            Account group type.

                            * PERSONAL - Account group of a person holding assets on their own behalf.

                            * LEGAL_ENTITY - Account group of a legal entity holding assets on behalf of their users.
                          enum:
                            - PERSONAL
                            - LEGAL_ENTITY
                        securities_account_number:
                          type: string
                          description: Securities account number
                          pattern: ^[0-9]{9}$
                      required:
                        - id
                        - created_at
                        - updated_at
                        - users
                        - status
                        - type
                        - securities_account_number
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 1
                  total_count: 1
                  sort: id
                  order: ASC
                data:
                  - id: 9d95820d-4333-46b6-98de-04ab7512e76f
                    created_at: 2020-08-24T14:15:22Z
                    updated_at: 2020-08-24T14:15:22Z
                    type: PERSONAL
                    status: ACTIVE
                    users:
                      - id: 9c36af78-91a0-4174-a515-fc81214e3dab
                        type: OWNER
                    securities_account_number: "123456789"
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    post:
      operationId: create_account_group
      summary: Create an account group
      description: Creates an account group.
      tags:
        - Accounts
      x-doctave-tags:
        - Account Groups
      security:
        - oauth-client-credentials:
            - accounts:admin
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      requestBody:
        content:
          application/json:
            schema:
              title: Account Group - Create - Request
              type: object
              properties:
                user_id:
                  title: User unique identifier.
                  type: string
                  description: User unique identifier.
                  format: uuid
                type:
                  type: string
                  description: >-
                    Account group type.

                    * PERSONAL - Account group of a person holding assets on their own behalf.

                    * LEGAL_ENTITY - Account group of a legal entity holding assets on behalf of their users.
                  enum:
                    - PERSONAL
                    - LEGAL_ENTITY
              required:
                - user_id
                - type
              additionalProperties: false
            example:
              user_id: 413715f2-5401-4b97-8055-034a6b879f8c
              type: PERSONAL
      responses:
        "200":
          description: Account group created.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Account Group
                type: object
                description: ""
                properties:
                  id:
                    title: Account group unique identifier.
                    type: string
                    description: Account group unique identifier.
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  users:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          title: User unique identifier.
                          type: string
                          description: User unique identifier.
                          format: uuid
                        type:
                          type: string
                          description: "Relation type\n* OWNER - "
                          enum:
                            - OWNER
                          default: OWNER
                  status:
                    type: string
                    description: >-
                      Status of the account group

                      * PENDING_APPROVAL - Account group approval is pending - the account group is visible through our API but cannot be acted on.

                      * ACTIVE - Account group is active - full functionality of the Investment API is accessible.

                      * CLOSING - Account group is closing.

                      * CLOSED - Account group is closed.

                      * LOCKED - Account group is locked for all actions.
                    enum:
                      - PENDING_APPROVAL
                      - ACTIVE
                      - CLOSING
                      - CLOSED
                      - LOCKED
                  type:
                    type: string
                    description: >-
                      Account group type.

                      * PERSONAL - Account group of a person holding assets on their own behalf.

                      * LEGAL_ENTITY - Account group of a legal entity holding assets on behalf of their users.
                    enum:
                      - PERSONAL
                      - LEGAL_ENTITY
                  securities_account_number:
                    type: string
                    description: Securities account number
                    pattern: ^[0-9]{9}$
                required:
                  - id
                  - created_at
                  - updated_at
                  - users
                  - status
                  - type
                  - securities_account_number
                additionalProperties: false
              example:
                id: 9d95820d-4333-46b6-98de-04ab7512e76f
                created_at: 2020-08-24T14:15:22Z
                updated_at: 2020-08-24T14:15:22Z
                type: PERSONAL
                status: ACTIVE
                users:
                  - id: 413715f2-5401-4b97-8055-034a6b879f8c
                    type: OWNER
                securities_account_number: "123456789"
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /accounts:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_accounts
      summary: Get accounts
      description: Returns a list of all accounts.
      tags:
        - Accounts
      security:
        - oauth-client-credentials:
            - accounts:read
            - accounts:admin
      parameters:
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - created_at
            default: created_at
          description: Sort the result by `created_at`.
        - $ref: "#/components/parameters/order"
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Accounts - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Account
                      type: object
                      description: ""
                      properties:
                        id:
                          title: Account unique identifier.
                          type: string
                          description: Account unique identifier.
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        account_group_id:
                          title: Account group unique identifier.
                          type: string
                          description: Account group unique identifier.
                          format: uuid
                        type:
                          type: string
                          description: >-
                            Account type.

                            * TRADING - Orders in accounts of this type are created on a specific instrument basis.

                            * PORTFOLIO - Orders in accounts of this type are created on a portfolio basis and additional portfolio functionality is available.
                          enum:
                            - TRADING
                            - PORTFOLIO
                        users:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                title: User unique identifier.
                                type: string
                                description: User unique identifier.
                                format: uuid
                              type:
                                type: string
                                description: "Relation type\n* OWNER - "
                                enum:
                                  - OWNER
                                default: OWNER
                        account_number:
                          type: integer
                          description: The serial account number of the account in the account group.
                          minimum: 1
                        name:
                          type: string
                          description: The name of the account.
                          maxLength: 100
                        status:
                          type: string
                          description: >-
                            The status of the account

                            * PENDING_APPROVAL - Account approval is pending - the account is visible through our API but cannot be acted on.

                            * ACTIVE - Account is active - full functionality of the Investment API is accessible.

                            * CLOSING - Account is closing - only sell orders or the transfer of positions out are permissible before the account is closed.

                            * CLOSED - Account is closed with zero balance successfully.

                            * LOCKED - Account is locked for all actions.
                          enum:
                            - PENDING_APPROVAL
                            - ACTIVE
                            - CLOSING
                            - CLOSED
                            - LOCKED
                      required:
                        - id
                        - created_at
                        - updated_at
                        - account_group_id
                        - type
                        - users
                        - name
                        - status
                        - account_number
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 1
                  total_count: 1
                  sort: id
                  order: ASC
                data:
                  - id: ad45b27f-c0e7-4cfb-b48c-a83670dbdfbd
                    created_at: 2020-08-24T14:15:22Z
                    updated_at: 2020-08-24T14:15:22Z
                    account_group_id: fa2414ed-8d62-46fd-85ed-565a340c81d6
                    type: TRADING
                    users:
                      - id: 9c36af78-91a0-4174-a515-fc81214e3dab
                        type: OWNER
                    account_number: 1
                    name: Main account
                    status: ACTIVE
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    post:
      operationId: create_account
      x-speakeasy-usage-example: true
      summary: Create an account
      description: Creates an account.
      tags:
        - Accounts
      security:
        - oauth-client-credentials:
            - accounts:admin
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user_id:
                  title: User unique identifier.
                  type: string
                  description: User unique identifier.
                  format: uuid
                account_group_id:
                  title: Account group unique identifier.
                  type: string
                  description: Account group unique identifier.
                  format: uuid
                type:
                  type: string
                  description: >-
                    Account type.

                    * TRADING - Orders in accounts of this type are created on a specific instrument basis.

                    * PORTFOLIO - Orders in accounts of this type are created on a portfolio basis and additional portfolio functionality is available.
                  enum:
                    - TRADING
                    - PORTFOLIO
                name:
                  type: string
                  description: The name of the account.
                  maxLength: 100
              required:
                - user_id
                - account_group_id
                - type
              additionalProperties: false
            example:
              user_id: 413715f2-5401-4b97-8055-034a6b879f8c
              account_group_id: fa2414ed-8d62-46fd-85ed-565a340c81d6
              type: TRADING
              name: Main account
      responses:
        "200":
          description: Account created.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Account
                type: object
                description: ""
                properties:
                  id:
                    title: Account unique identifier.
                    type: string
                    description: Account unique identifier.
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  account_group_id:
                    title: Account group unique identifier.
                    type: string
                    description: Account group unique identifier.
                    format: uuid
                  type:
                    type: string
                    description: >-
                      Account type.

                      * TRADING - Orders in accounts of this type are created on a specific instrument basis.

                      * PORTFOLIO - Orders in accounts of this type are created on a portfolio basis and additional portfolio functionality is available.
                    enum:
                      - TRADING
                      - PORTFOLIO
                  users:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          title: User unique identifier.
                          type: string
                          description: User unique identifier.
                          format: uuid
                        type:
                          type: string
                          description: "Relation type\n* OWNER - "
                          enum:
                            - OWNER
                          default: OWNER
                  account_number:
                    type: integer
                    description: The serial account number of the account in the account group.
                    minimum: 1
                  name:
                    type: string
                    description: The name of the account.
                    maxLength: 100
                  status:
                    type: string
                    description: >-
                      The status of the account

                      * PENDING_APPROVAL - Account approval is pending - the account is visible through our API but cannot be acted on.

                      * ACTIVE - Account is active - full functionality of the Investment API is accessible.

                      * CLOSING - Account is closing - only sell orders or the transfer of positions out are permissible before the account is closed.

                      * CLOSED - Account is closed with zero balance successfully.

                      * LOCKED - Account is locked for all actions.
                    enum:
                      - PENDING_APPROVAL
                      - ACTIVE
                      - CLOSING
                      - CLOSED
                      - LOCKED
                required:
                  - id
                  - created_at
                  - updated_at
                  - account_group_id
                  - type
                  - users
                  - name
                  - status
                  - account_number
                additionalProperties: false
              example:
                id: ad45b27f-c0e7-4cfb-b48c-a83670dbdfbd
                created_at: 2020-08-24T14:15:22Z
                updated_at: 2020-08-24T14:15:22Z
                account_group_id: fa2414ed-8d62-46fd-85ed-565a340c81d6
                type: TRADING
                users:
                  - id: 9c36af78-91a0-4174-a515-fc81214e3dab
                    type: OWNER
                account_number: 1
                name: Main account
                status: ACTIVE
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/accounts/{account_id}/orders":
    parameters:
      - name: account_id
        in: path
        required: true
        schema:
          title: Account unique identifier.
          type: string
          description: Account unique identifier.
          format: uuid
          example: ad45b27f-c0e7-4cfb-b48c-a83670dbdfbd
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_account_orders
      summary: Get orders for an account by ID
      description: Returns a list of all orders for the account specified by its ID.
      tags:
        - Orders
      security:
        - oauth-client-credentials:
            - orders:read
            - orders:admin
      parameters:
        - name: order
          in: query
          required: false
          schema:
            type: string
            enum:
              - ASC
              - DESC
            default: ASC
          description: Sort order of the result list if the `sort` parameter is specified. Use `ASC` for ascending or `DESC` for descending sort order.
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Orders - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Order
                      type: object
                      properties:
                        id:
                          title: Order unique identifier
                          type: string
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        user_id:
                          type: string
                          format: uuid
                          description: The ID of the user
                        account_id:
                          type: string
                          format: uuid
                          description: The ID of the account that owns the order
                        cash_amount:
                          allOf:
                            - type: string
                              pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                            - description: Cash amount for a nominal order, not required if a share quantity is specified.
                        currency:
                          allOf:
                            - type: string
                              format: ISO4217
                              description: >-
                                Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                                * EUR - Euro
                              enum:
                                - EUR
                              default: EUR
                            - description: The currency for the order.
                        side:
                          type: string
                          description: "Side of the order.\n* BUY - \n* SELL - "
                          enum:
                            - BUY
                            - SELL
                        instrument_id:
                          title: International securities identification number
                          type: string
                          description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                          pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                        instrument_id_type:
                          description: "The type of the ID used in the request.\n* ISIN - "
                          enum:
                            - ISIN
                          default: ISIN
                          type: string
                        order_type:
                          type: string
                          description: "Type of the order.\n* MARKET - \n* LIMIT - \n* STOP - "
                          enum:
                            - MARKET
                            - LIMIT
                            - STOP
                        quantity:
                          allOf:
                            - type: string
                              pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                            - description: Quantity of securities for the order. Only required if the cash amount is not specified.
                        user_instrument_fit_acknowledgement:
                          type: boolean
                          description: Only applicable if the user has failed the instrument fit check for the instrument type being ordered. True if the user has acknowledged their willingness to trade.
                        limit_price:
                          allOf:
                            - type: string
                              pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                            - description: The limit price for orders of the type 'limit'.
                        stop_price:
                          allOf:
                            - type: string
                              pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                            - description: The stop price for orders of the type 'stop'.
                        expiry_date:
                          allOf:
                            - title: Expiry date
                              type: string
                              pattern: ^[0-9]{4}-[0-9]{2}-[0-9]{2}$
                            - description: The order expiration date (last day the order can trade) in the YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339. The default value is order creation date + 200 years
                        status:
                          type: string
                          description: "The execution status of the order.\n* NEW - \n* PROCESSING - \n* FILLED - \n* CANCELLED - "
                          enum:
                            - NEW
                            - PROCESSING
                            - FILLED
                            - CANCELLED
                        fee:
                          type: string
                          pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                        cancellation_reason:
                          type: string
                          description: "Reason for Order cancellation. The field is present in case the Order has a status of CANCELLED.\n* CANCELLED_BY_CLIENT - \n* CANCELLED_BY_UPVEST_OPERATIONS - \n* CANCELLED_BY_TRADING_PARTNER - \n* CANCELLED_BY_UPVEST_PLATFORM - "
                          enum:
                            - CANCELLED_BY_CLIENT
                            - CANCELLED_BY_UPVEST_OPERATIONS
                            - CANCELLED_BY_TRADING_PARTNER
                            - CANCELLED_BY_UPVEST_PLATFORM
                        initiation_flow:
                          type: string
                          description: "Initiation flow used during order creation, i.e. what triggered the order.\n* API - \n* PORTFOLIO - \n* CASH_DIVIDEND_REINVESTMENT - \n* PORTFOLIO_REBALANCING - \n* SELL_TO_COVER_FEES - \n* SELL_TO_COVER_TAXES - \n* ACCOUNT_LIQUIDATION - \n* UPVEST_OPERATIONS - "
                          enum:
                            - API
                            - PORTFOLIO
                            - CASH_DIVIDEND_REINVESTMENT
                            - PORTFOLIO_REBALANCING
                            - SELL_TO_COVER_FEES
                            - SELL_TO_COVER_TAXES
                            - ACCOUNT_LIQUIDATION
                            - UPVEST_OPERATIONS
                        execution_flow:
                          type: string
                          description: "Execution flow that the order processing goes through. If no value is specified, the default value is assumed - `STRAIGHT_THROUGH`.\n* STRAIGHT_THROUGH - \n* BLOCK - "
                          enum:
                            - STRAIGHT_THROUGH
                            - BLOCK
                        executions:
                          type: array
                          description: Order executions associated with this order
                          items:
                            title: Order execution
                            type: object
                            properties:
                              id:
                                title: Order execution unique identifier
                                type: string
                                format: uuid
                              cash_amount:
                                type: string
                                pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                              share_quantity:
                                type: string
                                pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                              price:
                                type: string
                                pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                              transaction_time:
                                type: string
                                format: date-time
                              taxes:
                                type: array
                                items:
                                  title: Tax
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                      description: "Tax type\n* TOTAL - "
                                      default: TOTAL
                                      enum:
                                        - TOTAL
                                    amount:
                                      type: string
                                      pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                                  required:
                                    - type
                                    - amount
                              order_id:
                                title: Order unique identifier
                                type: string
                                format: uuid
                              status:
                                type: string
                                description: "Execution status of the Execution.\n* FILLED - \n* SETTLED - \n* CANCELLED - "
                                enum:
                                  - FILLED
                                  - SETTLED
                                  - CANCELLED
                              side:
                                type: string
                                description: "Side of the execution.\n* BUY - \n* SELL - "
                                enum:
                                  - BUY
                                  - SELL
                              currency:
                                type: string
                                format: ISO4217
                                description: >-
                                  Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                                  * EUR - Euro
                                enum:
                                  - EUR
                                default: EUR
                              settlement_date:
                                allOf:
                                  - title: Settlement date
                                    type: string
                                    pattern: ^[0-9]{4}-[0-9]{2}-[0-9]{2}$
                                  - description: Order execution settlement date in the YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339
                            required:
                              - id
                              - cash_amount
                              - share_quantity
                              - price
                              - transaction_time
                              - taxes
                              - order_id
                              - status
                              - side
                              - currency
                            additionalProperties: false
                        client_reference:
                          type: string
                          description: An ID provided by the client
                          maxLength: 100
                      required:
                        - id
                        - created_at
                        - updated_at
                        - user_id
                        - account_id
                        - cash_amount
                        - currency
                        - side
                        - instrument_id
                        - instrument_id_type
                        - order_type
                        - quantity
                        - status
                        - fee
                        - initiation_flow
                        - executions
                        - client_reference
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 1
                  total_count: 1
                  sort: id
                  order: ASC
                data:
                  - id: eb5ba93f-5dfe-4bf1-8571-4da0caacc80c
                    created_at: 2021-07-21T14:10:00.00Z
                    updated_at: 2021-07-21T14:10:00.00Z
                    user_id: 2dedfeb0-58cd-44f2-ae08-0e41fe0413d9
                    account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                    cash_amount: "56.65"
                    currency: EUR
                    side: BUY
                    instrument_id: US0378331005
                    instrument_id_type: ISIN
                    order_type: MARKET
                    quantity: "0.05"
                    user_instrument_fit_acknowledgement: true
                    limit_price: ""
                    stop_price: ""
                    status: FILLED
                    fee: "0.5"
                    executions:
                      - id: b9dc0676-8a7d-412d-802a-3b325eefd15e
                        side: BUY
                        currency: EUR
                        status: FILLED
                        order_id: eb5ba93f-5dfe-4bf1-8571-4da0caacc80c
                        cash_amount: "56.65"
                        share_quantity: "0.05"
                        price: "130.65"
                        transaction_time: 2021-07-21T14:10:00.00Z
                        taxes:
                          - amount: "1.3"
                            type: TOTAL
                    client_reference: ""
                    initiation_flow: API
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /fees/collections:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_fee_collections
      summary: Get fee collections
      description: Returns a list of fee collections.
      tags:
        - Fees
      security:
        - oauth-client-credentials:
            - fees:read
            - fees:admin
      parameters:
        - $ref: "#/components/parameters/accountID"
        - $ref: "#/components/parameters/accountGroupID"
        - $ref: "#/components/parameters/order"
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Fee Collection - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Fee Collection
                      type: object
                      properties:
                        id:
                          title: Fee collection unique identifier.
                          type: string
                          description: Fee collection unique identifier.
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        account_id:
                          title: Account unique identifier.
                          type: string
                          description: Account unique identifier.
                          format: uuid
                        account_group_id:
                          title: Account group unique identifier.
                          type: string
                          description: Account group unique identifier.
                          format: uuid
                        type:
                          type: string
                          description: >-
                            Type of the fee collection

                            * SERVICE_FEE - Service fee intake in a pre-defined cadence (e.g. monthly)

                            * SERVICE_FEE_LIQUIDATION - Service fee intake as a result of a Portfolio liquidation
                          enum:
                            - SERVICE_FEE
                            - SERVICE_FEE_LIQUIDATION
                        collection_amount:
                          type: string
                          pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                        processed_amount:
                          type: object
                          properties:
                            cash_balance:
                              type: string
                              pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                            sell_to_cover:
                              type: string
                              pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                        currency:
                          type: string
                          format: ISO4217
                          description: >-
                            Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                            * EUR - Euro
                          enum:
                            - EUR
                          default: EUR
                        status:
                          type: string
                          description: >-
                            Status of the fee collection

                            * PROCESSING - Fee collection is in progress.

                            * FINALISED - Fees have been collected from the account and the funds has been transferred to the client.

                            * CANCELLED - Fee collection has been cancelled.
                          enum:
                            - PROCESSING
                            - FINALISED
                            - CANCELLED
                        period_start:
                          type: string
                          format: date
                          description: Start date of the fee collection period in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339
                        period_end:
                          type: string
                          format: date
                          description: End date of the fee collection period in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339
                      required:
                        - id
                        - account_id
                        - account_group_id
                        - type
                        - collection_amount
                        - processed_amount
                        - currency
                        - status
                        - period_start
                        - period_end
                        - created_at
                        - updated_at
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 3
                  total_count: 3
                  sort: id
                  order: ASC
                data:
                  - id: d77e6924-9bb7-4db0-addc-404442258f4b
                    created_at: 2022-11-30T14:16:22Z
                    updated_at: 2022-11-30T14:16:22Z
                    account_id: 689f7566-2ca3-4007-b99d-e501be8c7783
                    account_group_id: 999f7566-2ca3-4007-b99d-e501be8c7222
                    type: SERVICE_FEE
                    collection_amount: "12.41"
                    processed_amount:
                      cash_balance: "6.50"
                      sell_to_cover: "0"
                    currency: EUR
                    status: PROCESSING
                    period_start: 2022-11-01
                    period_end: 2022-11-30
                  - id: 7c5f2b11-7078-4bb9-8ed8-9dcf5eb7597f
                    created_at: 2022-11-30T14:16:22Z
                    updated_at: 2022-11-30T14:16:22Z
                    account_id: 5b8b1e66-cf3c-40f3-94d3-c94f2ac7abb7
                    account_group_id: 87805651-ad25-4a85-8c04-88a666164ad4
                    type: SERVICE_FEE
                    collection_amount: "82.12"
                    processed_amount:
                      cash_balance: "40.00"
                      sell_to_cover: "42.12"
                    currency: EUR
                    status: FINALISED
                    period_start: 2022-09-01
                    period_end: 2022-12-31
                  - id: 85fba2a0-da2f-46ac-a2a8-b4e7c66cb375
                    created_at: 2022-11-30T14:16:22Z
                    updated_at: 2022-11-30T14:16:22Z
                    account_id: c28b6611-7ac1-405a-8eb7-ab3b35caccc2
                    account_group_id: f930f9d4-3e21-4ad5-a266-730821d9a9fc
                    type: SERVICE_FEE_LIQUIDATION
                    collection_amount: "65.30"
                    processed_amount:
                      cash_balance: "0.00"
                      sell_to_cover: "0.00"
                    currency: EUR
                    status: CANCELLED
                    period_start: 2022-03-01
                    period_end: 2022-07-30
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    post:
      operationId: create_fee_collection
      summary: Create a fee collection
      description: Creates a fee collection for pre-calculated fee amounts.
      tags:
        - Fees
      security:
        - oauth-client-credentials:
            - fees:admin
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      requestBody:
        content:
          application/json:
            schema:
              title: Fee Collection - Create - Request
              type: object
              properties:
                account_id:
                  title: Account unique identifier.
                  type: string
                  description: Account unique identifier.
                  format: uuid
                type:
                  type: string
                  description: >-
                    Type of the fee collection

                    * SERVICE_FEE - Service fee intake in a pre-defined cadence (e.g. monthly)

                    * SERVICE_FEE_LIQUIDATION - Service fee intake as a result of a Portfolio liquidation
                  enum:
                    - SERVICE_FEE
                    - SERVICE_FEE_LIQUIDATION
                collection_amount:
                  type: string
                  pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                currency:
                  type: string
                  format: ISO4217
                  description: >-
                    Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                    * EUR - Euro
                  enum:
                    - EUR
                  default: EUR
                period_start:
                  type: string
                  format: date
                  description: Start date of the fee collection period in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339
                period_end:
                  type: string
                  format: date
                  description: End date of the fee collection period in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339
              required:
                - account_id
                - type
                - collection_amount
                - currency
                - period_start
                - period_end
              additionalProperties: false
            example:
              account_id: 689f7566-2ca3-4007-b99d-e501be8c7783
              type: SERVICE_FEE
              collection_amount: "12.41"
              currency: EUR
              period_start: 2022-11-01
              period_end: 2022-11-30
      responses:
        "200":
          description: Fee collection created.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Fee Collection
                type: object
                properties:
                  id:
                    title: Fee collection unique identifier.
                    type: string
                    description: Fee collection unique identifier.
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  account_id:
                    title: Account unique identifier.
                    type: string
                    description: Account unique identifier.
                    format: uuid
                  account_group_id:
                    title: Account group unique identifier.
                    type: string
                    description: Account group unique identifier.
                    format: uuid
                  type:
                    type: string
                    description: >-
                      Type of the fee collection

                      * SERVICE_FEE - Service fee intake in a pre-defined cadence (e.g. monthly)

                      * SERVICE_FEE_LIQUIDATION - Service fee intake as a result of a Portfolio liquidation
                    enum:
                      - SERVICE_FEE
                      - SERVICE_FEE_LIQUIDATION
                  collection_amount:
                    type: string
                    pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                  processed_amount:
                    type: object
                    properties:
                      cash_balance:
                        type: string
                        pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                      sell_to_cover:
                        type: string
                        pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                  currency:
                    type: string
                    format: ISO4217
                    description: >-
                      Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                      * EUR - Euro
                    enum:
                      - EUR
                    default: EUR
                  status:
                    type: string
                    description: >-
                      Status of the fee collection

                      * PROCESSING - Fee collection is in progress.

                      * FINALISED - Fees have been collected from the account and the funds has been transferred to the client.

                      * CANCELLED - Fee collection has been cancelled.
                    enum:
                      - PROCESSING
                      - FINALISED
                      - CANCELLED
                  period_start:
                    type: string
                    format: date
                    description: Start date of the fee collection period in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339
                  period_end:
                    type: string
                    format: date
                    description: End date of the fee collection period in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339
                required:
                  - id
                  - account_id
                  - account_group_id
                  - type
                  - collection_amount
                  - processed_amount
                  - currency
                  - status
                  - period_start
                  - period_end
                  - created_at
                  - updated_at
                additionalProperties: false
              example:
                id: d77e6924-9bb7-4db0-addc-404442258f4b
                created_at: 2022-11-30T14:16:22Z
                updated_at: 2022-11-30T14:16:22Z
                account_id: 689f7566-2ca3-4007-b99d-e501be8c7783
                account_group_id: 999f7566-2ca3-4007-b99d-e501be8c7222
                type: SERVICE_FEE
                collection_amount: "12.41"
                processed_amount:
                  cash_balance: "6.50"
                  sell_to_cover: "0"
                currency: EUR
                status: PROCESSING
                period_start: 2022-11-01
                period_end: 2022-11-30
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/fees/collections/{fee_collection_id}":
    parameters:
      - name: fee_collection_id
        in: path
        required: true
        schema:
          title: Fee collection unique identifier.
          type: string
          description: Fee collection unique identifier.
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_fee_collection
      summary: Get a fee collection by ID
      description: Returns the fee collection specified by its ID.
      tags:
        - Fees
      security:
        - oauth-client-credentials:
            - fees:read
            - fees:admin
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Fee Collection
                type: object
                properties:
                  id:
                    title: Fee collection unique identifier.
                    type: string
                    description: Fee collection unique identifier.
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  account_id:
                    title: Account unique identifier.
                    type: string
                    description: Account unique identifier.
                    format: uuid
                  account_group_id:
                    title: Account group unique identifier.
                    type: string
                    description: Account group unique identifier.
                    format: uuid
                  type:
                    type: string
                    description: >-
                      Type of the fee collection

                      * SERVICE_FEE - Service fee intake in a pre-defined cadence (e.g. monthly)

                      * SERVICE_FEE_LIQUIDATION - Service fee intake as a result of a Portfolio liquidation
                    enum:
                      - SERVICE_FEE
                      - SERVICE_FEE_LIQUIDATION
                  collection_amount:
                    type: string
                    pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                  processed_amount:
                    type: object
                    properties:
                      cash_balance:
                        type: string
                        pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                      sell_to_cover:
                        type: string
                        pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                  currency:
                    type: string
                    format: ISO4217
                    description: >-
                      Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                      * EUR - Euro
                    enum:
                      - EUR
                    default: EUR
                  status:
                    type: string
                    description: >-
                      Status of the fee collection

                      * PROCESSING - Fee collection is in progress.

                      * FINALISED - Fees have been collected from the account and the funds has been transferred to the client.

                      * CANCELLED - Fee collection has been cancelled.
                    enum:
                      - PROCESSING
                      - FINALISED
                      - CANCELLED
                  period_start:
                    type: string
                    format: date
                    description: Start date of the fee collection period in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339
                  period_end:
                    type: string
                    format: date
                    description: End date of the fee collection period in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339
                required:
                  - id
                  - account_id
                  - account_group_id
                  - type
                  - collection_amount
                  - processed_amount
                  - currency
                  - status
                  - period_start
                  - period_end
                  - created_at
                  - updated_at
                additionalProperties: false
              example:
                id: d77e6924-9bb7-4db0-addc-404442258f4b
                created_at: 2022-11-30T14:16:22Z
                updated_at: 2022-11-30T14:16:22Z
                account_id: 689f7566-2ca3-4007-b99d-e501be8c7783
                account_group_id: 999f7566-2ca3-4007-b99d-e501be8c7222
                type: SERVICE_FEE
                collection_amount: "12.41"
                processed_amount:
                  cash_balance: "6.50"
                  sell_to_cover: "0"
                currency: EUR
                status: PROCESSING
                period_start: 2022-11-01
                period_end: 2022-11-30
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /instruments:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_instruments
      summary: List instruments
      description: List instruments
      tags:
        - Instruments
      security:
        - oauth-client-credentials:
            - instruments:read
      parameters:
        - name: trading_status
          in: query
          required: false
          schema:
            title: Instrument trading status
            description: "Instrument trading status\n* ACTIVE - The instrument can currently be traded on the Upvest platform. \n* INACTIVE - The instrument cannot currently be traded on the Upvest platform."
            type: string
            enum:
              - ACTIVE
              - INACTIVE
          description: Filters the list to only show instruments with a certain status (e.g. only instruments that can be currently traded).
          example: ACTIVE
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - created_at
              - updated_at
            default: created_at
          description: Sort the result by `created_at` or `updated_at`.
        - name: order
          in: query
          required: false
          schema:
            type: string
            enum:
              - ASC
              - DESC
            default: ASC
          description: Sort order of the result list if the `sort` parameter is specified. Use `ASC` for ascending or `DESC` for descending sort order.
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
      responses:
        "200":
          description: Instruments list
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Instruments - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          title: Instrument unique identifier.
                          type: string
                          description: Instrument unique identifier.
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        isin:
                          title: International securities identification number
                          type: string
                          description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                          pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                        wkn:
                          title: German securities identification code
                          type: string
                          description: German securities identification code known as [Wertpapierkennnummer](https://en.wikipedia.org/wiki/Wertpapierkennnummer).
                          pattern: ^[A-HJ-NP-Z0-9]{6}$
                        name:
                          description: Instrument name
                          type: string
                          maxLength: 100
                        fractional_trading:
                          type: boolean
                          description: Determines whether the platform can handle fractional investments within this instrument.
                        trading_status:
                          title: Instrument trading status
                          description: "Instrument trading status\n* ACTIVE - The instrument can currently be traded on the Upvest platform. \n* INACTIVE - The instrument cannot currently be traded on the Upvest platform."
                          type: string
                          enum:
                            - ACTIVE
                            - INACTIVE
                      required:
                        - id
                        - name
                        - fractional_trading
                        - trading_status
                        - created_at
                        - updated_at
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 1
                  total_count: 10
                  sort: created_at
                  order: ASC
                data:
                  - id: 123e4567-e89b-12d3-a456-426614174000
                    created_at: 2022-08-31T17:28:00.00Z
                    updated_at: 2022-08-31T17:28:00.00Z
                    isin: DE0007664005
                    wkn: "766400"
                    name: Volkswagen (VW) St. Aktie.
                    fractional_trading: true
                    trading_status: ACTIVE
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/instruments/{instrument_id}":
    parameters:
      - name: instrument_id
        in: path
        required: true
        schema:
          title: Instrument unique identifier
          description: Instrument unique identifier.
          oneOf:
            - title: International securities identification number with 'isin:' URN namespace
              type: string
              description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number), prefixed with a 'isin:' [URN scheme](https://datatracker.ietf.org/doc/html/rfc8141).
              pattern: ^(urn:)?isin:[A-Z]{2}[A-Z0-9]{9}[0-9]$
            - title: Universally Unique IDentifier (UUID) with 'uuid:' URN scheme
              type: string
              description: Universally Unique IDentifier (UUID) with 'uuid:' URN namespace, defined by [RFC 4122](https://datatracker.ietf.org/doc/html/rfc4122).
              pattern: ^(urn:)?uuid:[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_instrument
      summary: Retrieve instrument
      description: Retrieve instrument
      tags:
        - Instruments
      security:
        - oauth-client-credentials:
            - instruments:read
      responses:
        "200":
          description: Instrument
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    title: Instrument unique identifier.
                    type: string
                    description: Instrument unique identifier.
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  isin:
                    title: International securities identification number
                    type: string
                    description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                    pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                  wkn:
                    title: German securities identification code
                    type: string
                    description: German securities identification code known as [Wertpapierkennnummer](https://en.wikipedia.org/wiki/Wertpapierkennnummer).
                    pattern: ^[A-HJ-NP-Z0-9]{6}$
                  name:
                    description: Instrument name
                    type: string
                    maxLength: 100
                  fractional_trading:
                    type: boolean
                    description: Determines whether the platform can handle fractional investments within this instrument.
                  trading_status:
                    title: Instrument trading status
                    description: "Instrument trading status\n* ACTIVE - The instrument can currently be traded on the Upvest platform. \n* INACTIVE - The instrument cannot currently be traded on the Upvest platform."
                    type: string
                    enum:
                      - ACTIVE
                      - INACTIVE
                required:
                  - id
                  - name
                  - fractional_trading
                  - trading_status
                  - created_at
                  - updated_at
                additionalProperties: false
              example:
                id: 123e4567-e89b-12d3-a456-426614174000
                created_at: 2022-08-31T17:28:00.00Z
                updated_at: 2022-08-31T17:28:00.00Z
                isin: DE0007664005
                wkn: "766400"
                name: Volkswagen (VW) St. Aktie.
                fractional_trading: true
                trading_status: ACTIVE
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /orders:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    post:
      operationId: place_order
      summary: Place an order
      description: Places a new order. After the creation request for the order is accepted, further processing takes place asynchronously.
      tags:
        - Orders
      security:
        - oauth-client-credentials:
            - orders:admin
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      requestBody:
        content:
          application/json:
            schema:
              title: Order - Place - Request
              type: object
              properties:
                user_id:
                  type: string
                  format: uuid
                  description: The ID of the user
                account_id:
                  type: string
                  format: uuid
                  description: The ID of the account that owns the order
                cash_amount:
                  allOf:
                    - type: string
                      pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                    - description: Cash amount for a nominal order, not required if a share quantity is specified.
                currency:
                  allOf:
                    - type: string
                      format: ISO4217
                      description: >-
                        Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                        * EUR - Euro
                      enum:
                        - EUR
                      default: EUR
                    - description: The currency for the order.
                side:
                  type: string
                  description: "Side of the order.\n* BUY - \n* SELL - "
                  enum:
                    - BUY
                    - SELL
                instrument_id:
                  title: International securities identification number
                  type: string
                  description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                  pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                instrument_id_type:
                  description: "The type of the ID used in the request.\n* ISIN - "
                  enum:
                    - ISIN
                  default: ISIN
                  type: string
                order_type:
                  type: string
                  description: "Type of the order.\n* MARKET - \n* LIMIT - \n* STOP - "
                  enum:
                    - MARKET
                    - LIMIT
                    - STOP
                quantity:
                  allOf:
                    - type: string
                      pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                    - description: Quantity of securities for the order. Only required if the cash amount is not specified.
                user_instrument_fit_acknowledgement:
                  type: boolean
                  description: Only applicable if the user has failed the instrument fit check for the instrument type being ordered. True if the user has acknowledged their willingness to trade.
                limit_price:
                  allOf:
                    - type: string
                      pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                    - description: The limit price for orders of the type 'limit'.
                stop_price:
                  allOf:
                    - type: string
                      pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                    - description: The stop price for orders of the type 'stop'.
                expiry_date:
                  allOf:
                    - title: Expiry date
                      type: string
                      pattern: ^[0-9]{4}-[0-9]{2}-[0-9]{2}$
                    - description: The order expiration date (last day the order can trade) in the YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339. The default value is order creation date + 200 years
                client_reference:
                  type: string
                  description: An ID provided by the client
                  maxLength: 100
                execution_flow:
                  type: string
                  description: "Execution flow that the order processing goes through. If no value is specified, the default value is assumed - `STRAIGHT_THROUGH`.\n* STRAIGHT_THROUGH - \n* BLOCK - "
                  enum:
                    - STRAIGHT_THROUGH
                    - BLOCK
              required:
                - user_id
                - account_id
                - side
                - instrument_id
                - instrument_id_type
              additionalProperties: false
            examples:
              place_nominal_buy:
                summary: Nominal Buy Order Request
                value:
                  user_id: 2dedfeb0-58cd-44f2-ae08-0e41fe0413d9
                  account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                  cash_amount: "1000"
                  currency: EUR
                  side: BUY
                  instrument_id: US0378331005
                  instrument_id_type: ISIN
                  order_type: MARKET
                  user_instrument_fit_acknowledgement: true
                  limit_price: ""
                  stop_price: ""
              place_unit_sell:
                summary: Unit Sell Order Request
                value:
                  user_id: 2dedfeb0-58cd-44f2-ae08-0e41fe0413d9
                  account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                  currency: EUR
                  side: SELL
                  instrument_id: US0378331005
                  instrument_id_type: ISIN
                  order_type: MARKET
                  quantity: "10"
                  user_instrument_fit_acknowledgement: true
                  limit_price: ""
                  stop_price: ""
      responses:
        "202":
          description: The request for the order creation has been accepted for processing.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Order
                type: object
                properties:
                  id:
                    title: Order unique identifier
                    type: string
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  user_id:
                    type: string
                    format: uuid
                    description: The ID of the user
                  account_id:
                    type: string
                    format: uuid
                    description: The ID of the account that owns the order
                  cash_amount:
                    allOf:
                      - type: string
                        pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                      - description: Cash amount for a nominal order, not required if a share quantity is specified.
                  currency:
                    allOf:
                      - type: string
                        format: ISO4217
                        description: >-
                          Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                          * EUR - Euro
                        enum:
                          - EUR
                        default: EUR
                      - description: The currency for the order.
                  side:
                    type: string
                    description: "Side of the order.\n* BUY - \n* SELL - "
                    enum:
                      - BUY
                      - SELL
                  instrument_id:
                    title: International securities identification number
                    type: string
                    description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                    pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                  instrument_id_type:
                    description: "The type of the ID used in the request.\n* ISIN - "
                    enum:
                      - ISIN
                    default: ISIN
                    type: string
                  order_type:
                    type: string
                    description: "Type of the order.\n* MARKET - \n* LIMIT - \n* STOP - "
                    enum:
                      - MARKET
                      - LIMIT
                      - STOP
                  quantity:
                    allOf:
                      - type: string
                        pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                      - description: Quantity of securities for the order. Only required if the cash amount is not specified.
                  user_instrument_fit_acknowledgement:
                    type: boolean
                    description: Only applicable if the user has failed the instrument fit check for the instrument type being ordered. True if the user has acknowledged their willingness to trade.
                  limit_price:
                    allOf:
                      - type: string
                        pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                      - description: The limit price for orders of the type 'limit'.
                  stop_price:
                    allOf:
                      - type: string
                        pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                      - description: The stop price for orders of the type 'stop'.
                  expiry_date:
                    allOf:
                      - title: Expiry date
                        type: string
                        pattern: ^[0-9]{4}-[0-9]{2}-[0-9]{2}$
                      - description: The order expiration date (last day the order can trade) in the YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339. The default value is order creation date + 200 years
                  status:
                    type: string
                    description: "The execution status of the order.\n* NEW - \n* PROCESSING - \n* FILLED - \n* CANCELLED - "
                    enum:
                      - NEW
                      - PROCESSING
                      - FILLED
                      - CANCELLED
                  fee:
                    type: string
                    pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                  cancellation_reason:
                    type: string
                    description: "Reason for Order cancellation. The field is present in case the Order has a status of CANCELLED.\n* CANCELLED_BY_CLIENT - \n* CANCELLED_BY_UPVEST_OPERATIONS - \n* CANCELLED_BY_TRADING_PARTNER - \n* CANCELLED_BY_UPVEST_PLATFORM - "
                    enum:
                      - CANCELLED_BY_CLIENT
                      - CANCELLED_BY_UPVEST_OPERATIONS
                      - CANCELLED_BY_TRADING_PARTNER
                      - CANCELLED_BY_UPVEST_PLATFORM
                  initiation_flow:
                    type: string
                    description: "Initiation flow used during order creation, i.e. what triggered the order.\n* API - \n* PORTFOLIO - \n* CASH_DIVIDEND_REINVESTMENT - \n* PORTFOLIO_REBALANCING - \n* SELL_TO_COVER_FEES - \n* SELL_TO_COVER_TAXES - \n* ACCOUNT_LIQUIDATION - \n* UPVEST_OPERATIONS - "
                    enum:
                      - API
                      - PORTFOLIO
                      - CASH_DIVIDEND_REINVESTMENT
                      - PORTFOLIO_REBALANCING
                      - SELL_TO_COVER_FEES
                      - SELL_TO_COVER_TAXES
                      - ACCOUNT_LIQUIDATION
                      - UPVEST_OPERATIONS
                  execution_flow:
                    type: string
                    description: "Execution flow that the order processing goes through. If no value is specified, the default value is assumed - `STRAIGHT_THROUGH`.\n* STRAIGHT_THROUGH - \n* BLOCK - "
                    enum:
                      - STRAIGHT_THROUGH
                      - BLOCK
                  executions:
                    type: array
                    description: Order executions associated with this order
                    items:
                      title: Order execution
                      type: object
                      properties:
                        id:
                          title: Order execution unique identifier
                          type: string
                          format: uuid
                        cash_amount:
                          type: string
                          pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                        share_quantity:
                          type: string
                          pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                        price:
                          type: string
                          pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                        transaction_time:
                          type: string
                          format: date-time
                        taxes:
                          type: array
                          items:
                            title: Tax
                            type: object
                            properties:
                              type:
                                type: string
                                description: "Tax type\n* TOTAL - "
                                default: TOTAL
                                enum:
                                  - TOTAL
                              amount:
                                type: string
                                pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                            required:
                              - type
                              - amount
                        order_id:
                          title: Order unique identifier
                          type: string
                          format: uuid
                        status:
                          type: string
                          description: "Execution status of the Execution.\n* FILLED - \n* SETTLED - \n* CANCELLED - "
                          enum:
                            - FILLED
                            - SETTLED
                            - CANCELLED
                        side:
                          type: string
                          description: "Side of the execution.\n* BUY - \n* SELL - "
                          enum:
                            - BUY
                            - SELL
                        currency:
                          type: string
                          format: ISO4217
                          description: >-
                            Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                            * EUR - Euro
                          enum:
                            - EUR
                          default: EUR
                        settlement_date:
                          allOf:
                            - title: Settlement date
                              type: string
                              pattern: ^[0-9]{4}-[0-9]{2}-[0-9]{2}$
                            - description: Order execution settlement date in the YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339
                      required:
                        - id
                        - cash_amount
                        - share_quantity
                        - price
                        - transaction_time
                        - taxes
                        - order_id
                        - status
                        - side
                        - currency
                      additionalProperties: false
                  client_reference:
                    type: string
                    description: An ID provided by the client
                    maxLength: 100
                required:
                  - id
                  - created_at
                  - updated_at
                  - user_id
                  - account_id
                  - cash_amount
                  - currency
                  - side
                  - instrument_id
                  - instrument_id_type
                  - order_type
                  - quantity
                  - status
                  - fee
                  - initiation_flow
                  - executions
                  - client_reference
                additionalProperties: false
              examples:
                place_nominal_buy:
                  summary: Nominal Buy Order Response
                  value:
                    id: eb5ba93f-5dfe-4bf1-8571-4da0caacc80c
                    created_at: 2021-07-21T14:10:00.00Z
                    updated_at: 2021-07-21T14:10:00.00Z
                    user_id: 2dedfeb0-58cd-44f2-ae08-0e41fe0413d9
                    account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                    cash_amount: "1000"
                    currency: EUR
                    side: BUY
                    instrument_id: US0378331005
                    instrument_id_type: ISIN
                    order_type: MARKET
                    quantity: "0"
                    user_instrument_fit_acknowledgement: true
                    limit_price: ""
                    stop_price: ""
                    status: NEW
                    fee: "0.0"
                    executions: []
                    client_reference: ""
                    initiation_flow: API
                place_nominal_buy_executions:
                  summary: Nominal Buy Order Response with Executions
                  value:
                    id: eb5ba93f-5dfe-4bf1-8571-4da0caacc80c
                    created_at: 2021-07-21T14:10:00.00Z
                    updated_at: 2021-07-21T14:10:00.00Z
                    user_id: 2dedfeb0-58cd-44f2-ae08-0e41fe0413d9
                    account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                    cash_amount: "1000"
                    currency: EUR
                    side: BUY
                    instrument_id: US0378331005
                    instrument_id_type: ISIN
                    order_type: MARKET
                    quantity: "0"
                    user_instrument_fit_acknowledgement: true
                    limit_price: ""
                    stop_price: ""
                    status: FILLED
                    fee: "0.0"
                    executions:
                      - id: b9dc0676-8a7d-412d-802a-3b325eefd15e
                        side: BUY
                        currency: EUR
                        status: FILLED
                        order_id: eb5ba93f-5dfe-4bf1-8571-4da0caacc80c
                        cash_amount: "1000"
                        share_quantity: "11.734334663"
                        price: "85.22"
                        transaction_time: 2021-07-21T14:10:00.020Z
                        taxes:
                          - type: TOTAL
                            amount: "0"
                    client_reference: ""
                    initiation_flow: API
                place_unit_sell:
                  summary: Unit Sell Order Response
                  value:
                    id: eb5ba93f-5dfe-4bf1-8571-4da0caacc80c
                    created_at: 2021-07-21T14:10:00.00Z
                    updated_at: 2021-07-21T14:10:00.00Z
                    user_id: 2dedfeb0-58cd-44f2-ae08-0e41fe0413d9
                    account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                    cash_amount: "0"
                    currency: EUR
                    side: SELL
                    instrument_id: US0378331005
                    instrument_id_type: ISIN
                    order_type: MARKET
                    quantity: "10"
                    user_instrument_fit_acknowledgement: true
                    limit_price: ""
                    stop_price: ""
                    status: NEW
                    fee: "0.0"
                    executions: []
                    client_reference: ""
                    initiation_flow: API
                place_unit_sell_executions:
                  summary: Unit Sell Order Response with Executions
                  value:
                    id: eb5ba93f-5dfe-4bf1-8571-4da0caacc80c
                    created_at: 2021-07-21T14:10:00.00Z
                    updated_at: 2021-07-21T14:10:00.00Z
                    user_id: 2dedfeb0-58cd-44f2-ae08-0e41fe0413d9
                    account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                    cash_amount: "0"
                    currency: EUR
                    side: SELL
                    instrument_id: US0378331005
                    instrument_id_type: ISIN
                    order_type: MARKET
                    quantity: "10"
                    user_instrument_fit_acknowledgement: true
                    limit_price: ""
                    stop_price: ""
                    status: FILLED
                    fee: "0.0"
                    executions:
                      - id: b9dc0676-8a7d-412d-802a-3b325eefd15e
                        side: SELL
                        currency: EUR
                        status: FILLED
                        order_id: eb5ba93f-5dfe-4bf1-8571-4da0caacc80c
                        cash_amount: "852.20"
                        share_quantity: "10"
                        price: "85.22"
                        transaction_time: 2021-07-21T14:10:00.020Z
                        taxes:
                          - type: TOTAL
                            amount: "23.45"
                    client_reference: ""
                    initiation_flow: API
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "422":
          description: Unprocessable Entity. The syntax of request is correct but server can't process it due a semantic error.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 422
                type: unprocessable_entity
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/orders/{order_id}":
    parameters:
      - name: order_id
        description: ""
        in: path
        required: true
        schema:
          title: Order unique identifier
          type: string
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_order
      summary: Get an order by ID
      description: Returns the order specified by its ID.
      tags:
        - Orders
      security:
        - oauth-client-credentials:
            - orders:read
            - orders:admin
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Order
                type: object
                properties:
                  id:
                    title: Order unique identifier
                    type: string
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  user_id:
                    type: string
                    format: uuid
                    description: The ID of the user
                  account_id:
                    type: string
                    format: uuid
                    description: The ID of the account that owns the order
                  cash_amount:
                    allOf:
                      - type: string
                        pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                      - description: Cash amount for a nominal order, not required if a share quantity is specified.
                  currency:
                    allOf:
                      - type: string
                        format: ISO4217
                        description: >-
                          Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                          * EUR - Euro
                        enum:
                          - EUR
                        default: EUR
                      - description: The currency for the order.
                  side:
                    type: string
                    description: "Side of the order.\n* BUY - \n* SELL - "
                    enum:
                      - BUY
                      - SELL
                  instrument_id:
                    title: International securities identification number
                    type: string
                    description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                    pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                  instrument_id_type:
                    description: "The type of the ID used in the request.\n* ISIN - "
                    enum:
                      - ISIN
                    default: ISIN
                    type: string
                  order_type:
                    type: string
                    description: "Type of the order.\n* MARKET - \n* LIMIT - \n* STOP - "
                    enum:
                      - MARKET
                      - LIMIT
                      - STOP
                  quantity:
                    allOf:
                      - type: string
                        pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                      - description: Quantity of securities for the order. Only required if the cash amount is not specified.
                  user_instrument_fit_acknowledgement:
                    type: boolean
                    description: Only applicable if the user has failed the instrument fit check for the instrument type being ordered. True if the user has acknowledged their willingness to trade.
                  limit_price:
                    allOf:
                      - type: string
                        pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                      - description: The limit price for orders of the type 'limit'.
                  stop_price:
                    allOf:
                      - type: string
                        pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                      - description: The stop price for orders of the type 'stop'.
                  expiry_date:
                    allOf:
                      - title: Expiry date
                        type: string
                        pattern: ^[0-9]{4}-[0-9]{2}-[0-9]{2}$
                      - description: The order expiration date (last day the order can trade) in the YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339. The default value is order creation date + 200 years
                  status:
                    type: string
                    description: "The execution status of the order.\n* NEW - \n* PROCESSING - \n* FILLED - \n* CANCELLED - "
                    enum:
                      - NEW
                      - PROCESSING
                      - FILLED
                      - CANCELLED
                  fee:
                    type: string
                    pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                  cancellation_reason:
                    type: string
                    description: "Reason for Order cancellation. The field is present in case the Order has a status of CANCELLED.\n* CANCELLED_BY_CLIENT - \n* CANCELLED_BY_UPVEST_OPERATIONS - \n* CANCELLED_BY_TRADING_PARTNER - \n* CANCELLED_BY_UPVEST_PLATFORM - "
                    enum:
                      - CANCELLED_BY_CLIENT
                      - CANCELLED_BY_UPVEST_OPERATIONS
                      - CANCELLED_BY_TRADING_PARTNER
                      - CANCELLED_BY_UPVEST_PLATFORM
                  initiation_flow:
                    type: string
                    description: "Initiation flow used during order creation, i.e. what triggered the order.\n* API - \n* PORTFOLIO - \n* CASH_DIVIDEND_REINVESTMENT - \n* PORTFOLIO_REBALANCING - \n* SELL_TO_COVER_FEES - \n* SELL_TO_COVER_TAXES - \n* ACCOUNT_LIQUIDATION - \n* UPVEST_OPERATIONS - "
                    enum:
                      - API
                      - PORTFOLIO
                      - CASH_DIVIDEND_REINVESTMENT
                      - PORTFOLIO_REBALANCING
                      - SELL_TO_COVER_FEES
                      - SELL_TO_COVER_TAXES
                      - ACCOUNT_LIQUIDATION
                      - UPVEST_OPERATIONS
                  execution_flow:
                    type: string
                    description: "Execution flow that the order processing goes through. If no value is specified, the default value is assumed - `STRAIGHT_THROUGH`.\n* STRAIGHT_THROUGH - \n* BLOCK - "
                    enum:
                      - STRAIGHT_THROUGH
                      - BLOCK
                  executions:
                    type: array
                    description: Order executions associated with this order
                    items:
                      title: Order execution
                      type: object
                      properties:
                        id:
                          title: Order execution unique identifier
                          type: string
                          format: uuid
                        cash_amount:
                          type: string
                          pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                        share_quantity:
                          type: string
                          pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                        price:
                          type: string
                          pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                        transaction_time:
                          type: string
                          format: date-time
                        taxes:
                          type: array
                          items:
                            title: Tax
                            type: object
                            properties:
                              type:
                                type: string
                                description: "Tax type\n* TOTAL - "
                                default: TOTAL
                                enum:
                                  - TOTAL
                              amount:
                                type: string
                                pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                            required:
                              - type
                              - amount
                        order_id:
                          title: Order unique identifier
                          type: string
                          format: uuid
                        status:
                          type: string
                          description: "Execution status of the Execution.\n* FILLED - \n* SETTLED - \n* CANCELLED - "
                          enum:
                            - FILLED
                            - SETTLED
                            - CANCELLED
                        side:
                          type: string
                          description: "Side of the execution.\n* BUY - \n* SELL - "
                          enum:
                            - BUY
                            - SELL
                        currency:
                          type: string
                          format: ISO4217
                          description: >-
                            Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                            * EUR - Euro
                          enum:
                            - EUR
                          default: EUR
                        settlement_date:
                          allOf:
                            - title: Settlement date
                              type: string
                              pattern: ^[0-9]{4}-[0-9]{2}-[0-9]{2}$
                            - description: Order execution settlement date in the YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339
                      required:
                        - id
                        - cash_amount
                        - share_quantity
                        - price
                        - transaction_time
                        - taxes
                        - order_id
                        - status
                        - side
                        - currency
                      additionalProperties: false
                  client_reference:
                    type: string
                    description: An ID provided by the client
                    maxLength: 100
                required:
                  - id
                  - created_at
                  - updated_at
                  - user_id
                  - account_id
                  - cash_amount
                  - currency
                  - side
                  - instrument_id
                  - instrument_id_type
                  - order_type
                  - quantity
                  - status
                  - fee
                  - initiation_flow
                  - executions
                  - client_reference
                additionalProperties: false
              example:
                id: eb5ba93f-5dfe-4bf1-8571-4da0caacc80c
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-21T14:10:00.00Z
                user_id: 2dedfeb0-58cd-44f2-ae08-0e41fe0413d9
                account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                cash_amount: "56.65"
                currency: EUR
                side: BUY
                instrument_id: US0378331005
                instrument_id_type: ISIN
                order_type: MARKET
                quantity: "0.05"
                user_instrument_fit_acknowledgement: true
                limit_price: ""
                stop_price: ""
                status: NEW
                fee: "0.5"
                executions: []
                client_reference: ""
                initiation_flow: API
                execution_flow: STRAIGHT_THROUGH
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    delete:
      operationId: cancel_order
      summary: Cancel an order by ID
      description: Cancels an order specified by its ID. It is possible to cancel an order of the `NEW` status. Once a cancellation has been accepted, the further processing steps take place asynchronously and depending on the respective order status.
      tags:
        - Orders
      security:
        - oauth-client-credentials:
            - orders:admin
      responses:
        "202":
          description: The order cancelling request is accepted.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Order - Cancel - Response
                type: object
                description: ""
                properties:
                  id:
                    title: Order unique identifier
                    type: string
                    format: uuid
                required:
                  - id
                additionalProperties: false
              example:
                id: eb5ba93f-5dfe-4bf1-8571-4da0caacc80c
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/orders/{order_id}/executions/{execution_id}":
    parameters:
      - name: execution_id
        description: ""
        in: path
        required: true
        schema:
          title: Order execution unique identifier
          type: string
          format: uuid
      - name: order_id
        description: ""
        in: path
        required: true
        schema:
          title: Order unique identifier
          type: string
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_order_execution
      summary: Get an order execution by ID
      description: Returns the order execution specified by its ID.
      tags:
        - Orders
      security:
        - oauth-client-credentials:
            - orders:read
            - orders:admin
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Order execution
                type: object
                properties:
                  id:
                    title: Order execution unique identifier
                    type: string
                    format: uuid
                  cash_amount:
                    type: string
                    pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                  share_quantity:
                    type: string
                    pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                  price:
                    type: string
                    pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                  transaction_time:
                    type: string
                    format: date-time
                  taxes:
                    type: array
                    items:
                      title: Tax
                      type: object
                      properties:
                        type:
                          type: string
                          description: "Tax type\n* TOTAL - "
                          default: TOTAL
                          enum:
                            - TOTAL
                        amount:
                          type: string
                          pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                      required:
                        - type
                        - amount
                  order_id:
                    title: Order unique identifier
                    type: string
                    format: uuid
                  status:
                    type: string
                    description: "Execution status of the Execution.\n* FILLED - \n* SETTLED - \n* CANCELLED - "
                    enum:
                      - FILLED
                      - SETTLED
                      - CANCELLED
                  side:
                    type: string
                    description: "Side of the execution.\n* BUY - \n* SELL - "
                    enum:
                      - BUY
                      - SELL
                  currency:
                    type: string
                    format: ISO4217
                    description: >-
                      Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                      * EUR - Euro
                    enum:
                      - EUR
                    default: EUR
                  settlement_date:
                    allOf:
                      - title: Settlement date
                        type: string
                        pattern: ^[0-9]{4}-[0-9]{2}-[0-9]{2}$
                      - description: Order execution settlement date in the YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339
                required:
                  - id
                  - cash_amount
                  - share_quantity
                  - price
                  - transaction_time
                  - taxes
                  - order_id
                  - status
                  - side
                  - currency
                additionalProperties: false
              example:
                id: b9dc0676-8a7d-412d-802a-3b325eefd15e
                side: BUY
                currency: EUR
                status: SETTLED
                order_id: eb5ba93f-5dfe-4bf1-8571-4da0caacc80c
                cash_amount: "56.65"
                share_quantity: "0.05"
                price: "130.65"
                transaction_time: 2021-07-21T14:10:00.00Z
                taxes:
                  - amount: "1.3"
                    type: TOTAL
                settlement_date: 2021-07-23
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/users/{user_id}/reports":
    parameters:
      - $ref: "#/components/parameters/userID"
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_reports
      summary: List user reports
      description: List user reports
      tags:
        - Reports
      security:
        - oauth-client-credentials:
            - reports:read
      parameters:
        - name: type
          in: query
          required: false
          schema:
            title: Report type
            description: >-
              Report type

              * BUY_ORDER - Buy order

              * SELL_ORDER - Sell order

              * INCOME_DISTRIBUTION - Income distribution report

              * GENERAL_MEETING_NOTIFICATION - General meeting notification

              * INCOME_REINVESTMENT - Reinvestment billing report (accumulating funds)

              * FUND_COMMUNICATION - Generic fund communication

              * TAX_REFUND - Tax refund document (after tax optimization)

              * TAX_EXEMPTION_CREATION - Creation of exemption order ("Freistellungsauftrag")

              * CANCELLED_ORDER - Cancelled buy or sell order (not yet executed, user cancels or trading venue cancelled)

              * REVOKED_ORDER - Revoked buy or sell order ("Storno")

              * ACCOUNT_OPENING - Securities account opening

              * ACCOUNT_CLOSING - Securities account closure

              * DIRECT_DEBIT_MANDATE - Creation of SEPA direct debit mandate

              * ANNUAL_TAX_STATEMENT - Annual tax reporting

              * ANNUAL_ACCOUNT_STATEMENT - Annual account statement

              * ANNUAL_INCOME_STATEMENT - Annual tax income statement ("Erträgnisaufstellung")

              * GENERIC_COMMUNICATION - Generic communication

              * BANK_ACCOUNT_CONNECTED - Connect reference bank account

              * AD_HOC_ACCOUNT_STATEMENT - Ad hoc account statement

              * EX_POST_COST - Ex-post cost report
            type: string
            enum:
              - BUY_ORDER
              - SELL_ORDER
              - INCOME_DISTRIBUTION
              - GENERAL_MEETING_NOTIFICATION
              - INCOME_REINVESTMENT
              - FUND_COMMUNICATION
              - TAX_REFUND
              - TAX_EXEMPTION_CREATION
              - CANCELLED_ORDER
              - REVOKED_ORDER
              - ACCOUNT_OPENING
              - ACCOUNT_CLOSING
              - DIRECT_DEBIT_MANDATE
              - ANNUAL_TAX_STATEMENT
              - ANNUAL_ACCOUNT_STATEMENT
              - ANNUAL_INCOME_STATEMENT
              - GENERIC_COMMUNICATION
              - BANK_ACCOUNT_CONNECTED
              - AD_HOC_ACCOUNT_STATEMENT
              - EX_POST_COST
          description: Filters the list to only show reports of a certain type (e.g. only buy order confirmations)
          example: BUY_ORDER
        - name: instrument
          in: query
          required: false
          schema:
            oneOf:
              - title: International securities identification number, prefixed with string 'isin:'
                type: string
                description: International securities identification number, prefixed with string 'isin:'
                pattern: ^isin:[A-Z]{2}[A-Z0-9]{9}[0-9]$
              - title: Unique identifier, prefixed with string 'uuid:'
                type: string
                description: Unique identifier, prefixed with string 'uuid:'
                pattern: ^uuid:[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$
            example: uuid:ebabcf4d-61c3-4942-875c-e265a7c2d062
          description: Filters the list to only include reports concerning specified instrument
        - name: start_date
          in: query
          required: false
          schema:
            type: string
            format: date
            title: Date in YYYY-MM-DD format. RFC 3339, section 5.6
            description: Returns reports generated starting from and including this date (UTC)
          example: 2020-08-21
        - name: end_date
          in: query
          required: false
          schema:
            type: string
            format: date
            title: Date in YYYY-MM-DD format. RFC 3339, section 5.6
            description: Returns reports generated up until this date (UTC)
          example: 2020-09-25
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - id
              - type
              - created_at
            default: created_at
          description: Field of resource to sort by
          example: id
        - name: order
          in: query
          required: false
          schema:
            type: string
            enum:
              - ASC
              - DESC
            default: ASC
          description: Sort order of the result list if the `sort` parameter is specified. Use `ASC` for ascending or `DESC` for descending sort order.
        - $ref: "#/components/parameters/limit"
        - $ref: "#/components/parameters/offset"
      responses:
        "200":
          description: Reports list
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Reports - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                      - sort
                      - order
                  data:
                    type: array
                    items:
                      title: Report
                      oneOf:
                        - title: Report
                          type: object
                          properties:
                            id:
                              title: Report unique identifier.
                              type: string
                              description: Report unique identifier.
                              format: uuid
                            created_at:
                              type: string
                              format: date-time
                              description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                            user_id:
                              title: User unique identifier.
                              type: string
                              description: User unique identifier.
                              format: uuid
                            type:
                              title: Report type
                              description: >-
                                Report type

                                * BUY_ORDER - Buy order

                                * SELL_ORDER - Sell order

                                * INCOME_DISTRIBUTION - Income distribution report

                                * GENERAL_MEETING_NOTIFICATION - General meeting notification

                                * INCOME_REINVESTMENT - Reinvestment billing report (accumulating funds)

                                * FUND_COMMUNICATION - Generic fund communication

                                * TAX_REFUND - Tax refund document (after tax optimization)

                                * TAX_EXEMPTION_CREATION - Creation of exemption order ("Freistellungsauftrag")

                                * CANCELLED_ORDER - Cancelled buy or sell order (not yet executed, user cancels or trading venue cancelled)

                                * REVOKED_ORDER - Revoked buy or sell order ("Storno")

                                * ACCOUNT_OPENING - Securities account opening

                                * ACCOUNT_CLOSING - Securities account closure

                                * DIRECT_DEBIT_MANDATE - Creation of SEPA direct debit mandate

                                * ANNUAL_TAX_STATEMENT - Annual tax reporting

                                * ANNUAL_ACCOUNT_STATEMENT - Annual account statement

                                * ANNUAL_INCOME_STATEMENT - Annual tax income statement ("Erträgnisaufstellung")

                                * GENERIC_COMMUNICATION - Generic communication

                                * BANK_ACCOUNT_CONNECTED - Connect reference bank account

                                * AD_HOC_ACCOUNT_STATEMENT - Ad hoc account statement

                                * EX_POST_COST - Ex-post cost report
                              type: string
                              enum:
                                - BUY_ORDER
                                - SELL_ORDER
                                - INCOME_DISTRIBUTION
                                - GENERAL_MEETING_NOTIFICATION
                                - INCOME_REINVESTMENT
                                - FUND_COMMUNICATION
                                - TAX_REFUND
                                - TAX_EXEMPTION_CREATION
                                - CANCELLED_ORDER
                                - REVOKED_ORDER
                                - ACCOUNT_OPENING
                                - ACCOUNT_CLOSING
                                - DIRECT_DEBIT_MANDATE
                                - ANNUAL_TAX_STATEMENT
                                - ANNUAL_ACCOUNT_STATEMENT
                                - ANNUAL_INCOME_STATEMENT
                                - GENERIC_COMMUNICATION
                                - BANK_ACCOUNT_CONNECTED
                                - AD_HOC_ACCOUNT_STATEMENT
                                - EX_POST_COST
                            substituted_report_id:
                              oneOf:
                                - type: "null"
                                - title: Substituted Report unique identifier.
                                  type: string
                                  description: References report that has been replaced by this one.
                                  format: uuid
                            data:
                              title: Report Data
                              type: object
                              description: Contents of the report.
                              properties:
                                account:
                                  type: object
                                  title: Account.
                                  description: Account information.
                                  properties:
                                    id:
                                      title: Account unique identifier.
                                      type: string
                                      description: Account unique identifier.
                                      format: uuid
                          required:
                            - id
                            - user_id
                            - created_at
                            - type
                            - substituted_report_id
                          additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 1
                  total_count: 1
                  sort: id
                  order: ASC
                data:
                  - id: b96b1ee7-d491-43eb-b5e4-4833af9c9c2f
                    created_at: 2020-08-24T14:15:22Z
                    user_id: d1a4be99-8bb6-4e78-b897-8168f6823ab5
                    type: BUY_ORDER
                    substituted_report_id: null
                    data:
                      account:
                        id: a9a4ad54-6dd1-419a-a98d-ab48f9f23bc8
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/reports/{report_id}":
    parameters:
      - name: report_id
        in: path
        required: true
        schema:
          title: Report unique identifier.
          type: string
          description: Report unique identifier.
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_report
      summary: Retrieve a user report
      description: Retrieve a user report
      tags:
        - Reports
      security:
        - oauth-client-credentials:
            - reports:read
      parameters:
        - name: accept
          in: header
          required: false
          schema:
            type: string
            enum:
              - application/json
              - application/pdf
            description: Report format
            default: application/json
          description: Report format
      responses:
        "200":
          description: Report
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Report
                oneOf:
                  - title: Report
                    type: object
                    properties:
                      id:
                        title: Report unique identifier.
                        type: string
                        description: Report unique identifier.
                        format: uuid
                      created_at:
                        type: string
                        format: date-time
                        description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                      user_id:
                        title: User unique identifier.
                        type: string
                        description: User unique identifier.
                        format: uuid
                      type:
                        title: Report type
                        description: >-
                          Report type

                          * BUY_ORDER - Buy order

                          * SELL_ORDER - Sell order

                          * INCOME_DISTRIBUTION - Income distribution report

                          * GENERAL_MEETING_NOTIFICATION - General meeting notification

                          * INCOME_REINVESTMENT - Reinvestment billing report (accumulating funds)

                          * FUND_COMMUNICATION - Generic fund communication

                          * TAX_REFUND - Tax refund document (after tax optimization)

                          * TAX_EXEMPTION_CREATION - Creation of exemption order ("Freistellungsauftrag")

                          * CANCELLED_ORDER - Cancelled buy or sell order (not yet executed, user cancels or trading venue cancelled)

                          * REVOKED_ORDER - Revoked buy or sell order ("Storno")

                          * ACCOUNT_OPENING - Securities account opening

                          * ACCOUNT_CLOSING - Securities account closure

                          * DIRECT_DEBIT_MANDATE - Creation of SEPA direct debit mandate

                          * ANNUAL_TAX_STATEMENT - Annual tax reporting

                          * ANNUAL_ACCOUNT_STATEMENT - Annual account statement

                          * ANNUAL_INCOME_STATEMENT - Annual tax income statement ("Erträgnisaufstellung")

                          * GENERIC_COMMUNICATION - Generic communication

                          * BANK_ACCOUNT_CONNECTED - Connect reference bank account

                          * AD_HOC_ACCOUNT_STATEMENT - Ad hoc account statement

                          * EX_POST_COST - Ex-post cost report
                        type: string
                        enum:
                          - BUY_ORDER
                          - SELL_ORDER
                          - INCOME_DISTRIBUTION
                          - GENERAL_MEETING_NOTIFICATION
                          - INCOME_REINVESTMENT
                          - FUND_COMMUNICATION
                          - TAX_REFUND
                          - TAX_EXEMPTION_CREATION
                          - CANCELLED_ORDER
                          - REVOKED_ORDER
                          - ACCOUNT_OPENING
                          - ACCOUNT_CLOSING
                          - DIRECT_DEBIT_MANDATE
                          - ANNUAL_TAX_STATEMENT
                          - ANNUAL_ACCOUNT_STATEMENT
                          - ANNUAL_INCOME_STATEMENT
                          - GENERIC_COMMUNICATION
                          - BANK_ACCOUNT_CONNECTED
                          - AD_HOC_ACCOUNT_STATEMENT
                          - EX_POST_COST
                      substituted_report_id:
                        oneOf:
                          - type: "null"
                          - title: Substituted Report unique identifier.
                            type: string
                            description: References report that has been replaced by this one.
                            format: uuid
                      data:
                        title: Report Data
                        type: object
                        description: Contents of the report.
                        properties:
                          account:
                            type: object
                            title: Account.
                            description: Account information.
                            properties:
                              id:
                                title: Account unique identifier.
                                type: string
                                description: Account unique identifier.
                                format: uuid
                    required:
                      - id
                      - user_id
                      - created_at
                      - type
                      - substituted_report_id
                    additionalProperties: false
              examples:
                report:
                  summary: Report
                  value:
                    id: b96b1ee7-d491-43eb-b5e4-4833af9c9c2f
                    created_at: 2020-08-24T14:15:22Z
                    user_id: d1a4be99-8bb6-4e78-b897-8168f6823ab5
                    type: BUY_ORDER
                    substituted_report_id: null
                    data:
                      account:
                        id: a9a4ad54-6dd1-419a-a98d-ab48f9f23bc8
            application/pdf:
              schema:
                title: Report
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/users/{user_id}/tax_residencies":
    parameters:
      - $ref: "#/components/parameters/userID"
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_tax_residencies
      summary: Retrieve tax residencies
      description: Retrieve tax residencies
      tags:
        - Taxes
      security:
        - oauth-client-credentials:
            - taxes:read
            - taxes:admin
      responses:
        "200":
          description: User tax residencies
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Tax residency Record
                type: object
                properties:
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  tax_residencies:
                    type: array
                    items:
                      title: Tax residency
                      oneOf:
                        - type: object
                          title: With tax identifier number
                          properties:
                            country:
                              description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              pattern: ^[A-Z]{2}$
                            tax_identifier_number:
                              type: string
                              maxLength: 50
                              minLength: 7
                              description: Tax identifier number
                          required:
                            - country
                            - tax_identifier_number
                        - type: object
                          title: Without tax identifier number
                          properties:
                            country:
                              description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              pattern: ^[A-Z]{2}$
                            missing_tin_reason:
                              type: string
                              enum:
                                - TIN_NOT_YET_ASSIGNED
                                - COUNTRY_HAS_NO_TIN
                                - OTHER_REASONS
                              description: >-
                                Reason why TIN is missing

                                * TIN_NOT_YET_ASSIGNED - Indicates that the tax identification number has not yet been assigned by the tax authorities. A common example is, that a user has moved to a country and thus became taxable, but that the tax authorities have not yet assigned the TIN to this user.

                                * COUNTRY_HAS_NO_TIN - Indicates that the specific country does not provide a TIN.

                                * OTHER_REASONS - Applies in case of other reasons - i.e. when a user does not have the TIN at hand. Note this may cause additional inquiries by our customer service team.
                          required:
                            - country
                            - missing_tin_reason
                  status:
                    type: string
                    enum:
                      - PENDING
                      - ACTIVE
                    description: >-
                      Tax residency status

                      * PENDING - It indicates that the tax residency records are not yet processed by Upvest.

                      * ACTIVE - It indicates that tax residency records are processed, and the tax residency record is the one in use.
                required:
                  - updated_at
                  - created_at
                  - tax_residencies
                  - status
                additionalProperties: false
              example:
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-21T14:10:00.00Z
                status: ACTIVE
                tax_residencies:
                  - country: IT
                    tax_identifier_number: LLLLLL99L99L999L
                  - country: FR
                    missing_tin_reason: COUNTRY_HAS_NO_TIN
                  - country: DE
                    tax_identifier_number: "12345678901"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "405":
          description: Method Not Allowed. The requested method is not allowed on the requested resource.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 405
                type: method_not_allowed
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    post:
      operationId: set_tax_residencies
      summary: Update tax residencies
      description: Update tax residencies
      tags:
        - Taxes
      security:
        - oauth-client-credentials:
            - taxes:admin
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      requestBody:
        content:
          application/json:
            schema:
              title: Tax Residencies - Set - Request
              type: object
              properties:
                tax_residencies:
                  type: array
                  minItems: 1
                  items:
                    title: Tax residency for Create Request
                    oneOf:
                      - type: object
                        title: With tax identifier number
                        properties:
                          country:
                            description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                            type: string
                            pattern: ^[A-Z]{2}$
                          tax_identifier_number:
                            type: string
                            maxLength: 50
                            minLength: 7
                            description: Tax identifier number
                        required:
                          - country
                          - tax_identifier_number
                      - type: object
                        title: Without tax identifier number
                        properties:
                          country:
                            description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                            type: string
                            pattern: ^[A-Z]{2}$
                          missing_tin_reason:
                            type: string
                            enum:
                              - TIN_NOT_YET_ASSIGNED
                              - COUNTRY_HAS_NO_TIN
                              - OTHER_REASONS
                            description: >-
                              Reason why TIN is missing

                              * TIN_NOT_YET_ASSIGNED - Indicates that the tax identification number has not yet been assigned by the tax authorities. A common example is, that a user has moved to a country and thus became taxable, but that the tax authorities have not yet assigned the TIN to this user.

                              * COUNTRY_HAS_NO_TIN - Indicates that the specific country does not provide a TIN.

                              * OTHER_REASONS - Applies in case of other reasons - i.e. when a user does not have the TIN at hand. Note this may cause additional inquiries by our customer service team.
                        required:
                          - country
                          - missing_tin_reason
              required:
                - tax_residencies
              additionalProperties: false
            examples:
              one:
                summary: One residency
                value:
                  tax_residencies:
                    - country: DE
                      tax_identifier_number: "12345678901"
              multiple:
                summary: Multiple residencies
                value:
                  tax_residencies:
                    - country: IT
                      tax_identifier_number: ABCDEF12G34H567I
                    - country: FR
                      missing_tin_reason: TIN_NOT_YET_ASSIGNED
                    - country: DE
                      tax_identifier_number: "12345678901"
      responses:
        "200":
          description: User tax residencies
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Tax residency Record
                type: object
                properties:
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  tax_residencies:
                    type: array
                    items:
                      title: Tax residency
                      oneOf:
                        - type: object
                          title: With tax identifier number
                          properties:
                            country:
                              description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              pattern: ^[A-Z]{2}$
                            tax_identifier_number:
                              type: string
                              maxLength: 50
                              minLength: 7
                              description: Tax identifier number
                          required:
                            - country
                            - tax_identifier_number
                        - type: object
                          title: Without tax identifier number
                          properties:
                            country:
                              description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              pattern: ^[A-Z]{2}$
                            missing_tin_reason:
                              type: string
                              enum:
                                - TIN_NOT_YET_ASSIGNED
                                - COUNTRY_HAS_NO_TIN
                                - OTHER_REASONS
                              description: >-
                                Reason why TIN is missing

                                * TIN_NOT_YET_ASSIGNED - Indicates that the tax identification number has not yet been assigned by the tax authorities. A common example is, that a user has moved to a country and thus became taxable, but that the tax authorities have not yet assigned the TIN to this user.

                                * COUNTRY_HAS_NO_TIN - Indicates that the specific country does not provide a TIN.

                                * OTHER_REASONS - Applies in case of other reasons - i.e. when a user does not have the TIN at hand. Note this may cause additional inquiries by our customer service team.
                          required:
                            - country
                            - missing_tin_reason
                  status:
                    type: string
                    enum:
                      - PENDING
                      - ACTIVE
                    description: >-
                      Tax residency status

                      * PENDING - It indicates that the tax residency records are not yet processed by Upvest.

                      * ACTIVE - It indicates that tax residency records are processed, and the tax residency record is the one in use.
                required:
                  - updated_at
                  - created_at
                  - tax_residencies
                  - status
                additionalProperties: false
              example:
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-21T14:10:00.00Z
                tax_residencies:
                  - country: AT
                    missing_tin_reason: TIN_NOT_YET_ASSIGNED
                  - country: DE
                    tax_identifier_number: "12345678901"
                status: ACTIVE
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /portfolios/allocations:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_portfolios_allocations
      summary: List portfolios allocations
      description: List portfolios allocations
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:read
            - portfolios:admin
      parameters:
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - id
            default: id
          description: Sort the result by `id`.
        - $ref: "#/components/parameters/order"
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
        - name: start_date
          in: query
          required: false
          schema:
            type: string
            title: Date in YYYY-MM-DDT00:00:00Z format. RFC 3339, section 5.6
          description: Returns portfolio allocations with dates starting from and including this date (UTC)
          example: 2022-10-14T00:00:00Z
        - name: end_date
          in: query
          required: false
          schema:
            type: string
            title: Date in YYYY-MM-DDT00:00:00Z format. RFC 3339, section 5.6
          description: Returns portfolio allocations with dates up until this date (UTC)
          example: 2022-10-14T00:00:00Z
        - name: instrument_ids
          in: query
          required: false
          schema:
            type: string
          description: Filters portfolio allocations containing the instruments ID's
          example: bf72bdc1-b342-494f-9739-b27ae9011b86,dcbe2cf4-4f37-4fe5-9393-4fb52bb87fab
      responses:
        "200":
          description: Portfolios allocations
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Portfolios allocations - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Portfolios allocation
                      type: object
                      properties:
                        id:
                          title: Portfolio allocation unique identifier
                          type: string
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        name:
                          description: Allocation name
                          type: string
                        allocation:
                          description: List of portfolios allocations
                          type: array
                          items:
                            type: object
                            properties:
                              instrument_id:
                                oneOf:
                                  - title: International securities identification number
                                    type: string
                                    description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                                    pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                                  - title: Unique identifier
                                    description: UPVEST instrument identifier
                                    type: string
                                    format: uuid
                                    pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
                              instrument_id_type:
                                description: >-
                                  The type of the ID used in the request.

                                  * ISIN - International Securities Identification Number

                                  * UPVEST - UPVEST's unique instrument identifier
                                enum:
                                  - ISIN
                                  - UPVEST
                                default: ISIN
                                type: string
                              weight:
                                description: Instrument allocation weight
                                type: string
                                pattern: ^(100|[0-9]{1,2}(\.[0-9]{1,5})?)$
                            required:
                              - instrument_id
                              - instrument_id_type
                              - weight
                            additionalProperties: false
                      required:
                        - id
                        - created_at
                        - updated_at
                        - name
                        - allocation
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 1
                  total_count: 1
                  sort: id
                  order: ASC
                data:
                  - id: c27c1fdc-b129-4d7a-95ac-c8a4f05d2804
                    created_at: 2021-07-21T14:10:00.00Z
                    updated_at: 2021-07-21T14:10:00.00Z
                    name: Allocation 1
                    allocation:
                      - instrument_id: IE00B0M62Q58
                        instrument_id_type: ISIN
                        weight: "0.7"
                      - instrument_id: US0378331005
                        instrument_id_type: ISIN
                        weight: "0.3"
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "405":
          description: Method Not Allowed. The requested method is not allowed on the requested resource.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 405
                type: method_not_allowed
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    post:
      operationId: create_portfolios_allocation
      summary: Create portfolios allocation
      description: Create portfolios allocation
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:admin
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      requestBody:
        content:
          application/json:
            schema:
              title: Portfolios allocation - Create - Request
              type: object
              properties:
                name:
                  description: Allocation name
                  type: string
                allocation:
                  description: List of portfolios allocations
                  type: array
                  items:
                    type: object
                    properties:
                      instrument_id:
                        oneOf:
                          - title: International securities identification number
                            type: string
                            description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                            pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                          - title: Unique identifier
                            description: UPVEST instrument identifier
                            type: string
                            format: uuid
                            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
                      instrument_id_type:
                        description: >-
                          The type of the ID used in the request.

                          * ISIN - International Securities Identification Number

                          * UPVEST - UPVEST's unique instrument identifier
                        enum:
                          - ISIN
                          - UPVEST
                        default: ISIN
                        type: string
                      weight:
                        description: Instrument allocation weight
                        type: string
                        pattern: ^(100|[0-9]{1,2}(\.[0-9]{1,5})?)$
                    required:
                      - instrument_id
                      - instrument_id_type
                      - weight
                    additionalProperties: false
              required:
                - allocation
              additionalProperties: false
            example:
              name: Allocation 1
              allocation:
                - instrument_id: IE00B0M62Q58
                  instrument_id_type: ISIN
                  weight: "0.7"
                - instrument_id: US0378331005
                  instrument_id_type: ISIN
                  weight: "0.3"
      responses:
        "200":
          description: Portfolios allocation
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Portfolios allocation
                type: object
                properties:
                  id:
                    title: Portfolio allocation unique identifier
                    type: string
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  name:
                    description: Allocation name
                    type: string
                  allocation:
                    description: List of portfolios allocations
                    type: array
                    items:
                      type: object
                      properties:
                        instrument_id:
                          oneOf:
                            - title: International securities identification number
                              type: string
                              description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                              pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                            - title: Unique identifier
                              description: UPVEST instrument identifier
                              type: string
                              format: uuid
                              pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
                        instrument_id_type:
                          description: >-
                            The type of the ID used in the request.

                            * ISIN - International Securities Identification Number

                            * UPVEST - UPVEST's unique instrument identifier
                          enum:
                            - ISIN
                            - UPVEST
                          default: ISIN
                          type: string
                        weight:
                          description: Instrument allocation weight
                          type: string
                          pattern: ^(100|[0-9]{1,2}(\.[0-9]{1,5})?)$
                      required:
                        - instrument_id
                        - instrument_id_type
                        - weight
                      additionalProperties: false
                required:
                  - id
                  - created_at
                  - updated_at
                  - name
                  - allocation
                additionalProperties: false
              example:
                id: 436244bb-4afd-4002-b53b-b1d7a3bca032
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-21T14:10:00.00Z
                name: Allocation 1
                allocation:
                  - instrument_id: IE00B0M62Q58
                    instrument_id_type: ISIN
                    weight: "0.7"
                  - instrument_id: US0378331005
                    instrument_id_type: ISIN
                    weight: "0.3"
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/portfolios/allocations/{allocation_id}":
    parameters:
      - name: allocation_id
        in: path
        required: true
        schema:
          title: Portfolio allocation unique identifier
          type: string
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_portfolios_allocation
      summary: Retrieve portfolios allocation
      description: Retrieve portfolios allocation
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:read
            - portfolios:admin
      responses:
        "200":
          description: Portfolios allocation
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Portfolios allocation
                type: object
                properties:
                  id:
                    title: Portfolio allocation unique identifier
                    type: string
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  name:
                    description: Allocation name
                    type: string
                  allocation:
                    description: List of portfolios allocations
                    type: array
                    items:
                      type: object
                      properties:
                        instrument_id:
                          oneOf:
                            - title: International securities identification number
                              type: string
                              description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                              pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                            - title: Unique identifier
                              description: UPVEST instrument identifier
                              type: string
                              format: uuid
                              pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
                        instrument_id_type:
                          description: >-
                            The type of the ID used in the request.

                            * ISIN - International Securities Identification Number

                            * UPVEST - UPVEST's unique instrument identifier
                          enum:
                            - ISIN
                            - UPVEST
                          default: ISIN
                          type: string
                        weight:
                          description: Instrument allocation weight
                          type: string
                          pattern: ^(100|[0-9]{1,2}(\.[0-9]{1,5})?)$
                      required:
                        - instrument_id
                        - instrument_id_type
                        - weight
                      additionalProperties: false
                required:
                  - id
                  - created_at
                  - updated_at
                  - name
                  - allocation
                additionalProperties: false
              example:
                id: bf5f2676-4535-403d-bc66-06ec38cc70af
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-21T14:10:00.00Z
                name: Allocation 1
                allocation:
                  - instrument_id: IE00B0M62Q58
                    instrument_id_type: ISIN
                    weight: "0.7"
                  - instrument_id: US0378331005
                    instrument_id_type: ISIN
                    weight: "0.3"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    put:
      operationId: update_portfolios_allocation
      summary: Update portfolios allocation
      description: Update portfolios allocation
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:admin
      requestBody:
        content:
          application/json:
            schema:
              title: Portfolios allocation - Update - Request
              type: object
              properties:
                name:
                  description: Allocation name
                  type: string
                allocation:
                  description: List of portfolios allocations
                  type: array
                  items:
                    type: object
                    properties:
                      instrument_id:
                        oneOf:
                          - title: International securities identification number
                            type: string
                            description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                            pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                          - title: Unique identifier
                            description: UPVEST instrument identifier
                            type: string
                            format: uuid
                            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
                      instrument_id_type:
                        description: >-
                          The type of the ID used in the request.

                          * ISIN - International Securities Identification Number

                          * UPVEST - UPVEST's unique instrument identifier
                        enum:
                          - ISIN
                          - UPVEST
                        default: ISIN
                        type: string
                      weight:
                        description: Instrument allocation weight
                        type: string
                        pattern: ^(100|[0-9]{1,2}(\.[0-9]{1,5})?)$
                    required:
                      - instrument_id
                      - instrument_id_type
                      - weight
                    additionalProperties: false
              required:
                - allocation
              additionalProperties: false
            examples:
              ordinary:
                summary: Generic instruments
                value:
                  allocation:
                    - instrument_id: IE00B0M62Q58
                      instrument_id_type: ISIN
                      weight: "0.6"
                    - instrument_id: US0378331005
                      instrument_id_type: ISIN
                      weight: "0.4"
              upvest:
                summary: Including Upvest-specific instruments
                value:
                  allocation:
                    - instrument_id: IE00B0M62Q58
                      instrument_id_type: ISIN
                      weight: "0.5"
                    - instrument_id: US0378331005
                      instrument_id_type: ISIN
                      weight: "0.25"
                    - instrument_id: c2721bc0-9f65-474b-a846-b237eb17fb05
                      instrument_id_type: UPVEST
                      weight: "0.25"
      responses:
        "200":
          description: Portfolios allocation
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Portfolios allocation
                type: object
                properties:
                  id:
                    title: Portfolio allocation unique identifier
                    type: string
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  name:
                    description: Allocation name
                    type: string
                  allocation:
                    description: List of portfolios allocations
                    type: array
                    items:
                      type: object
                      properties:
                        instrument_id:
                          oneOf:
                            - title: International securities identification number
                              type: string
                              description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                              pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                            - title: Unique identifier
                              description: UPVEST instrument identifier
                              type: string
                              format: uuid
                              pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
                        instrument_id_type:
                          description: >-
                            The type of the ID used in the request.

                            * ISIN - International Securities Identification Number

                            * UPVEST - UPVEST's unique instrument identifier
                          enum:
                            - ISIN
                            - UPVEST
                          default: ISIN
                          type: string
                        weight:
                          description: Instrument allocation weight
                          type: string
                          pattern: ^(100|[0-9]{1,2}(\.[0-9]{1,5})?)$
                      required:
                        - instrument_id
                        - instrument_id_type
                        - weight
                      additionalProperties: false
                required:
                  - id
                  - created_at
                  - updated_at
                  - name
                  - allocation
                additionalProperties: false
              example:
                id: 436244bb-4afd-4002-b53b-b1d7a3bca032
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-22T15:10:00.00Z
                name: Allocation 1
                allocation:
                  - instrument_id: IE00B0M62Q58
                    instrument_id_type: ISIN
                    weight: "0.6"
                  - instrument_id: US0378331005
                    instrument_id_type: ISIN
                    weight: "0.4"
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /portfolios/configurations:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_portfolios_configurations
      summary: List portfolios configurations
      description: List portfolios configurations
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:read
            - portfolios:admin
      parameters:
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - account_id
            default: account_id
          description: Sort the result by `account_id`.
        - $ref: "#/components/parameters/order"
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
        - name: start_date
          in: query
          required: false
          schema:
            type: string
            title: Date in YYYY-MM-DDT00:00:00Z format. RFC 3339, section 5.6
          description: Returns portfolio configurations with dates starting from and including this date (UTC)
          example: 2022-10-14T00:00:00Z
        - name: end_date
          in: query
          required: false
          schema:
            type: string
            title: Date in YYYY-MM-DDT00:00:00Z format. RFC 3339, section 5.6
          description: Returns portfolio configurations with dates up until this date (UTC)
          example: 2022-10-14T00:00:00Z
        - name: account_id
          in: query
          required: false
          schema:
            type: string
          description: Filters portfolio configurations by account ID
          example: 3ada8e9e-82c4-4c78-a43d-a691b1636509
        - name: allocation_id
          in: query
          required: false
          schema:
            type: string
          description: Filters portfolio configurations by allocation ID
          example: f6c2b02a-3214-4a40-82ae-6c76df50bc8c
      responses:
        "200":
          description: Portfolios configurations
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Portfolios configurations - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Portfolios configuration
                      type: object
                      properties:
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        account_id:
                          title: Account unique identifier.
                          type: string
                          description: Account unique identifier.
                          format: uuid
                        allocation_id:
                          title: Portfolio allocation unique identifier
                          type: string
                          format: uuid
                        rebalancing_strategy_ids:
                          description: List of rebalancing strategy ids
                          type: array
                          items:
                            title: Portfolio rebalancing strategy unique identifier
                            type: string
                            format: uuid
                      required:
                        - created_at
                        - updated_at
                        - account_id
                        - allocation_id
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 1
                  total_count: 1
                  sort: account_id
                  order: ASC
                data:
                  - created_at: 2021-07-21T14:10:00.00Z
                    updated_at: 2021-07-21T14:10:00.00Z
                    account_id: 4ca934ae-66b2-4494-86f9-df6ab89351f1
                    allocation_id: 65c69f95-c7b9-4c93-9943-a8c7fe4f7aef
                    rebalancing_strategy_ids:
                      - 7a7322f5-b45d-4aba-aae4-c12797938c93
                      - d7b4291b-5a26-40c2-a8dd-235bd904a2ed
                  - created_at: 2021-07-21T14:10:00.00Z
                    updated_at: 2021-07-21T14:10:00.00Z
                    account_id: a46c4531-ec90-4ac3-ac6b-356d743a3859
                    allocation_id: a4117e26-7c31-43ad-af47-0784a4957da9
                    rebalancing_strategy_ids:
                      - 7a7322f5-b45d-4aba-aae4-c12797938c93
                      - 692e318a-d6d0-43ac-999a-b84a82dbe304
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "405":
          description: Method Not Allowed. The requested method is not allowed on the requested resource.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 405
                type: method_not_allowed
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    post:
      operationId: create_portfolios_configuration
      summary: Create portfolios configuration
      description: Create portfolios configuration
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:admin
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      requestBody:
        content:
          application/json:
            schema:
              title: Portfolios configuration - Create - Request
              type: object
              properties:
                account_id:
                  title: Account unique identifier.
                  type: string
                  description: Account unique identifier.
                  format: uuid
                allocation_id:
                  title: Portfolio allocation unique identifier
                  type: string
                  format: uuid
                rebalancing_strategy_ids:
                  description: List of rebalancing strategy ids
                  type: array
                  items:
                    title: Portfolio rebalancing strategy unique identifier
                    type: string
                    format: uuid
              required:
                - account_id
                - allocation_id
              additionalProperties: false
            examples:
              with-strategy:
                summary: with strategy
                value:
                  account_id: f2f7d2c7-d79b-4de2-ae9b-d01646259f9e
                  allocation_id: eb68abce-29f4-483f-a384-7f243e77851f
                  rebalancing_strategy_ids:
                    - 7a7322f5-b45d-4aba-aae4-c12797938c93
                    - fd8e5363-a89c-4a2f-b3c6-5f857721625f
              no-strategy:
                summary: without strategy
                value:
                  account_id: f2f7d2c7-d79b-4de2-ae9b-d01646259f9e
                  allocation_id: eb68abce-29f4-483f-a384-7f243e77851f
      responses:
        "200":
          description: Portfolios configuration
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Portfolios configuration
                type: object
                properties:
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  account_id:
                    title: Account unique identifier.
                    type: string
                    description: Account unique identifier.
                    format: uuid
                  allocation_id:
                    title: Portfolio allocation unique identifier
                    type: string
                    format: uuid
                  rebalancing_strategy_ids:
                    description: List of rebalancing strategy ids
                    type: array
                    items:
                      title: Portfolio rebalancing strategy unique identifier
                      type: string
                      format: uuid
                required:
                  - created_at
                  - updated_at
                  - account_id
                  - allocation_id
                additionalProperties: false
              example:
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-21T14:10:00.00Z
                account_id: f2f7d2c7-d79b-4de2-ae9b-d01646259f9e
                allocation_id: eb68abce-29f4-483f-a384-7f243e77851f
                rebalancing_strategy_ids:
                  - 7a7322f5-b45d-4aba-aae4-c12797938c93
                  - fd8e5363-a89c-4a2f-b3c6-5f857721625f
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/portfolios/configurations/{account_id}":
    parameters:
      - name: account_id
        in: path
        required: true
        schema:
          title: Account unique identifier.
          type: string
          description: Account unique identifier.
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_portfolios_configuration
      summary: Retrieve portfolios configuration
      description: Retrieve portfolios configuration
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:read
            - portfolios:admin
      responses:
        "200":
          description: Portfolios
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Portfolios configuration
                type: object
                properties:
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  account_id:
                    title: Account unique identifier.
                    type: string
                    description: Account unique identifier.
                    format: uuid
                  allocation_id:
                    title: Portfolio allocation unique identifier
                    type: string
                    format: uuid
                  rebalancing_strategy_ids:
                    description: List of rebalancing strategy ids
                    type: array
                    items:
                      title: Portfolio rebalancing strategy unique identifier
                      type: string
                      format: uuid
                required:
                  - created_at
                  - updated_at
                  - account_id
                  - allocation_id
                additionalProperties: false
              example:
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-21T14:10:00.00Z
                account_id: f2f7d2c7-d79b-4de2-ae9b-d01646259f9e
                allocation_id: eb68abce-29f4-483f-a384-7f243e77851f
                rebalancing_strategy_ids:
                  - 7a7322f5-b45d-4aba-aae4-c12797938c93
                  - fd8e5363-a89c-4a2f-b3c6-5f857721625f
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "405":
          description: Method Not Allowed. The requested method is not allowed on the requested resource.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 405
                type: method_not_allowed
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    patch:
      operationId: update_portfolios_configuration
      summary: Update portfolios configuration
      description: Update portfolios configuration
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:admin
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      requestBody:
        content:
          application/json:
            schema:
              title: Portfolios configuration - Update - Request
              type: object
              properties:
                allocation_id:
                  title: Portfolio allocation unique identifier
                  type: string
                  format: uuid
                rebalancing_strategy_ids:
                  description: List of rebalancing strategy ids
                  type: array
                  items:
                    title: Portfolio rebalancing strategy unique identifier
                    type: string
                    format: uuid
              additionalProperties: false
            example:
              allocation_id: 359e9c9e-b91c-4853-8674-e6657af609fc
      responses:
        "200":
          description: Portfolio
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Portfolios configuration
                type: object
                properties:
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  account_id:
                    title: Account unique identifier.
                    type: string
                    description: Account unique identifier.
                    format: uuid
                  allocation_id:
                    title: Portfolio allocation unique identifier
                    type: string
                    format: uuid
                  rebalancing_strategy_ids:
                    description: List of rebalancing strategy ids
                    type: array
                    items:
                      title: Portfolio rebalancing strategy unique identifier
                      type: string
                      format: uuid
                required:
                  - created_at
                  - updated_at
                  - account_id
                  - allocation_id
                additionalProperties: false
              example:
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-22T15:10:00.00Z
                account_id: f2f7d2c7-d79b-4de2-ae9b-d01646259f9e
                allocation_id: 359e9c9e-b91c-4853-8674-e6657af609fc
                rebalancing_strategy_ids:
                  - 7a7322f5-b45d-4aba-aae4-c12797938c93
                  - fd8e5363-a89c-4a2f-b3c6-5f857721625f
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /portfolios/orders:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_portfolios_orders
      summary: List portfolios orders
      description: List portfolios orders
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:read
            - portfolios:admin
      parameters:
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - id
            default: id
          description: Sort the result by `id`.
        - $ref: "#/components/parameters/order"
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
        - name: start_date
          in: query
          required: false
          schema:
            type: string
            title: Date in YYYY-MM-DDT00:00:00Z format. RFC 3339, section 5.6
          description: Returns portfolio orders with dates starting from and including this date (UTC)
          example: 2022-10-14T00:00:00Z
        - name: end_date
          in: query
          required: false
          schema:
            type: string
            title: Date in YYYY-MM-DDT00:00:00Z format. RFC 3339, section 5.6
          description: Returns portfolio orders with dates up until this date (UTC)
          example: 2022-10-14T00:00:00Z
        - name: allocation_id
          in: query
          required: false
          schema:
            title: Portfolio allocation unique identifier
            type: string
            format: uuid
          example: f96eaefd-b4c6-477a-9bbe-c744bf26172f
          description: Filters portfolio orders containing the allocation id
        - name: account_id
          in: query
          required: false
          schema:
            title: Account unique identifier.
            type: string
            description: Account unique identifier.
            format: uuid
          example: 2c865aab-6737-4b0e-9154-69a4622b2727
          description: Filters portfolio orders containing the account id
      responses:
        "200":
          description: Portfolios orders
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Portfolios orders - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Portfolios order
                      type: object
                      properties:
                        id:
                          title: Portfolios order unique identifier
                          type: string
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        user_id:
                          title: User unique identifier.
                          type: string
                          description: User unique identifier.
                          format: uuid
                        account_id:
                          title: Account unique identifier.
                          type: string
                          description: Account unique identifier.
                          format: uuid
                        allocation_id:
                          title: Portfolio allocation unique identifier
                          type: string
                          format: uuid
                        cash_amount:
                          type: string
                          pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                        currency:
                          type: string
                          format: ISO4217
                          description: >-
                            Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                            * EUR - Euro
                          enum:
                            - EUR
                          default: EUR
                        status:
                          type: string
                          description: "Execution status of the Portfolio Order.\n* NEW - \n* PROCESSING - \n* FILLED - \n* SETTLED - \n* CANCELLED - "
                          enum:
                            - NEW
                            - PROCESSING
                            - FILLED
                            - SETTLED
                            - CANCELLED
                        type:
                          type: string
                          description: "Type of the Portfolio Order.\n* BUY - \n* SELL - \n* REBALANCING - "
                          enum:
                            - BUY
                            - SELL
                            - REBALANCING
                        post_tax:
                          type: boolean
                          description: Cash amount is post-tax value
                          default: false
                        orders:
                          type: array
                          description: Orders associated with this portfolio order
                          items:
                            title: Portfolios order
                            type: object
                            properties:
                              id:
                                title: Order unique identifier
                                type: string
                                format: uuid
                              side:
                                type: string
                                description: "Side of the portfolio order.\n* BUY - \n* SELL - "
                                enum:
                                  - BUY
                                  - SELL
                              status:
                                type: string
                                description: "The execution status of the order.\n* NEW - \n* PROCESSING - \n* FILLED - \n* CANCELLED - "
                                enum:
                                  - NEW
                                  - PROCESSING
                                  - FILLED
                                  - CANCELLED
                            required:
                              - id
                              - side
                              - status
                            additionalProperties: false
                      required:
                        - id
                        - created_at
                        - updated_at
                        - account_id
                        - cash_amount
                        - currency
                        - status
                        - post_tax
                        - orders
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 1
                  total_count: 1
                  sort: id
                  order: ASC
                data:
                  - id: eb5ba93f-5dfe-4bf1-8571-4da0caacc80c
                    created_at: 2021-07-21T14:10:00.000Z
                    updated_at: 2021-07-21T14:10:00.000Z
                    account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                    allocation_id: eb68abce-29f4-483f-a384-7f243e77851f
                    cash_amount: "1000"
                    currency: EUR
                    status: PROCESSING
                    type: SELL
                    post_tax: false
                    orders:
                      - id: b291d8a4-21f5-4c52-8590-4f90ce54d0b1
                        side: SELL
                        status: NEW
                      - id: 81d02bd9-7b9d-443d-bbfa-31df4d543f7d
                        side: SELL
                        status: PROCESSING
                      - id: e97fb564-ebb4-4f37-930a-bda49c09a2e4
                        side: SELL
                        status: FILLED
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "405":
          description: Method Not Allowed. The requested method is not allowed on the requested resource.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 405
                type: method_not_allowed
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    post:
      operationId: create_portfolios_order
      summary: Create portfolios order
      description: Create portfolios order
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:admin
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      requestBody:
        content:
          application/json:
            schema:
              title: Portfolios order - Place - Request
              type: object
              properties:
                user_id:
                  title: User unique identifier.
                  type: string
                  description: User unique identifier.
                  format: uuid
                account_id:
                  title: Account unique identifier.
                  type: string
                  description: Account unique identifier.
                  format: uuid
                cash_amount:
                  type: string
                  pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                currency:
                  type: string
                  format: ISO4217
                  description: >-
                    Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                    * EUR - Euro
                  enum:
                    - EUR
                  default: EUR
                side:
                  type: string
                  description: "Side of the portfolio order.\n* BUY - \n* SELL - "
                  enum:
                    - BUY
                    - SELL
                post_tax:
                  type: boolean
                  description: Cash amount is post-tax value
                  default: false
              required:
                - user_id
                - account_id
                - side
                - cash_amount
                - currency
              additionalProperties: false
            examples:
              buy:
                summary: Buy
                value:
                  user_id: 4b9732bd-7496-4e91-8a5f-6360479d7fed
                  account_id: 00ef0be8-d564-43af-b3c7-11b7a2188030
                  cash_amount: "100.00"
                  currency: EUR
                  side: BUY
              sell:
                summary: Sell
                value:
                  user_id: 4b9732bd-7496-4e91-8a5f-6360479d7fed
                  account_id: 00ef0be8-d564-43af-b3c7-11b7a2188030
                  cash_amount: "1000.00"
                  currency: EUR
                  side: SELL
      responses:
        "200":
          description: Portfolios order
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Portfolios order
                type: object
                properties:
                  id:
                    title: Portfolios order unique identifier
                    type: string
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  user_id:
                    title: User unique identifier.
                    type: string
                    description: User unique identifier.
                    format: uuid
                  account_id:
                    title: Account unique identifier.
                    type: string
                    description: Account unique identifier.
                    format: uuid
                  allocation_id:
                    title: Portfolio allocation unique identifier
                    type: string
                    format: uuid
                  cash_amount:
                    type: string
                    pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                  currency:
                    type: string
                    format: ISO4217
                    description: >-
                      Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                      * EUR - Euro
                    enum:
                      - EUR
                    default: EUR
                  status:
                    type: string
                    description: "Execution status of the Portfolio Order.\n* NEW - \n* PROCESSING - \n* FILLED - \n* SETTLED - \n* CANCELLED - "
                    enum:
                      - NEW
                      - PROCESSING
                      - FILLED
                      - SETTLED
                      - CANCELLED
                  type:
                    type: string
                    description: "Type of the Portfolio Order.\n* BUY - \n* SELL - \n* REBALANCING - "
                    enum:
                      - BUY
                      - SELL
                      - REBALANCING
                  post_tax:
                    type: boolean
                    description: Cash amount is post-tax value
                    default: false
                  orders:
                    type: array
                    description: Orders associated with this portfolio order
                    items:
                      title: Portfolios order
                      type: object
                      properties:
                        id:
                          title: Order unique identifier
                          type: string
                          format: uuid
                        side:
                          type: string
                          description: "Side of the portfolio order.\n* BUY - \n* SELL - "
                          enum:
                            - BUY
                            - SELL
                        status:
                          type: string
                          description: "The execution status of the order.\n* NEW - \n* PROCESSING - \n* FILLED - \n* CANCELLED - "
                          enum:
                            - NEW
                            - PROCESSING
                            - FILLED
                            - CANCELLED
                      required:
                        - id
                        - side
                        - status
                      additionalProperties: false
                required:
                  - id
                  - created_at
                  - updated_at
                  - account_id
                  - cash_amount
                  - currency
                  - status
                  - post_tax
                  - orders
                additionalProperties: false
              example:
                id: eb5ba93f-5dfe-4bf1-8571-4da0caacc80c
                created_at: 2021-07-21T14:10:00.000Z
                updated_at: 2021-07-21T14:10:00.000Z
                account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                allocation_id: eb68abce-29f4-483f-a384-7f243e77851f
                cash_amount: "1000"
                currency: EUR
                status: NEW
                type: BUY
                post_tax: false
                orders: []
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/portfolios/orders/{portfolio_order_id}":
    parameters:
      - name: portfolio_order_id
        in: path
        required: true
        schema:
          title: Portfolios order unique identifier
          type: string
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_portfolios_order
      summary: Retrieve portfolios order
      description: Retrieve portfolios order
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:read
            - portfolios:admin
      responses:
        "200":
          description: Portfolios order
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Portfolios order
                type: object
                properties:
                  id:
                    title: Portfolios order unique identifier
                    type: string
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  user_id:
                    title: User unique identifier.
                    type: string
                    description: User unique identifier.
                    format: uuid
                  account_id:
                    title: Account unique identifier.
                    type: string
                    description: Account unique identifier.
                    format: uuid
                  allocation_id:
                    title: Portfolio allocation unique identifier
                    type: string
                    format: uuid
                  cash_amount:
                    type: string
                    pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                  currency:
                    type: string
                    format: ISO4217
                    description: >-
                      Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                      * EUR - Euro
                    enum:
                      - EUR
                    default: EUR
                  status:
                    type: string
                    description: "Execution status of the Portfolio Order.\n* NEW - \n* PROCESSING - \n* FILLED - \n* SETTLED - \n* CANCELLED - "
                    enum:
                      - NEW
                      - PROCESSING
                      - FILLED
                      - SETTLED
                      - CANCELLED
                  type:
                    type: string
                    description: "Type of the Portfolio Order.\n* BUY - \n* SELL - \n* REBALANCING - "
                    enum:
                      - BUY
                      - SELL
                      - REBALANCING
                  post_tax:
                    type: boolean
                    description: Cash amount is post-tax value
                    default: false
                  orders:
                    type: array
                    description: Orders associated with this portfolio order
                    items:
                      title: Portfolios order
                      type: object
                      properties:
                        id:
                          title: Order unique identifier
                          type: string
                          format: uuid
                        side:
                          type: string
                          description: "Side of the portfolio order.\n* BUY - \n* SELL - "
                          enum:
                            - BUY
                            - SELL
                        status:
                          type: string
                          description: "The execution status of the order.\n* NEW - \n* PROCESSING - \n* FILLED - \n* CANCELLED - "
                          enum:
                            - NEW
                            - PROCESSING
                            - FILLED
                            - CANCELLED
                      required:
                        - id
                        - side
                        - status
                      additionalProperties: false
                required:
                  - id
                  - created_at
                  - updated_at
                  - account_id
                  - cash_amount
                  - currency
                  - status
                  - post_tax
                  - orders
                additionalProperties: false
              examples:
                ordinary:
                  summary: Ordinary
                  value:
                    id: 29bc9a26-a6ee-47a3-b609-47d30a737afc
                    created_at: 2021-07-21T14:10:00.00Z
                    updated_at: 2021-07-21T14:10:00.00Z
                    user_id: 4b9732bd-7496-4e91-8a5f-6360479d7fed
                    account_id: f2f7d2c7-d79b-4de2-ae9b-d01646259f9e
                    allocation_id: 19a902ac-1c01-4c45-bd5d-62fd496805c8
                    cash_amount: "100.00"
                    currency: EUR
                    status: PROCESSING
                    type: BUY
                    post_tax: false
                    orders:
                      - id: 79f2c816-13ed-4588-85e6-f3398b0b5825
                        side: BUY
                        status: NEW
                      - id: 44f50a4e-7ce8-4eae-a078-f4b3d8ab4708
                        side: BUY
                        status: NEW
                rebalancing:
                  summary: Rebalancing
                  value:
                    id: eb5ba93f-5dfe-4bf1-8571-4da0caacc80c
                    created_at: 2021-07-21T14:10:00.000Z
                    updated_at: 2021-07-21T14:10:00.000Z
                    account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                    allocation_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                    cash_amount: "0"
                    currency: EUR
                    status: PROCESSING
                    type: REBALANCING
                    post_tax: false
                    orders:
                      - id: e7aecb80-5e84-4bf7-984b-b39ab77eb0a8
                        side: SELL
                        status: NEW
                      - id: eb5ba93f-5dfe-4bf1-8571-4da0caacc80c
                        side: SELL
                        status: PROCESSING
                      - id: d8a85120-2941-4ed6-8d57-e80401a4779c
                        side: SELL
                        status: FILLED
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    delete:
      operationId: cancel_portfolios_order
      summary: Cancel portfolios order
      description: Cancel portfolios order
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:admin
      responses:
        "204":
          description: Request has been processed successfully.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /portfolios/rebalancings/executions:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    post:
      operationId: trigger_portfolio_rebalancing
      summary: Trigger portfolio rebalancing
      description: Trigger portfolio rebalancing
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:admin
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      requestBody:
        content:
          application/json:
            schema:
              title: Trigger portfolio rebalancing - Request
              oneOf:
                - title: Accounts
                  type: object
                  properties:
                    accounts:
                      type: array
                      description: List of accounts
                      items:
                        title: Account unique identifier.
                        type: string
                        description: Account unique identifier.
                        format: uuid
                  required:
                    - accounts
                  additionalProperties: false
                - title: Allocations
                  type: object
                  properties:
                    allocations:
                      type: array
                      description: List of allocations
                      items:
                        title: Portfolio allocation unique identifier
                        type: string
                        format: uuid
                  required:
                    - allocations
                  additionalProperties: false
            examples:
              accounts:
                summary: Accounts
                value:
                  accounts:
                    - 43801b85-bbcf-41c7-8389-b018082a5ec5
                    - 20151679-c159-4f16-b8a2-267b3d968c6f
              allocations:
                summary: Allocations
                value:
                  allocations:
                    - eafa39e3-7837-476f-8af1-49fa604e3f49
      responses:
        "200":
          description: Portfolio
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Trigger portfolio rebalancing - Response
                type: object
                properties:
                  id:
                    title: Portfolio execution unique identifier
                    type: string
                    format: uuid
                required:
                  - id
                additionalProperties: false
              example:
                id: 735381ce-8380-4b07-9e42-97e2b6d3643e
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/portfolios/rebalancings/executions/{execution_id}":
    parameters:
      - name: execution_id
        description: ""
        in: path
        required: true
        schema:
          title: Order execution unique identifier
          type: string
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_portfolios_rebalancing_execution
      summary: Retrieve portfolios rebalancing execution
      description: Retrieve portfolios rebalancing execution
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:read
            - portfolios:admin
      responses:
        "200":
          description: Portfolios
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Portfolios rebalancing execution
                type: object
                properties:
                  id:
                    title: Portfolios order unique identifier
                    type: string
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  accounts:
                    type: array
                    description: Accounts associated with this rebalancing execution
                    items:
                      title: Account unique identifier.
                      type: string
                      description: Account unique identifier.
                      format: uuid
                  allocations:
                    type: array
                    description: Allocations associated with this rebalancing execution
                    items:
                      title: Portfolio allocation unique identifier
                      type: string
                      format: uuid
                required:
                  - id
                  - created_at
                  - updated_at
                additionalProperties: false
              example:
                id: 735381ce-8380-4b07-9e42-97e2b6d3643e
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-21T14:10:00.00Z
                accounts:
                  - 43801b85-bbcf-41c7-8389-b018082a5ec5
                  - 20151679-c159-4f16-b8a2-267b3d968c6f
                allocations: []
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "405":
          description: Method Not Allowed. The requested method is not allowed on the requested resource.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 405
                type: method_not_allowed
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/portfolios/rebalancings/executions/{execution_id}/orders":
    parameters:
      - name: execution_id
        description: ""
        in: path
        required: true
        schema:
          title: Order execution unique identifier
          type: string
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_portfolio_rebalancing_execution_orders
      summary: List portfolio rebalancing execution orders
      description: List portfolio rebalancing execution orders
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:read
            - portfolios:admin
      parameters:
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - status
            default: status
          description: Sort the result by `status`.
        - $ref: "#/components/parameters/order"
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
        - name: start_date
          in: query
          required: false
          schema:
            type: string
            title: Date in YYYY-MM-DDT00:00:00Z format. RFC 3339, section 5.6
          description: Returns rebalancing orders with dates starting from and including this date (UTC)
          example: 2022-10-14T00:00:00Z
        - name: end_date
          in: query
          required: false
          schema:
            type: string
            title: Date in YYYY-MM-DDT00:00:00Z format. RFC 3339, section 5.6
          description: Returns rebalancing orders with dates up until this date (UTC)
          example: 2022-10-14T00:00:00Z
      responses:
        "200":
          description: Portfolios
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Portfolios rebalancing execution order - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Portfolios rebalancing execution order
                      type: object
                      properties:
                        account_id:
                          title: Account unique identifier.
                          type: string
                          description: Account unique identifier.
                          format: uuid
                        portfolio_order_id:
                          title: Portfolios order unique identifier
                          type: string
                          format: uuid
                        status:
                          type: string
                          description: "Execution status of the Portfolio Order.\n* NEW - \n* PROCESSING - \n* FILLED - \n* SETTLED - \n* CANCELLED - "
                          enum:
                            - NEW
                            - PROCESSING
                            - FILLED
                            - SETTLED
                            - CANCELLED
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                      required:
                        - account_id
                        - portfolio_order_id
                        - status
                        - created_at
                        - updated_at
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  count: 2
                  limit: 10
                  offset: 0
                  order: ASC
                  sort: state
                  total_count: 2
                data:
                  - created_at: 2022-09-28T09:14:02Z
                    updated_at: 2022-09-28T09:14:02Z
                    account_id: 100bb408-149c-4e6f-8697-837c2a144a29
                    portfolio_order_id: b31723e0-8c8c-4bd0-a962-8bd26c5aee4d
                    status: FILLED
                  - created_at: 2022-09-28T09:14:02Z
                    updated_at: 2022-09-28T09:14:02Z
                    account_id: 98b21a45-5ea0-481f-bb1e-880aab0d154d
                    portfolio_order_id: 411c625e-b2f4-4af4-ac21-e17846fb6bcc
                    status: PROCESSING
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "405":
          description: Method Not Allowed. The requested method is not allowed on the requested resource.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 405
                type: method_not_allowed
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /portfolios/rebalancings/strategies:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_portfolios_rebalancing_strategies
      summary: List portfolios rebalancing strategies
      description: List portfolios rebalancing strategies
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:read
            - portfolios:admin
      parameters:
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - id
            default: id
            description: Sort the result by `id`.
        - $ref: "#/components/parameters/order"
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
      responses:
        "200":
          description: Portfolios
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Portfolios rebalancing strategy - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Portfolios rebalancing strategy
                      type: object
                      properties:
                        id:
                          title: Portfolio rebalancing strategy unique identifier
                          type: string
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        name:
                          description: Strategy name
                          type: string
                        conditions:
                          description: List of conditions
                          type: array
                          items:
                            type: object
                            properties:
                              name:
                                description: >-
                                  The type of the ID used in the request.

                                  * ISIN - International Securities Identification Number

                                  * UPVEST - UPVEST's unique instrument identifier
                                type: string
                              type:
                                description: |-
                                  The type of the strategy used in the request.
                                  * DRIFT - Trigger by drift percentage
                                  * SCHEDULED - Trigger by scheduled date
                                enum:
                                  - DRIFT
                                  - SCHEDULED
                                type: string
                            required:
                              - name
                              - type
                            additionalProperties: true
                      required:
                        - id
                        - created_at
                        - updated_at
                        - name
                        - conditions
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  count: 2
                  limit: 100
                  offset: 0
                  order: ASC
                  sort: id
                  total_count: 2
                data:
                  - id: a7b48ac5-defe-4379-a208-72b2556435fd
                    created_at: 2022-12-05T08:52:12Z
                    updated_at: 2022-12-05T08:52:12Z
                    name: Drift 1% and scheduled weekly
                    conditions:
                      - name: Drift 1.00%
                        type: DRIFT
                        value: "1.0"
                      - name: Scheduled - weekly
                        type: SCHEDULED
                        start_date: 2023-01-01
                        period: WEEK
                        interval_count: 1
                  - id: 5b81ca3c-1418-4fa7-9dcb-e9a503cf918e
                    created_at: 2022-12-05T08:52:12Z
                    updated_at: 2022-12-05T08:52:12Z
                    name: Scheduled bimonthly
                    conditions:
                      - name: Scheduled - bimonthly
                        type: SCHEDULED
                        start_date: 2023-01-01
                        period: MONTH
                        interval_count: 2
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "405":
          description: Method Not Allowed. The requested method is not allowed on the requested resource.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 405
                type: method_not_allowed
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    post:
      operationId: create_portfolios_rebalancing_strategy
      summary: Create portfolios rebalancing strategy
      description: Create portfolios rebalancing strategy
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:admin
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      requestBody:
        content:
          application/json:
            schema:
              title: Portfolios rebalancing strategy - Request
              type: object
              properties:
                name:
                  description: Strategy name
                  type: string
                conditions:
                  description: List of conditions
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        description: >-
                          The type of the ID used in the request.

                          * ISIN - International Securities Identification Number

                          * UPVEST - UPVEST's unique instrument identifier
                        type: string
                      type:
                        description: |-
                          The type of the strategy used in the request.
                          * DRIFT - Trigger by drift percentage
                          * SCHEDULED - Trigger by scheduled date
                        enum:
                          - DRIFT
                          - SCHEDULED
                        type: string
                    required:
                      - name
                      - type
                    additionalProperties: true
              required:
                - name
                - conditions
              additionalProperties: false
            example:
              name: Drift 1% and scheduled weekly
              conditions:
                - name: Drift 1.00%
                  type: DRIFT
                  value: "1.0"
                - name: Scheduled - weekly
                  type: SCHEDULED
                  start_date: 2023-01-01
                  period: WEEK
                  interval_count: 1
      responses:
        "200":
          description: Portfolios rebalancing strategy
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Portfolios rebalancing strategy
                type: object
                properties:
                  id:
                    title: Portfolio rebalancing strategy unique identifier
                    type: string
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  name:
                    description: Strategy name
                    type: string
                  conditions:
                    description: List of conditions
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          description: >-
                            The type of the ID used in the request.

                            * ISIN - International Securities Identification Number

                            * UPVEST - UPVEST's unique instrument identifier
                          type: string
                        type:
                          description: |-
                            The type of the strategy used in the request.
                            * DRIFT - Trigger by drift percentage
                            * SCHEDULED - Trigger by scheduled date
                          enum:
                            - DRIFT
                            - SCHEDULED
                          type: string
                      required:
                        - name
                        - type
                      additionalProperties: true
                required:
                  - id
                  - created_at
                  - updated_at
                  - name
                  - conditions
                additionalProperties: false
              example:
                id: a7b48ac5-defe-4379-a208-72b2556435fd
                created_at: 2022-12-05T08:52:12Z
                updated_at: 2022-12-05T08:52:12Z
                name: Drift 1% and scheduled weekly
                conditions:
                  - name: Drift 1.00%
                    type: DRIFT
                    value: "1.0"
                  - name: Scheduled - weekly
                    type: SCHEDULED
                    start_date: 2023-01-01
                    period: WEEK
                    interval_count: 1
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/portfolios/rebalancings/strategies/{strategy_id}":
    parameters:
      - name: strategy_id
        in: path
        required: true
        schema:
          title: Portfolio rebalancing strategy unique identifier
          type: string
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_portfolios_rebalancing_strategy
      summary: Retrieve portfolios rebalancing strategy
      description: Retrieve portfolios rebalancing strategy
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:read
            - portfolios:admin
      responses:
        "200":
          description: Portfolios
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Portfolios rebalancing strategy
                type: object
                properties:
                  id:
                    title: Portfolio rebalancing strategy unique identifier
                    type: string
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  name:
                    description: Strategy name
                    type: string
                  conditions:
                    description: List of conditions
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          description: >-
                            The type of the ID used in the request.

                            * ISIN - International Securities Identification Number

                            * UPVEST - UPVEST's unique instrument identifier
                          type: string
                        type:
                          description: |-
                            The type of the strategy used in the request.
                            * DRIFT - Trigger by drift percentage
                            * SCHEDULED - Trigger by scheduled date
                          enum:
                            - DRIFT
                            - SCHEDULED
                          type: string
                      required:
                        - name
                        - type
                      additionalProperties: true
                required:
                  - id
                  - created_at
                  - updated_at
                  - name
                  - conditions
                additionalProperties: false
              example:
                id: a7b48ac5-defe-4379-a208-72b2556435fd
                created_at: 2022-12-05T08:52:12Z
                updated_at: 2022-12-05T08:52:12Z
                name: Drift 1% and scheduled weekly
                conditions:
                  - name: Drift 1.00%
                    type: DRIFT
                    value: "1.0"
                  - name: Scheduled - weekly
                    type: SCHEDULED
                    start_date: 2023-01-01
                    period: WEEK
                    interval_count: 1
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "405":
          description: Method Not Allowed. The requested method is not allowed on the requested resource.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 405
                type: method_not_allowed
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/portfolios/allocations/{allocation_id}/accounts":
    parameters:
      - name: allocation_id
        in: path
        required: true
        schema:
          title: Portfolio allocation unique identifier
          type: string
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_portfolios_allocation_accounts
      summary: List portfolios allocation accounts
      description: List portfolios allocation accounts
      tags:
        - Portfolios
      security:
        - oauth-client-credentials:
            - portfolios:read
            - portfolios:admin
      parameters:
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - id
            default: id
          description: Sort the result by `id`.
        - $ref: "#/components/parameters/order"
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
      responses:
        "200":
          description: Portfolios allocation accounts
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Portfolios allocation accounts - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Portfolios allocation account
                      type: object
                      properties:
                        id:
                          title: Account unique identifier.
                          type: string
                          description: Account unique identifier.
                          format: uuid
                      required:
                        - id
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 1
                  total_count: 1
                  sort: id
                  order: ASC
                data:
                  - id: 81d6e710-37e6-4a5a-9877-ef5bb6d717e3
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "405":
          description: Method Not Allowed. The requested method is not allowed on the requested resource.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 405
                type: method_not_allowed
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/accounts/{account_id}/valuations/current":
    parameters:
      - name: account_id
        in: path
        required: true
        schema:
          title: Account unique identifier.
          type: string
          description: Account unique identifier.
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: get_account_valuation
      summary: Get current valuation for an account
      description: Get current valuation for an account
      tags:
        - Valuations
      security:
        - oauth-client-credentials:
            - valuations:read
      parameters:
        - name: price_quality
          in: query
          required: true
          schema:
            type: string
            enum:
              - EOD
            description: Defines the quality of the price used in the valuation.
      responses:
        "200":
          description: Valuations
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Account Valuation
                type: object
                properties:
                  id:
                    title: Account valuation unique identifier
                    description: Account valuation unique identifier.
                    type: string
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  account_id:
                    title: Account unique identifier.
                    type: string
                    description: Account unique identifier.
                    format: uuid
                  total_security_value:
                    title: Total security value
                    description: Entity representing the monetary value by amount and currency.
                    type: object
                    properties:
                      amount:
                        type: string
                        pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                      currency:
                        type: string
                        format: ISO4217
                        description: >-
                          Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                          * EUR - Euro
                        enum:
                          - EUR
                        default: EUR
                    required:
                      - amount
                      - currency
                    additionalProperties: false
                  price_quality:
                    type: string
                    description: >-
                      Price quality used for the calculation of the account valuation.

                      * EOD - end of day price
                    enum:
                      - EOD
                    default: EOD
                  security_positions:
                    type: array
                    description: Positions associated with this account valuation.
                    items:
                      title: Account valuation security position
                      type: object
                      properties:
                        instrument:
                          title: Instrument
                          description: Entity representing the financial instrument.
                          type: object
                          properties:
                            uuid:
                              description: String representing the instrument internal identifier.
                              type: string
                              format: uuid
                            isin:
                              title: International securities identification number
                              type: string
                              description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                              pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                          required:
                            - uuid
                          additionalProperties: false
                        quantity:
                          allOf:
                            - type: string
                              pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                            - description: Total quantity of the instrument (10 decimal places).
                        value:
                          nullable: true
                          allOf:
                            - title: Security position value
                              description: Entity representing the monetary value by amount and currency, and the time of the price used.
                              type: object
                              properties:
                                amount:
                                  type: string
                                  pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                                currency:
                                  type: string
                                  format: ISO4217
                                  description: >-
                                    Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                                    * EUR - Euro
                                  enum:
                                    - EUR
                                  default: EUR
                                price_time:
                                  type: string
                                  format: date-time
                                  description: The date and time of the price used for the calculation. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                              required:
                                - amount
                                - currency
                                - price_time
                              additionalProperties: false
                            - nullable: true
                        weight:
                          nullable: true
                          allOf:
                            - type: string
                              pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                            - description: Total weight of the instrument (10 decimal places).
                      required:
                        - instrument
                        - quantity
                        - value
                        - weight
                      additionalProperties: false
                  valuation_time:
                    type: string
                    format: date-time
                    description: Date and time as of which the value was calculated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                required:
                  - id
                  - account_id
                  - created_at
                  - updated_at
                  - valuation_time
                  - total_security_value
                  - price_quality
                additionalProperties: false
              example:
                id: 404b170a-9042-11ed-9a51-2eabd0c03f8a
                created_at: 2023-01-10T14:15:22Z
                updated_at: 2023-01-10T14:15:22Z
                valuation_time: 2023-01-10T14:15:22Z
                account_id: 51cdc0cc-9042-11ed-b017-2eabd0c03f8a
                price_quality: EOD
                total_security_value:
                  amount: "142.29"
                  currency: EUR
                security_positions:
                  - instrument:
                      uuid: 123e4567-e89b-12d3-a456-426614174000
                      isin: DE0007664005
                    value:
                      amount: "104.81"
                      currency: EUR
                      price_time: 2023-01-09T00:00:00Z
                    quantity: "0.65"
                    weight: "0.736595"
                  - instrument:
                      uuid: 48b798b7-3a62-4f30-8307-ee94d35b21b7
                      isin: FR0010524777
                    value:
                      amount: "37.48"
                      currency: EUR
                      price_time: 2023-01-09T00:00:00Z
                    quantity: "1.00"
                    weight: "0.263405"
                  - instrument:
                      uuid: 7499ccf8-6fa5-43ef-af9e-dd062e10ab59
                      isin: SE0019889775
                    quantity: "5.00"
                    value: null
                    weight: null
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/accounts/{account_id}/valuations":
    parameters:
      - name: account_id
        in: path
        required: true
        schema:
          title: Account unique identifier.
          type: string
          description: Account unique identifier.
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_account_valuation_history
      summary: List valuation history for an account
      description: List valuation history for an account
      tags:
        - Valuations
      security:
        - oauth-client-credentials:
            - valuations:read
      parameters:
        - name: start_date
          in: query
          required: false
          schema:
            type: string
            format: date
            title: Date in YYYY-MM-DD format. RFC 3339, section 5.6
            description: Returns account valuations starting from and including this date (UTC)
          example: 2023-01-03
        - name: end_date
          in: query
          required: false
          schema:
            type: string
            format: date
            title: Date in YYYY-MM-DD format. RFC 3339, section 5.6
            description: Returns account valuations up until this date (UTC)
          example: 2023-01-11
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - valuation_time
            default: valuation_time
          description: Sort the result by `valuation_time`.
        - name: order
          in: query
          required: false
          schema:
            type: string
            enum:
              - ASC
              - DESC
            default: ASC
          description: Sort order of the result list if the `sort` parameter is specified. Use `ASC` for ascending or `DESC` for descending sort order.
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
      responses:
        "200":
          description: Valuations
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Account Valuation - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Account Valuation
                      type: object
                      properties:
                        id:
                          title: Account valuation unique identifier
                          description: Account valuation unique identifier.
                          type: string
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        account_id:
                          title: Account unique identifier.
                          type: string
                          description: Account unique identifier.
                          format: uuid
                        total_security_value:
                          title: Total security value
                          description: Entity representing the monetary value by amount and currency.
                          type: object
                          properties:
                            amount:
                              type: string
                              pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                            currency:
                              type: string
                              format: ISO4217
                              description: >-
                                Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                                * EUR - Euro
                              enum:
                                - EUR
                              default: EUR
                          required:
                            - amount
                            - currency
                          additionalProperties: false
                        price_quality:
                          type: string
                          description: >-
                            Price quality used for the calculation of the account valuation.

                            * EOD - end of day price
                          enum:
                            - EOD
                          default: EOD
                        security_positions:
                          type: array
                          description: Positions associated with this account valuation.
                          items:
                            title: Account valuation security position
                            type: object
                            properties:
                              instrument:
                                title: Instrument
                                description: Entity representing the financial instrument.
                                type: object
                                properties:
                                  uuid:
                                    description: String representing the instrument internal identifier.
                                    type: string
                                    format: uuid
                                  isin:
                                    title: International securities identification number
                                    type: string
                                    description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                                    pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                                required:
                                  - uuid
                                additionalProperties: false
                              quantity:
                                allOf:
                                  - type: string
                                    pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                                  - description: Total quantity of the instrument (10 decimal places).
                              value:
                                nullable: true
                                allOf:
                                  - title: Security position value
                                    description: Entity representing the monetary value by amount and currency, and the time of the price used.
                                    type: object
                                    properties:
                                      amount:
                                        type: string
                                        pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                                      currency:
                                        type: string
                                        format: ISO4217
                                        description: >-
                                          Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                                          * EUR - Euro
                                        enum:
                                          - EUR
                                        default: EUR
                                      price_time:
                                        type: string
                                        format: date-time
                                        description: The date and time of the price used for the calculation. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                                    required:
                                      - amount
                                      - currency
                                      - price_time
                                    additionalProperties: false
                                  - nullable: true
                              weight:
                                nullable: true
                                allOf:
                                  - type: string
                                    pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                                  - description: Total weight of the instrument (10 decimal places).
                            required:
                              - instrument
                              - quantity
                              - value
                              - weight
                            additionalProperties: false
                        valuation_time:
                          type: string
                          format: date-time
                          description: Date and time as of which the value was calculated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                      required:
                        - id
                        - account_id
                        - created_at
                        - updated_at
                        - valuation_time
                        - total_security_value
                        - price_quality
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 1
                  total_count: 1
                  sort: created_at
                  order: ASC
                data:
                  - id: 404b170a-9042-11ed-9a51-2eabd0c03f8a
                    created_at: 2023-01-10T14:15:22Z
                    updated_at: 2023-01-10T14:15:22Z
                    valuation_time: 2023-01-10T14:15:22Z
                    account_id: 51cdc0cc-9042-11ed-b017-2eabd0c03f8a
                    price_quality: EOD
                    total_security_value:
                      amount: "142.29"
                      currency: EUR
                    security_positions:
                      - instrument:
                          uuid: 123e4567-e89b-12d3-a456-426614174000
                          isin: DE0007664005
                        value:
                          amount: "104.81"
                          currency: EUR
                          price_time: 2023-01-09T00:00:00Z
                        quantity: "0.65"
                        weight: "0.736595"
                      - instrument:
                          uuid: 48b798b7-3a62-4f30-8307-ee94d35b21b7
                          isin: FR0010524777
                        value:
                          amount: "37.48"
                          currency: EUR
                          price_time: 2023-01-09T00:00:00Z
                        quantity: "1.00"
                        weight: "0.263405"
                      - instrument:
                          uuid: 7499ccf8-6fa5-43ef-af9e-dd062e10ab59
                          isin: SE0019889775
                        quantity: "5.00"
                        value: null
                        weight: null
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "405":
          description: Method Not Allowed. The requested method is not allowed on the requested resource.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 405
                type: method_not_allowed
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /transactions/cash:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_cash_transactions
      summary: List cash transactions
      description: List cash transactions
      tags:
        - Transactions
      security:
        - oauth-client-credentials:
            - transactions:read
      parameters:
        - name: account_group_id
          in: query
          required: false
          schema:
            title: Account group unique identifier.
            type: string
            description: Account group unique identifier.
            format: uuid
          description: Filters the list to show only transactions associated with a certain account group ID.
          example: 413715f2-5401-4b97-8055-034a6b879f8c
        - name: start_date
          in: query
          required: false
          schema:
            type: string
            format: date
            title: Date in YYYY-MM-DD format. RFC 3339, section 5.6
            description: Returns transactions starting from and including this date (UTC).
            example: 2023-01-03
        - name: end_date
          in: query
          required: false
          schema:
            type: string
            format: date
            title: Date in YYYY-MM-DD format. RFC 3339, section 5.6
            description: Returns transactions up until this date (UTC)
            example: 2023-01-11
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - booking_date
            default: booking_date
          description: Sort the result by `booking_date`.
        - name: order
          in: query
          required: false
          schema:
            type: string
            enum:
              - ASC
              - DESC
            default: ASC
          description: Sort order of the result list if the `sort` parameter is specified. Use `ASC` for ascending or `DESC` for descending sort order.
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
      responses:
        "200":
          description: Cash Transactions
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Cash transaction - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Cash Transaction
                      type: object
                      properties:
                        account_group_id:
                          title: Account group unique identifier.
                          type: string
                          description: Account group unique identifier.
                          format: uuid
                        booking_date:
                          title: " Transaction booking date."
                          type: string
                          description: " Transaction booking date and time. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)"
                          format: date-time
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        delta:
                          title: Cash transaction delta
                          description: Entity representing cash transaction delta.
                          type: object
                          properties:
                            amount:
                              type: string
                              pattern: ^-?[0-9]{1,9}(\.[0-9]{2})?$
                            currency:
                              type: string
                              format: ISO4217
                              description: >-
                                Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                                * EUR - Euro
                              enum:
                                - EUR
                              default: EUR
                          required:
                            - amount
                            - currency
                          additionalProperties: false
                        id:
                          title: Cash transaction unique identifier.
                          type: string
                          description: Cash transaction unique identifier.
                          format: uuid
                        instrument:
                          title: Instrument
                          description: Entity representing instrument
                          type: object
                          properties:
                            uuid:
                              description: Internal instrument identifier.
                              type: string
                              format: uuid
                            isin:
                              title: International securities identification number
                              type: string
                              description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                              pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                          required:
                            - uuid
                          additionalProperties: false
                        account_id:
                          title: Account unique identifier.
                          type: string
                          description: Account unique identifier.
                          format: uuid
                        taxes:
                          type: array
                          items:
                            title: Transaction tax
                            description: Entity representing the transaction tax.
                            type: object
                            properties:
                              amount:
                                type: string
                                pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                              currency:
                                type: string
                                format: ISO4217
                                description: >-
                                  Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                                  * EUR - Euro
                                enum:
                                  - EUR
                                default: EUR
                              type:
                                type: string
                                description: |-
                                  Type of the tax.
                                  * TOTAL - Total taxes
                                enum:
                                  - TOTAL
                                default: TOTAL
                            required:
                              - amount
                              - currency
                              - type
                            additionalProperties: false
                        references:
                          type: array
                          items:
                            title: Cash transaction reference
                            description: Entity representing cash transaction reference.
                            type: object
                            properties:
                              id:
                                title: Unique identifier for a resource of given type.
                                type: string
                                description: Unique identifier for a resource of given type.
                                format: uuid
                              type:
                                type: string
                                description: >-
                                  Type of the reference.

                                  * ORDER - Order

                                  * ORDER_EXECUTION - Order execution

                                  * WITHDRAWAL - Cash withdrawal

                                  * DIRECT_DEBIT - Direct debit funding request

                                  * CORPORATE_ACTION - Corporate action

                                  * CORPORATE_ACTION_TRANSACTION_ID - Corporate action transaction ID

                                  * TOPUP - Cash top up

                                  * FEE_COLLECTION - Fee collection
                                enum:
                                  - ORDER
                                  - ORDER_EXECUTION
                                  - WITHDRAWAL
                                  - DIRECT_DEBIT
                                  - CORPORATE_ACTION
                                  - CORPORATE_ACTION_TRANSACTION_ID
                                  - TOPUP
                                  - FEE_COLLECTION
                            required:
                              - id
                              - type
                            additionalProperties: false
                        type:
                          title: Transaction type
                          description: >-
                            Transaction type.

                            * CALL_ON_INTERMEDIATE_SECURITIES - Call on Intermediate Securities

                            * CALL_ON_INTERMEDIATE_SECURITIES_CANCELLATION - Call on Intermediate Securities, Cancellation

                            * CASH_DIVIDEND - Cash dividend

                            * CASH_DIVIDEND_CANCELLATION - Cash dividend cancellation

                            * DECREASE_IN_VALUE - Decrease in Value

                            * DECREASE_IN_VALUE_CANCELLATION - Decrease in Value, Cancellation

                            * DIVIDEND_OPTION - Dividend Option

                            * DIVIDEND_OPTION_CANCELLATION - Dividend Option, Cancellation

                            * DIVIDEND_REINVESTMENT - Dividend Reinvestment

                            * DIVIDEND_REINVESTMENT_CANCELLATION - Dividend Reinvestment, Cancellation

                            * DUTCH_AUCTION - Dutch Auction

                            * DUTCH_AUCTION_CANCELLATION - Dutch Auction, Cancellation

                            * FEE_COLLECTION - Fee collection

                            * FEE_COLLECTION_CANCELLATION - Fee collection cancellation

                            * INCREASE_IN_VALUE - Increase in Value

                            * INCREASE_IN_VALUE_CANCELLATION - Increase in Value, Cancellation

                            * LIQUIDATION_PAYMENT - Liquidation Dividend/Liquidation Payment

                            * LIQUIDATION_PAYMENT_CANCELLATION - Liquidation Dividend/Liquidation Payment, Cancellation

                            * MERGER - Merger

                            * MERGER_CANCELLATION - Merger, Cancellation

                            * NON_OFFICIAL_OFFER - Non-Official Offer

                            * NON_OFFICIAL_OFFER_CANCELLATION - Non-Official Offer, Cancellation

                            * ODD_LOT_SALE - Odd Lot Sale/Purchase

                            * ODD_LOT_SALE_CANCELLATION - Odd Lot Sale/Purchase, Cancellation

                            * ORDER_EXECUTION - Order execution

                            * ORDER_EXECUTION_CANCELLATION - Order execution cancellation

                            * OTHER_EVENT - Other Event

                            * OTHER_EVENT_CANCELLATION - Other Event, Cancellation

                            * PRIORITY_ISSUE - Priority Issue

                            * PRIORITY_ISSUE_CANCELLATION - Priority Issue, Cancellation

                            * REPURCHASE_OFFER - Repurchase Offer/Issuer Bid/Reverse Rights

                            * REPURCHASE_OFFER_CANCELLATION - Repurchase Offer/Issuer Bid/Reverse Rights, Cancellation

                            * REVERSE_STOCK_SPLIT - Reverse Stock Split/Change in Nominal Value

                            * REVERSE_STOCK_SPLIT_CANCELLATION - Reverse Stock Split/Change in Nominal Value, Cancellation

                            * SEPA_DIRECT_DEBIT - Sepa direct debit

                            * SEPA_DIRECT_DEBIT_CHARGE_BACK - Sepa direct debit charge back

                            * SPIN_OFF - Spin-Off

                            * SPIN_OFF_CANCELLATION - Spin-Off, Cancellation

                            * STOCK_SPLIT - Stock Split/Change in Nominal Value/Subdivision

                            * STOCK_SPLIT_CANCELLATION - Stock Split/Change in Nominal Value/Subdivision, Cancellation

                            * TENDER - Tender/Acquisition/Takeover/Purchase Offer

                            * TENDER_CANCELLATION - Tender/Acquisition/Takeover/Purchase Offer, Cancellation

                            * TOPUP - Cash top up

                            * WITHDRAWAL - Withdrawal

                            * WITHDRAWAL_CANCELLATION - Withdrawal cancellation

                            * DD_REFUND_REJECT_FEE - DD refund reject fee

                            * DD_REFUND_REJECT_FEE_CANCELLATION - DD refund reject fee cancellation
                          type: string
                          enum:
                            - CALL_ON_INTERMEDIATE_SECURITIES
                            - CALL_ON_INTERMEDIATE_SECURITIES_CANCELLATION
                            - CASH_DIVIDEND
                            - CASH_DIVIDEND_CANCELLATION
                            - DECREASE_IN_VALUE
                            - DECREASE_IN_VALUE_CANCELLATION
                            - DIVIDEND_OPTION
                            - DIVIDEND_OPTION_CANCELLATION
                            - DIVIDEND_REINVESTMENT
                            - DIVIDEND_REINVESTMENT_CANCELLATION
                            - DUTCH_AUCTION
                            - DUTCH_AUCTION_CANCELLATION
                            - FEE_COLLECTION
                            - FEE_COLLECTION_CANCELLATION
                            - INCREASE_IN_VALUE
                            - INCREASE_IN_VALUE_CANCELLATION
                            - LIQUIDATION_PAYMENT
                            - LIQUIDATION_PAYMENT_CANCELLATION
                            - MERGER
                            - MERGER_CANCELLATION
                            - NON_OFFICIAL_OFFER
                            - NON_OFFICIAL_OFFER_CANCELLATION
                            - ODD_LOT_SALE
                            - ODD_LOT_SALE_CANCELLATION
                            - ORDER_EXECUTION
                            - ORDER_EXECUTION_CANCELLATION
                            - OTHER_EVENT
                            - OTHER_EVENT_CANCELLATION
                            - PRIORITY_ISSUE
                            - PRIORITY_ISSUE_CANCELLATION
                            - REPURCHASE_OFFER
                            - REPURCHASE_OFFER_CANCELLATION
                            - REVERSE_STOCK_SPLIT
                            - REVERSE_STOCK_SPLIT_CANCELLATION
                            - SEPA_DIRECT_DEBIT
                            - SEPA_DIRECT_DEBIT_CHARGE_BACK
                            - SPIN_OFF
                            - SPIN_OFF_CANCELLATION
                            - STOCK_SPLIT
                            - STOCK_SPLIT_CANCELLATION
                            - TENDER
                            - TENDER_CANCELLATION
                            - TOPUP
                            - WITHDRAWAL
                            - WITHDRAWAL_CANCELLATION
                            - DD_REFUND_REJECT_FEE
                            - DD_REFUND_REJECT_FEE_CANCELLATION
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        value_date:
                          title: Transaction value date
                          type: string
                          description: Transaction value date and time. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                          format: date-time
                      required:
                        - id
                        - type
                        - account_group_id
                        - booking_date
                        - value_date
                        - delta
                        - taxes
                        - references
                        - created_at
                        - updated_at
                      additionalProperties: true
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 2
                  total_count: 2
                  sort: booking_date
                  order: ASC
                data:
                  - id: 6dc9fbca-8835-11ed-a217-2eabd0c03f8a
                    created_at: 2023-01-01T00:00:00Z
                    updated_at: 2023-01-01T00:00:00Z
                    account_group_id: 6409e3f2-8835-11ed-96a4-2eabd0c03f8a
                    booking_date: 2023-01-01T00:00:00Z
                    delta:
                      amount: "-305.00"
                      currency: EUR
                    references:
                      - id: 7579a672-8835-11ed-9455-2eabd0c03f8a
                        type: ORDER_EXECUTION
                      - id: 1f5758d3-1ef7-4b4c-96ec-6b3da2bf1a8a
                        type: ORDER
                    taxes:
                      - amount: "5.00"
                        currency: EUR
                        type: TOTAL
                    type: ORDER_EXECUTION
                    value_date: 2023-01-01T00:00:00Z
                  - account_group_id: 6409e3f2-8835-11ed-96a4-2eabd0c03f8a
                    booking_date: 2023-01-01T00:00:00Z
                    created_at: 2023-01-01T00:00:00Z
                    delta:
                      amount: "100.00"
                      currency: EUR
                    id: 9e7a3188-eff8-11ed-a05b-0242ac120003
                    references:
                      - id: 98f01200-eff8-11ed-a05b-0242ac120003
                        type: DIRECT_DEBIT
                    taxes: []
                    type: SEPA_DIRECT_DEBIT
                    updated_at: 2023-01-01T00:00:00Z
                    value_date: 2023-01-01T00:00:00Z
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "405":
          description: Method Not Allowed. The requested method is not allowed on the requested resource.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 405
                type: method_not_allowed
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /transactions/securities:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_securities_transactions
      summary: List securities transactions
      description: List securities transactions
      tags:
        - Transactions
      security:
        - oauth-client-credentials:
            - transactions:read
      parameters:
        - name: account_group_id
          in: query
          required: false
          schema:
            title: Account group unique identifier.
            type: string
            description: Account group unique identifier.
            format: uuid
          description: Filters the list to only show transactions associated with a certain account group ID.
          example: 413715f2-5401-4b97-8055-034a6b879f8c
        - name: account_id
          in: query
          required: false
          schema:
            title: Account unique identifier.
            type: string
            description: Account unique identifier.
            format: uuid
          description: Filters the list to only show transactions associated with a certain account ID.
          example: 413715f2-5401-4b97-8055-034a6b879f8c
        - name: start_date
          in: query
          required: false
          schema:
            type: string
            format: date
            title: Date in YYYY-MM-DD format. RFC 3339, section 5.6
            description: Returns transactions starting from and including this date (UTC)
          example: 2023-01-03
        - name: end_date
          in: query
          required: false
          schema:
            type: string
            format: date
            title: Date in YYYY-MM-DD format. RFC 3339, section 5.6
            description: Returns transactions up until this date (UTC)
            example: 2023-01-11
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - booking_date
            default: booking_date
          description: Sort the result by `booking_date`.
        - name: order
          in: query
          required: false
          schema:
            type: string
            enum:
              - ASC
              - DESC
            default: ASC
          description: Sort order of the result list if the `sort` parameter is specified. Use `ASC` for ascending or `DESC` for descending sort order.
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
      responses:
        "200":
          description: Securities Transactions
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Security transaction - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Security Transaction
                      type: object
                      properties:
                        account_group_id:
                          title: Account group unique identifier.
                          type: string
                          description: Account group unique identifier.
                          format: uuid
                        account_id:
                          title: Account unique identifier.
                          type: string
                          description: Account unique identifier.
                          format: uuid
                        booking_date:
                          title: " Transaction booking date."
                          type: string
                          description: " Transaction booking date and time. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)"
                          format: date-time
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        delta:
                          title: Security transaction delta
                          description: Entity representing the security transaction delta.
                          type: object
                          properties:
                            amount:
                              type: string
                              pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                          required:
                            - amount
                          additionalProperties: true
                        id:
                          title: Security transaction unique identifier.
                          type: string
                          description: Security transaction unique identifier.
                          format: uuid
                        instrument:
                          title: Instrument
                          description: Entity representing instrument
                          type: object
                          properties:
                            uuid:
                              description: Internal instrument identifier.
                              type: string
                              format: uuid
                            isin:
                              title: International securities identification number
                              type: string
                              description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                              pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                          required:
                            - uuid
                          additionalProperties: false
                        type:
                          title: Transaction type
                          description: >-
                            Transaction type

                            * BONUS_ISSUE - Bonus Issue/Capitalisation Issue

                            * BONUS_ISSUE_CANCELLATION - Bonus Issue/Capitalisation Issue, Cancellation

                            * CALL_ON_INTERMEDIATE_SECURITIES - Call on Intermediate Securities

                            * CALL_ON_INTERMEDIATE_SECURITIES_CANCELLATION - Call on Intermediate Securities, Cancellation

                            * CHANGE - Change

                            * CHANGE_CANCELLATION - Change, Cancellation

                            * DIVIDEND_OPTION - Dividend Option

                            * DIVIDEND_OPTION_CANCELLATION - Dividend Option, Cancellation

                            * DIVIDEND_REINVESTMENT - Dividend Reinvestment

                            * DIVIDEND_REINVESTMENT_CANCELLATION - Dividend Reinvestment, Cancellation

                            * DUST_CLEANUP - Dust Cleanup

                            * DUTCH_AUCTION - Dutch Auction

                            * DUTCH_AUCTION_CANCELLATION - Dutch Auction, Cancellation

                            * INTERMEDIATE_SECURITIES_DISTRIBUTION - Intermediate Securities Distribution

                            * INTERMEDIATE_SECURITIES_DISTRIBUTION_CANCELLATION - Intermediate Securities Distribution, Cancellation

                            * MERGER - Merger

                            * MERGER_CANCELLATION - Merger, Cancellation

                            * NON_OFFICIAL_OFFER - Non-Official Offer

                            * NON_OFFICIAL_OFFER_CANCELLATION - Non-Official Offer, Cancellation

                            * ODD_LOT_SALE - Odd Lot Sale/Purchase

                            * ODD_LOT_SALE_CANCELLATION - Odd Lot Sale/Purchase, Cancellation

                            * ORDER_EXECUTION - Order execution

                            * ORDER_EXECUTION_CANCELLATION - Order execution cancellation

                            * OTHER_EVENT - Other Event

                            * OTHER_EVENT_CANCELLATION - Other Event, Cancellation

                            * PRIORITY_ISSUE - Priority Issue

                            * PRIORITY_ISSUE_CANCELLATION - Priority Issue, Cancellation

                            * REPURCHASE_OFFER - Repurchase Offer/Issuer Bid/Reverse Rights

                            * REPURCHASE_OFFER_CANCELLATION - Repurchase Offer/Issuer Bid/Reverse Rights, Cancellation

                            * REVERSE_STOCK_SPLIT - Reverse Stock Split/Change in Nominal Value

                            * REVERSE_STOCK_SPLIT_CANCELLATION - Reverse Stock Split/Change in Nominal Value, Cancellation

                            * RIGHTS_ISSUE - Rights Issue/Subscription Rights/Rights Offer

                            * RIGHTS_ISSUE_CANCELLATION - Rights Issue/Subscription Rights/Rights Offer, Cancellation

                            * SPIN_OFF - Spin-Off

                            * SPIN_OFF_CANCELLATION - Spin-Off, Cancellation

                            * STOCK_DIVIDEND - Stock Dividend

                            * STOCK_DIVIDEND_CANCELLATION - Stock Dividend, Cancellation

                            * STOCK_SPLIT - Stock Split/Change in Nominal Value/Subdivision

                            * STOCK_SPLIT_CANCELLATION - Stock Split/Change in Nominal Value/Subdivision, Cancellation

                            * TENDER - Tender/Acquisition/Takeover/Purchase Offer

                            * TENDER_CANCELLATION - Tender/Acquisition/Takeover/Purchase Offer, Cancellation

                            * WORTHLESS - Worthless

                            * WORTHLESS_CANCELLATION - Worthless, Cancellation
                          type: string
                          enum:
                            - BONUS_ISSUE
                            - BONUS_ISSUE_CANCELLATION
                            - CALL_ON_INTERMEDIATE_SECURITIES
                            - CALL_ON_INTERMEDIATE_SECURITIES_CANCELLATION
                            - CHANGE
                            - CHANGE_CANCELLATION
                            - DIVIDEND_OPTION
                            - DIVIDEND_OPTION_CANCELLATION
                            - DIVIDEND_REINVESTMENT
                            - DIVIDEND_REINVESTMENT_CANCELLATION
                            - DUST_CLEANUP
                            - DUTCH_AUCTION
                            - DUTCH_AUCTION_CANCELLATION
                            - INTERMEDIATE_SECURITIES_DISTRIBUTION
                            - INTERMEDIATE_SECURITIES_DISTRIBUTION_CANCELLATION
                            - MERGER
                            - MERGER_CANCELLATION
                            - NON_OFFICIAL_OFFER
                            - NON_OFFICIAL_OFFER_CANCELLATION
                            - ODD_LOT_SALE
                            - ODD_LOT_SALE_CANCELLATION
                            - ORDER_EXECUTION
                            - ORDER_EXECUTION_CANCELLATION
                            - OTHER_EVENT
                            - OTHER_EVENT_CANCELLATION
                            - PRIORITY_ISSUE
                            - PRIORITY_ISSUE_CANCELLATION
                            - REPURCHASE_OFFER
                            - REPURCHASE_OFFER_CANCELLATION
                            - REVERSE_STOCK_SPLIT
                            - REVERSE_STOCK_SPLIT_CANCELLATION
                            - RIGHTS_ISSUE
                            - RIGHTS_ISSUE_CANCELLATION
                            - SPIN_OFF
                            - SPIN_OFF_CANCELLATION
                            - STOCK_DIVIDEND
                            - STOCK_DIVIDEND_CANCELLATION
                            - STOCK_SPLIT
                            - STOCK_SPLIT_CANCELLATION
                            - TENDER
                            - TENDER_CANCELLATION
                            - WORTHLESS
                            - WORTHLESS_CANCELLATION
                        references:
                          type: array
                          items:
                            title: Security transaction reference
                            description: Entity representing security transaction reference
                            type: object
                            properties:
                              id:
                                title: Unique identifier for a resource of given type.
                                type: string
                                description: Unique identifier for a resource of given type.
                                format: uuid
                              type:
                                type: string
                                description: >-
                                  Type of the reference.

                                  * ORDER - Order

                                  * ORDER_EXECUTION - Order execution

                                  * CORPORATE_ACTION - Corporate action

                                  * CORPORATE_ACTION_TRANSACTION_ID - Corporate action transaction ID
                                enum:
                                  - ORDER
                                  - ORDER_EXECUTION
                                  - CORPORATE_ACTION
                                  - CORPORATE_ACTION_TRANSACTION_ID
                            required:
                              - id
                              - type
                            additionalProperties: false
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        value_date:
                          title: Transaction value date
                          type: string
                          description: Transaction value date and time. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                          format: date-time
                      required:
                        - id
                        - type
                        - account_group_id
                        - account_id
                        - booking_date
                        - value_date
                        - delta
                        - instrument
                        - references
                        - created_at
                        - updated_at
                      additionalProperties: true
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 2
                  total_count: 2
                  sort: booking_date
                  order: ASC
                data:
                  - id: 6dc9fbca-8835-11ed-a217-2eabd0c03f8a
                    created_at: 2023-01-01T00:00:00Z
                    updated_at: 2023-01-01T00:00:00Z
                    account_group_id: 6409e3f2-8835-11ed-96a4-2eabd0c03f8a
                    account_id: db6290bb-1491-45bf-aafe-262dad59d497
                    booking_date: 2023-01-01T00:00:00Z
                    delta:
                      amount: "-2.5234543879"
                    instrument:
                      uuid: ccb86937-8a39-4160-8d33-85bf9e902321
                      isin: US0378331005
                    references:
                      - id: 7579a672-8835-11ed-9455-2eabd0c03f8a
                        type: ORDER_EXECUTION
                      - id: 1f5758d3-1ef7-4b4c-96ec-6b3da2bf1a8a
                        type: ORDER
                    type: ORDER_EXECUTION
                    value_date: 2023-01-01T00:00:00Z
                  - account_group_id: 6409e3f2-8835-11ed-96a4-2eabd0c03f8a
                    account_id: db6290bb-1491-45bf-aafe-262dad59d497
                    booking_date: 2023-01-01T00:00:00Z
                    created_at: 2023-01-01T00:00:00Z
                    delta:
                      amount: "2.5234543879"
                    id: 6dc9fbca-8835-11ed-a217-2eabd0c03f8a
                    instrument:
                      uuid: ccb86937-8a39-4160-8d33-85bf9e902321
                      isin: US0378331005
                    references:
                      - id: 7579a672-8835-11ed-9455-2eabd0c03f8a
                        type: ORDER_EXECUTION
                      - id: 1f5758d3-1ef7-4b4c-96ec-6b3da2bf1a8a
                        type: ORDER
                    type: ORDER_EXECUTION_CANCELLATION
                    updated_at: 2023-01-01T00:00:00Z
                    value_date: 2023-01-01T00:00:00Z
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "405":
          description: Method Not Allowed. The requested method is not allowed on the requested resource.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 405
                type: method_not_allowed
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/accounts/{account_id}/liquidations":
    parameters:
      - name: account_id
        in: path
        required: true
        schema:
          title: Account unique identifier.
          type: string
          description: Account unique identifier.
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_accounts_liquidations
      summary: List accounts liquidations
      description: List accounts liquidations
      tags:
        - Liquidations
      security:
        - oauth-client-credentials:
            - account_liquidations:read
            - account_liquidations:admin
      parameters:
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - id
            default: id
          description: Sort the result by `id`.
        - $ref: "#/components/parameters/order"
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
        - name: start_date
          in: query
          required: false
          schema:
            type: string
            title: Date in YYYY-MM-DDT00:00:00Z format. RFC 3339, section 5.6
          description: Returns accounts liquidations created starting from and including this date (UTC)
          example: 2022-10-14T00:00:00Z
        - name: end_date
          in: query
          required: false
          schema:
            type: string
            title: Date in YYYY-MM-DDT00:00:00Z format. RFC 3339, section 5.6
          description: Returns accounts liquidations created up until this date (UTC)
          example: 2022-10-14T00:00:00Z
      responses:
        "200":
          description: Accounts liquidations
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Portfolios orders - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Account liquidation
                      type: object
                      properties:
                        id:
                          title: Account liquidation unique identifier
                          type: string
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        updated_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        user_id:
                          title: User unique identifier.
                          type: string
                          description: User unique identifier.
                          format: uuid
                        account_id:
                          title: Account unique identifier.
                          type: string
                          description: Account unique identifier.
                          format: uuid
                        cash_amount:
                          type: string
                          pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                        currency:
                          type: string
                          format: ISO4217
                          description: >-
                            Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                            * EUR - Euro
                          enum:
                            - EUR
                          default: EUR
                        status:
                          type: string
                          description: "Execution status of the Account liquidation.\n* NEW - \n* PROCESSING - \n* FILLED - \n* CANCELLED - \n* SETTLED - "
                          enum:
                            - NEW
                            - PROCESSING
                            - FILLED
                            - CANCELLED
                            - SETTLED
                        orders:
                          type: array
                          description: Position liquidation orders associated with this account liquidation
                          items:
                            title: Account liquidation
                            type: object
                            properties:
                              id:
                                title: Account liquidation order unique identifier
                                type: string
                                format: uuid
                              side:
                                type: string
                                description: "Side of the order.\n* SELL - "
                                default: SELL
                              status:
                                type: string
                                description: "Execution status of the Account liquidation order.\n* NEW - \n* PROCESSING - \n* FILLED - \n* CANCELLED - "
                                enum:
                                  - NEW
                                  - PROCESSING
                                  - FILLED
                                  - CANCELLED
                            required:
                              - id
                              - side
                              - status
                            additionalProperties: false
                      required:
                        - id
                        - created_at
                        - updated_at
                        - account_id
                        - cash_amount
                        - currency
                        - status
                        - orders
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 1
                  total_count: 1
                  sort: id
                  order: ASC
                data:
                  - id: c5869b0c-e107-4e68-a89a-57ad43253dd6
                    created_at: 2021-07-21T14:10:00.000Z
                    updated_at: 2021-07-21T14:10:00.000Z
                    account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                    cash_amount: "1000"
                    currency: EUR
                    status: PROCESSING
                    orders:
                      - id: b291d8a4-21f5-4c52-8590-4f90ce54d0b1
                        side: SELL
                        status: NEW
                      - id: 81d02bd9-7b9d-443d-bbfa-31df4d543f7d
                        side: SELL
                        status: PROCESSING
                      - id: e97fb564-ebb4-4f37-930a-bda49c09a2e4
                        side: SELL
                        status: FILLED
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "405":
          description: Method Not Allowed. The requested method is not allowed on the requested resource.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 405
                type: method_not_allowed
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    post:
      operationId: create_account_liquidation
      summary: Create account liquidation request
      description: Create account liquidation request
      tags:
        - Liquidations
      security:
        - oauth-client-credentials:
            - account_liquidations:admin
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      requestBody:
        content:
          application/json:
            schema:
              title: Account liquidation - Request
              type: object
              properties:
                user_id:
                  title: User unique identifier.
                  type: string
                  description: User unique identifier.
                  format: uuid
              required:
                - user_id
              additionalProperties: false
            example:
              user_id: 084a00a8-4a37-4d2d-b276-71ec5e2be0e3
      responses:
        "202":
          description: Account liquidation object
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Account liquidation
                type: object
                properties:
                  id:
                    title: Account liquidation unique identifier
                    type: string
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  user_id:
                    title: User unique identifier.
                    type: string
                    description: User unique identifier.
                    format: uuid
                  account_id:
                    title: Account unique identifier.
                    type: string
                    description: Account unique identifier.
                    format: uuid
                  cash_amount:
                    type: string
                    pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                  currency:
                    type: string
                    format: ISO4217
                    description: >-
                      Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                      * EUR - Euro
                    enum:
                      - EUR
                    default: EUR
                  status:
                    type: string
                    description: "Execution status of the Account liquidation.\n* NEW - \n* PROCESSING - \n* FILLED - \n* CANCELLED - \n* SETTLED - "
                    enum:
                      - NEW
                      - PROCESSING
                      - FILLED
                      - CANCELLED
                      - SETTLED
                  orders:
                    type: array
                    description: Position liquidation orders associated with this account liquidation
                    items:
                      title: Account liquidation
                      type: object
                      properties:
                        id:
                          title: Account liquidation order unique identifier
                          type: string
                          format: uuid
                        side:
                          type: string
                          description: "Side of the order.\n* SELL - "
                          default: SELL
                        status:
                          type: string
                          description: "Execution status of the Account liquidation order.\n* NEW - \n* PROCESSING - \n* FILLED - \n* CANCELLED - "
                          enum:
                            - NEW
                            - PROCESSING
                            - FILLED
                            - CANCELLED
                      required:
                        - id
                        - side
                        - status
                      additionalProperties: false
                required:
                  - id
                  - created_at
                  - updated_at
                  - account_id
                  - cash_amount
                  - currency
                  - status
                  - orders
                additionalProperties: false
              example:
                id: b2f541dc-a27b-4d5a-b970-41812b0892b9
                created_at: 2021-07-21T14:10:00.000Z
                updated_at: 2021-07-21T14:10:00.000Z
                account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                user_id: 81dfb00e-9be6-4617-8994-dfd0407f34df
                cash_amount: "1000"
                currency: EUR
                status: NEW
                orders: []
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/accounts/{account_id}/liquidations/{account_liquidation_id}":
    parameters:
      - name: account_id
        in: path
        required: true
        schema:
          title: Account unique identifier.
          type: string
          description: Account unique identifier.
          format: uuid
      - name: account_liquidation_id
        in: path
        required: true
        schema:
          title: Account liquidation unique identifier
          type: string
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: retrieve_account_liquidation
      summary: Retrieve account liquidation
      description: Retrieve account liquidation
      tags:
        - Liquidations
      security:
        - oauth-client-credentials:
            - account_liquidations:read
            - account_liquidations:admin
      responses:
        "200":
          description: Account liquidation object
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Account liquidation
                type: object
                properties:
                  id:
                    title: Account liquidation unique identifier
                    type: string
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  user_id:
                    title: User unique identifier.
                    type: string
                    description: User unique identifier.
                    format: uuid
                  account_id:
                    title: Account unique identifier.
                    type: string
                    description: Account unique identifier.
                    format: uuid
                  cash_amount:
                    type: string
                    pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                  currency:
                    type: string
                    format: ISO4217
                    description: >-
                      Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                      * EUR - Euro
                    enum:
                      - EUR
                    default: EUR
                  status:
                    type: string
                    description: "Execution status of the Account liquidation.\n* NEW - \n* PROCESSING - \n* FILLED - \n* CANCELLED - \n* SETTLED - "
                    enum:
                      - NEW
                      - PROCESSING
                      - FILLED
                      - CANCELLED
                      - SETTLED
                  orders:
                    type: array
                    description: Position liquidation orders associated with this account liquidation
                    items:
                      title: Account liquidation
                      type: object
                      properties:
                        id:
                          title: Account liquidation order unique identifier
                          type: string
                          format: uuid
                        side:
                          type: string
                          description: "Side of the order.\n* SELL - "
                          default: SELL
                        status:
                          type: string
                          description: "Execution status of the Account liquidation order.\n* NEW - \n* PROCESSING - \n* FILLED - \n* CANCELLED - "
                          enum:
                            - NEW
                            - PROCESSING
                            - FILLED
                            - CANCELLED
                      required:
                        - id
                        - side
                        - status
                      additionalProperties: false
                required:
                  - id
                  - created_at
                  - updated_at
                  - account_id
                  - cash_amount
                  - currency
                  - status
                  - orders
                additionalProperties: false
              example:
                id: f386fdc4-dcd8-4dce-8acb-dae332f51483
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-21T14:10:00.00Z
                user_id: 4b9732bd-7496-4e91-8a5f-6360479d7fed
                account_id: f2f7d2c7-d79b-4de2-ae9b-d01646259f9e
                cash_amount: "100.00"
                currency: EUR
                status: PROCESSING
                orders:
                  - id: 79f2c816-13ed-4588-85e6-f3398b0b5825
                    side: SELL
                    status: NEW
                  - id: 44f50a4e-7ce8-4eae-a078-f4b3d8ab4708
                    side: SELL
                    status: NEW
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
    delete:
      operationId: cancel_account_liquidation
      summary: Cancel account liquidation
      description: Cancel account liquidation
      tags:
        - Liquidations
      security:
        - oauth-client-credentials:
            - account_liquidations:admin
      responses:
        "204":
          description: Request has been processed successfully.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/accounts/{account_id}/returns":
    parameters:
      - name: account_id
        in: path
        required: true
        schema:
          title: Account unique identifier.
          type: string
          description: Account unique identifier.
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    get:
      operationId: list_account_returns
      summary: List account returns
      description: List account returns
      tags:
        - Returns
      security:
        - oauth-client-credentials:
            - account_returns:read
      parameters:
        - name: start_date
          in: query
          schema:
            type: string
            title: Date in YYYY-MM-DD format. RFC 3339, section 5.6
          description: Returns account returns starting from and including this date (UTC)
          example: 2023-08-15
        - name: end_date
          in: query
          schema:
            type: string
            title: Date in YYYY-MM-DD format. RFC 3339, section 5.6
          description: Returns account returns up until this date (UTC)
          example: 2023-08-15
        - name: sort
          in: query
          required: false
          description: Sort the result by `date`.
          schema:
            type: string
            enum:
              - date
            default: date
        - name: order
          in: query
          required: false
          schema:
            type: string
            enum:
              - ASC
              - DESC
            default: ASC
          description: Sort order of the result list if the `sort` parameter is specified. Use `ASC` for ascending or `DESC` for descending sort order.
        - $ref: "#/components/parameters/offset"
        - $ref: "#/components/parameters/limit"
      responses:
        "200":
          description: OK
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Account Return - List - Response
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                        description: Amount of resource to offset in the response.
                      limit:
                        type: integer
                        description: Total limit of the response.
                      count:
                        type: integer
                        description: Count of the resources returned in the response.
                      total_count:
                        type: integer
                        description: Total count of all the resources.
                      sort:
                        type: string
                        description: The field that the list is sorted by.
                      order:
                        type: string
                        description: |-
                          The ordering of the response.
                          * ASC - Ascending order
                          * DESC - Descending order
                        enum:
                          - ASC
                          - DESC
                    required:
                      - offset
                      - limit
                      - count
                      - total_count
                  data:
                    type: array
                    items:
                      title: Account Returns
                      type: object
                      properties:
                        account_id:
                          title: Account unique identifier.
                          type: string
                          description: Account unique identifier.
                          format: uuid
                        date:
                          type: string
                          format: date-time
                          description: Date when returns were calculated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        twr:
                          title: ""
                          type: object
                          properties:
                            daily:
                              type: string
                              pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                            cumulative:
                              type: string
                              pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                            cumulative_start_date:
                              type: string
                              format: date-time
                              description: Date when the cumulative time-weighted returns calculation starts.
                      required:
                        - account_id
                        - date
                        - twr
                      additionalProperties: false
                required:
                  - meta
                  - data
                additionalProperties: false
              example:
                meta:
                  offset: 0
                  limit: 100
                  count: 2
                  total_count: 2
                  sort: date
                  order: ASC
                data:
                  - account_id: bbe9e784-e009-4cb6-a07c-24831897327b
                    date: 2023-09-01T00:00:00Z
                    twr:
                      daily: "0.0132434142"
                      cumulative: "0.0324353234"
                      cumulative_start_date: 2023-08-01T00:00:00Z
                  - account_id: bbe9e784-e009-4cb6-a07c-24831897327b
                    date: 2023-09-02T00:00:00Z
                    twr:
                      daily: "-0.005116543491"
                      cumulative: "0.0271528232"
                      cumulative_start_date: 2023-08-01T00:00:00Z
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "405":
          description: Method Not Allowed. The requested method is not allowed on the requested resource.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 405
                type: method_not_allowed
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /virtual_cash_balances/increases:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    post:
      operationId: create_virtual_cash_increase
      summary: Trigger a virtual cash increase
      description: Trigger a virtual cash increase
      tags:
        - Virtual Cash Balances
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      security:
        - oauth-client-credentials:
            - virtual_cash_balances:admin
      requestBody:
        content:
          application/json:
            schema:
              title: Virtual Cash Balance - Virtual Cash Increase - Create - Request
              type: object
              additionalProperties: false
              properties:
                account_group_id:
                  title: Account group unique identifier.
                  type: string
                  description: Account group unique identifier.
                  format: uuid
                amount:
                  type: string
                  pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                currency:
                  type: string
                  format: ISO4217
                  description: >-
                    Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                    * EUR - Euro
                  enum:
                    - EUR
                  default: EUR
              required:
                - account_group_id
                - amount
                - currency
            example:
              account_group_id: 2596db3b-0d03-4651-9eda-970910479dfb
              amount: "200.00"
              currency: EUR
      responses:
        "200":
          description: Virtual Cash Balances Increase
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Virtual Cash Balance - Virtual Cash Increase
                type: object
                additionalProperties: false
                properties:
                  id:
                    title: Virtual cash unique identifier
                    type: string
                    description: Virtual cash unique identifier
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  account_group_id:
                    title: Account group unique identifier.
                    type: string
                    description: Account group unique identifier.
                    format: uuid
                  amount:
                    type: string
                    pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                  currency:
                    type: string
                    format: ISO4217
                    description: >-
                      Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                      * EUR - Euro
                    enum:
                      - EUR
                    default: EUR
                  status:
                    type: string
                    description: >-
                      Status of the virtual cash

                      * ISSUED - Virtual cash increase is created.

                      * CONFIRMED - Virtual cash increase was successfully processed.
                    enum:
                      - ISSUED
                      - CONFIRMED
                required:
                  - id
                  - account_group_id
                  - amount
                  - currency
                  - status
                  - created_at
                  - updated_at
              example:
                id: 6ffa6b16-2380-4e7a-88b2-ae625c8eef99
                created_at: 2020-08-24T14:15:22Z
                updated_at: 2020-08-24T14:15:22Z
                account_group_id: ac1c39e9-2101-46b8-a624-d10a9e351b6c
                amount: "200.00"
                currency: EUR
                status: ISSUED
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  /virtual_cash_balances/decreases:
    parameters:
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    post:
      operationId: create_virtual_cash_decrease
      summary: Trigger a virtual cash decrease
      description: Trigger a virtual cash decrease
      tags:
        - Virtual Cash Balances
      parameters:
        - name: idempotency-key
          in: header
          required: true
          schema:
            type: string
            format: uuid
            pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
            example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
          description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
      security:
        - oauth-client-credentials:
            - virtual_cash_balances:admin
      requestBody:
        content:
          application/json:
            schema:
              title: Virtual Cash Balance - Virtual Cash Decrease - Create - Request
              type: object
              additionalProperties: false
              properties:
                account_group_id:
                  title: Account group unique identifier.
                  type: string
                  description: Account group unique identifier.
                  format: uuid
                amount:
                  type: string
                  pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                currency:
                  type: string
                  format: ISO4217
                  description: >-
                    Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                    * EUR - Euro
                  enum:
                    - EUR
                  default: EUR
              required:
                - account_group_id
                - amount
                - currency
            example:
              account_group_id: 2596db3b-0d03-4651-9eda-970910479dfb
              amount: "200.00"
              currency: EUR
      responses:
        "200":
          description: Virtual Cash Balances Decrease
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/json:
              schema:
                title: Virtual Cash Balance - Virtual Cash Decrease
                type: object
                additionalProperties: false
                properties:
                  id:
                    title: Virtual cash unique identifier
                    type: string
                    description: Virtual cash unique identifier
                    format: uuid
                  created_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  updated_at:
                    type: string
                    format: date-time
                    description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  account_group_id:
                    title: Account group unique identifier.
                    type: string
                    description: Account group unique identifier.
                    format: uuid
                  amount:
                    type: string
                    pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                  currency:
                    type: string
                    format: ISO4217
                    description: >-
                      Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                      * EUR - Euro
                    enum:
                      - EUR
                    default: EUR
                  status:
                    type: string
                    description: >-
                      Status of the virtual cash

                      * ISSUED - Virtual cash decrease is created.

                      * CONFIRMED - Virtual cash decrease was successfully processed.

                      * QUEUED - Virtual cash decrease was queued.

                      * CANCELLED - Virtual cash decrease was cancelled.
                    enum:
                      - ISSUED
                      - CONFIRMED
                      - QUEUED
                      - CANCELLED
                required:
                  - id
                  - account_group_id
                  - amount
                  - currency
                  - status
                  - created_at
                  - updated_at
              example:
                id: 6ffa6b16-2380-4e7a-88b2-ae625c8eef99
                created_at: 2020-08-24T14:15:22Z
                updated_at: 2020-08-24T14:15:22Z
                account_group_id: ac1c39e9-2101-46b8-a624-d10a9e351b6c
                amount: "200.00"
                currency: EUR
                status: ISSUED
        "400":
          $ref: "#/components/responses/ResponseError400"
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "406":
          $ref: "#/components/responses/ResponseError406"
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
  "/virtual_cash_balances/decreases/{virtual_cash_decrease_id}":
    parameters:
      - name: virtual_cash_decrease_id
        in: path
        required: true
        schema:
          title: Virtual cash unique identifier
          type: string
          description: Virtual cash unique identifier
          format: uuid
      - $ref: "#/components/parameters/clientID"
      - name: authorization
        in: header
        description: |
          Bearer (access) token from the OAuth flow with correct scopes.
          https://datatracker.ietf.org/doc/html/rfc6750
        required: true
        schema:
          type: string
          pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
          example: Bearer c2VjcmV0Cg==
      - $ref: "#/components/parameters/signature"
      - $ref: "#/components/parameters/signatureInput"
      - $ref: "#/components/parameters/apiVersion"
    delete:
      operationId: cancel_virtual_cash_decrease
      summary: Cancel virtual cash decrease by ID
      description: Cancels a virtual cash decrease specified by its ID. It is only possible to cancel a virtual cash decrease if it has the status `ISSUED` or `QUEUED`.
      tags:
        - Virtual Cash Balances
      security:
        - oauth-client-credentials:
            - virtual_cash_balances:admin
      responses:
        "204":
          description: Request has been processed successfully.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
        "401":
          $ref: "#/components/responses/ResponseError401"
        "403":
          $ref: "#/components/responses/ResponseError403"
        "404":
          $ref: "#/components/responses/ResponseError404"
        "422":
          description: Unprocessable Entity. The syntax of request is correct but server can't process it due a semantic error.
          headers:
            upvest-request-id:
              required: true
              schema:
                type: string
                format: uuid
                example: 169ae4c7-ebd7-4041-94da-25369653eba7
          content:
            application/problem+json:
              schema:
                title: Error
                type: object
                description: ""
                properties:
                  type:
                    type: string
                    description: URL to a document describing the error condition.
                  status:
                    type: integer
                    description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
                  title:
                    type: string
                    description: A short, human-readable title for the general error type; the title should not change for given types.
                  detail:
                    type: string
                    description: A human-readable description of the specific error.
                  instance:
                    type: string
                    description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
                  request_id:
                    type: string
                    description: Correlation ID for the original request.
                required:
                  - type
                  - status
                additionalProperties: false
              example:
                status: 422
                type: unprocessable_entity
        "429":
          $ref: "#/components/responses/ResponseError429"
        "500":
          $ref: "#/components/responses/ResponseError500"
        "503":
          $ref: "#/components/responses/ResponseError503"
        "504":
          $ref: "#/components/responses/ResponseError504"
x-webhooks:
  Users events:
    post:
      operationId: user_event
      summary: Users events
      description: Users events
      tags:
        - Users
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Users - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - USER.CREATED
                    - USER.ACTIVATED
                    - USER.DEACTIVATED
                    - USER.DATA_CHANGED
                    - USER.DATA_CHANGE_FAILED
                    - USER.OFFBOARDING_INITIATED
                    - USER.OFFBOARDED
                object:
                  oneOf:
                    - anyOf:
                        - title: User (BYOL)
                          type: object
                          properties:
                            id:
                              title: User unique identifier.
                              type: string
                              description: User unique identifier.
                              format: uuid
                            created_at:
                              type: string
                              format: date-time
                              description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                            updated_at:
                              type: string
                              format: date-time
                              description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                            first_name:
                              type: string
                              maxLength: 100
                              minLength: 2
                              description: First name of the user.
                            last_name:
                              type: string
                              maxLength: 100
                              minLength: 2
                              description: Last name of the user.
                            salutation:
                              type: string
                              description: "Salutation of the user used in reports and statements.\n* (empty string) - \n* SALUTATION_MALE - \n* SALUTATION_FEMALE - \n* SALUTATION_FEMALE_MARRIED - \n* SALUTATION_DIVERSE - "
                              enum:
                                - ""
                                - SALUTATION_MALE
                                - SALUTATION_FEMALE
                                - SALUTATION_FEMALE_MARRIED
                                - SALUTATION_DIVERSE
                              default: ""
                            title:
                              type: string
                              description: "Title of the user used in reports and statements.\n* (empty string) - \n* DR - Doctor\n* PROF - Professor\n* PROF_DR - \n* DIPL_ING - Graduate engineer (Diplom-Ingenieur)\n* MAGISTER - "
                              enum:
                                - ""
                                - DR
                                - PROF
                                - PROF_DR
                                - DIPL_ING
                                - MAGISTER
                              default: ""
                            birth_date:
                              type: string
                              format: date
                              description: Birth date of the user in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339)
                            birth_city:
                              title: City name
                              type: string
                              minLength: 1
                              maxLength: 85
                            birth_country:
                              description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              pattern: ^[A-Z]{2}$
                            birth_name:
                              type: string
                              maxLength: 100
                              description: If applicable, birth name of the user.
                            nationalities:
                              type: array
                              items:
                                description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                type: string
                                pattern: ^[A-Z]{2}$
                              minItems: 1
                              description: Nationalities of the user. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                            address:
                              title: Address
                              type: object
                              description: Address. Must not be a P.O. box or c/o address.
                              properties:
                                address_line1:
                                  type: string
                                  description: First address line of the address.
                                  maxLength: 100
                                address_line2:
                                  type: string
                                  description: Second address line of the address.
                                  maxLength: 100
                                postcode:
                                  title: Postal code
                                  type: string
                                  description: Postal code (postcode, PIN or ZIP code)
                                  pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                                country:
                                  description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                  type: string
                                  pattern: ^[A-Z]{2}$
                                state:
                                  description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                  type: string
                                  maxLength: 50
                                city:
                                  title: City name
                                  type: string
                                  minLength: 1
                                  maxLength: 85
                              required:
                                - address_line1
                                - postcode
                                - country
                                - city
                            postal_address:
                              description: User postal address. Needs to be specified if different to the residential address, otherwise it is automatically populated.
                              oneOf:
                                - title: Address
                                  type: object
                                  description: Address. Must not be a P.O. box or c/o address.
                                  properties:
                                    address_line1:
                                      type: string
                                      description: First address line of the address.
                                      maxLength: 100
                                    address_line2:
                                      type: string
                                      description: Second address line of the address.
                                      maxLength: 100
                                    postcode:
                                      title: Postal code
                                      type: string
                                      description: Postal code (postcode, PIN or ZIP code)
                                      pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                                    country:
                                      description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                      type: string
                                      pattern: ^[A-Z]{2}$
                                    state:
                                      description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                      type: string
                                      maxLength: 50
                                    city:
                                      title: City name
                                      type: string
                                      minLength: 1
                                      maxLength: 85
                                  required:
                                    - address_line1
                                    - postcode
                                    - country
                                    - city
                                - type: "null"
                            status:
                              type: string
                              description: "Status of the user.\n* ACTIVE - \n* INACTIVE - \n* OFFBOARDING - \n* OFFBOARDED - "
                              enum:
                                - ACTIVE
                                - INACTIVE
                                - OFFBOARDING
                                - OFFBOARDED
                          required:
                            - id
                            - created_at
                            - updated_at
                            - first_name
                            - last_name
                            - birth_date
                            - nationalities
                            - address
                            - status
                          additionalProperties: false
                        - title: User (TOL)
                          type: object
                          properties:
                            id:
                              title: User unique identifier.
                              type: string
                              description: User unique identifier.
                              format: uuid
                            created_at:
                              type: string
                              format: date-time
                              description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                            updated_at:
                              type: string
                              format: date-time
                              description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                            first_name:
                              type: string
                              maxLength: 100
                              minLength: 2
                              description: First name of the user.
                            last_name:
                              type: string
                              maxLength: 100
                              minLength: 2
                              description: Last name of the user.
                            salutation:
                              type: string
                              description: "Salutation of the user used in reports and statements.\n* (empty string) - \n* SALUTATION_MALE - \n* SALUTATION_FEMALE - \n* SALUTATION_FEMALE_MARRIED - \n* SALUTATION_DIVERSE - "
                              enum:
                                - ""
                                - SALUTATION_MALE
                                - SALUTATION_FEMALE
                                - SALUTATION_FEMALE_MARRIED
                                - SALUTATION_DIVERSE
                              default: ""
                            title:
                              type: string
                              description: "Title of the user used in reports and statements.\n* (empty string) - \n* DR - Doctor\n* PROF - Professor\n* PROF_DR - \n* DIPL_ING - Graduate engineer (Diplom-Ingenieur)\n* MAGISTER - "
                              enum:
                                - ""
                                - DR
                                - PROF
                                - PROF_DR
                                - DIPL_ING
                                - MAGISTER
                              default: ""
                            birth_date:
                              type: string
                              format: date
                              description: Birth date of the user in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339)
                            birth_city:
                              title: City name
                              type: string
                              minLength: 1
                              maxLength: 85
                            birth_country:
                              description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              pattern: ^[A-Z]{2}$
                            birth_name:
                              type: string
                              maxLength: 100
                              description: If applicable, birth name of the user.
                            nationalities:
                              type: array
                              items:
                                description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                type: string
                                pattern: ^[A-Z]{2}$
                              minItems: 1
                              description: Nationalities of the user. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                            address:
                              title: Address
                              type: object
                              description: Address. Must not be a P.O. box or c/o address.
                              properties:
                                address_line1:
                                  type: string
                                  description: First address line of the address.
                                  maxLength: 100
                                address_line2:
                                  type: string
                                  description: Second address line of the address.
                                  maxLength: 100
                                postcode:
                                  title: Postal code
                                  type: string
                                  description: Postal code (postcode, PIN or ZIP code)
                                  pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                                country:
                                  description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                  type: string
                                  pattern: ^[A-Z]{2}$
                                state:
                                  description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                  type: string
                                  maxLength: 50
                                city:
                                  title: City name
                                  type: string
                                  minLength: 1
                                  maxLength: 85
                              required:
                                - address_line1
                                - postcode
                                - country
                                - city
                            postal_address:
                              description: User postal address. Needs to be specified if different to the residential address, otherwise it is automatically populated.
                              oneOf:
                                - title: Address
                                  type: object
                                  description: Address. Must not be a P.O. box or c/o address.
                                  properties:
                                    address_line1:
                                      type: string
                                      description: First address line of the address.
                                      maxLength: 100
                                    address_line2:
                                      type: string
                                      description: Second address line of the address.
                                      maxLength: 100
                                    postcode:
                                      title: Postal code
                                      type: string
                                      description: Postal code (postcode, PIN or ZIP code)
                                      pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                                    country:
                                      description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                      type: string
                                      pattern: ^[A-Z]{2}$
                                    state:
                                      description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                                      type: string
                                      maxLength: 50
                                    city:
                                      title: City name
                                      type: string
                                      minLength: 1
                                      maxLength: 85
                                  required:
                                    - address_line1
                                    - postcode
                                    - country
                                    - city
                                - type: "null"
                            status:
                              type: string
                              description: "Status of the user.\n* ACTIVE - \n* INACTIVE - \n* OFFBOARDING - \n* OFFBOARDED - "
                              enum:
                                - ACTIVE
                                - INACTIVE
                                - OFFBOARDING
                                - OFFBOARDED
                            email:
                              type: string
                              format: email
                              maxLength: 100
                              description: Email of the user. Must be a valid email address.
                            phone_number:
                              type: string
                              pattern: ^([0-9]{8,15})?$
                              description: Phone number of the user. [Phone number E.164 format](https://en.wikipedia.org/wiki/E.164).
                            fatca:
                              type: object
                              properties:
                                status:
                                  type: boolean
                                  description: The user’s FATCA status is true if the user is subject to paying taxes in the US, otherwise it can be set to false.
                                confirmed_at:
                                  type: string
                                  format: date-time
                                  description: Timestamp at which the user confirmed their FATCA status. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                              required:
                                - status
                                - confirmed_at
                            terms_and_conditions:
                              type: object
                              properties:
                                consent_document_id:
                                  title: Consent unique identifier.
                                  type: string
                                  description: Consent unique identifier.
                                  format: uuid
                                confirmed_at:
                                  type: string
                                  format: date-time
                                  description: Timestamp at which the user consented to the terms & conditions. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                              required:
                                - consent_document_id
                                - confirmed_at
                            data_privacy_and_sharing_agreement:
                              type: object
                              properties:
                                consent_document_id:
                                  title: Consent unique identifier.
                                  type: string
                                  description: Consent unique identifier.
                                  format: uuid
                                confirmed_at:
                                  type: string
                                  format: date-time
                                  description: Timestamp at which the user consented to the data sharing agreement. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                              required:
                                - consent_document_id
                                - confirmed_at
                          required:
                            - id
                            - created_at
                            - updated_at
                            - first_name
                            - last_name
                            - birth_date
                            - nationalities
                            - address
                            - status
                          additionalProperties: false
                    - title: Webhook - Users - Callback
                      type: object
                      properties:
                        user_id:
                          type: string
                          format: uuid
                          description: Event unique identifier
                        reason:
                          type: string
                          maxLength: 100
                          description: The reason why the data change failed.
                      required:
                        - user_id
                        - reason
                      additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            examples:
              BYOL:
                summary: BYOL user event
                value:
                  id: 2df83681-6a42-4837-a554-a8197335bcfa
                  created_at: 2021-11-19T13:06:51.980159529Z
                  type: USER.CREATED
                  object:
                    created_at: 2021-11-22T09:04:42Z
                    updated_at: 2021-11-22T09:04:42Z
                    first_name: Jane
                    last_name: Doe
                    salutation: SALUTATION_FEMALE
                    title: PROF
                    birth_date: 1990-01-01
                    birth_city: Berlin
                    birth_country: DE
                    birth_name: Smith
                    nationalities:
                      - DE
                      - CH
                    address:
                      address_line1: Torstrasse
                      address_line2: 12a
                      city: Berlin
                      country: DE
                      postcode: "10115"
                      state: BE
                    id: a1752f00-93d5-4b77-a148-959cd315581b
                    postal_address:
                      address_line1: Thorstrasse
                      address_line2: "123"
                      city: Berlin
                      country: DE
                      postcode: "10115"
                      state: BE
                    status: ACTIVE
                  webhook_id: 1b097e06-8a14-4181-b72a-de0972a3c57b
              TOL:
                summary: TOL user event
                value:
                  id: 2df83681-6a42-4837-a554-a8197335bcfa
                  created_at: 2021-11-22T09:04:42Z
                  type: USER.CREATED
                  object:
                    created_at: 2021-11-22T09:04:42Z
                    updated_at: 2021-11-22T09:04:42Z
                    first_name: Jane
                    last_name: Doe
                    salutation: SALUTATION_FEMALE
                    title: PROF
                    birth_date: 1990-01-01
                    birth_city: Berlin
                    birth_country: DE
                    birth_name: Smith
                    nationalities:
                      - DE
                      - CH
                    address:
                      address_line1: Torstrasse
                      address_line2: 12a
                      city: Berlin
                      country: DE
                      postcode: "10115"
                      state: BE
                    id: a1752f00-93d5-4b77-a148-959cd315581b
                    postal_address:
                      address_line1: Thorstrasse
                      address_line2: "123"
                      city: Berlin
                      country: DE
                      postcode: "10115"
                      state: BE
                    status: ACTIVE
                    data_privacy_and_sharing_agreement:
                      confirmed_at: 2021-02-03T17:14:46Z
                      consent_document_id: dd42b6a9-d04d-4dd2-8c3b-36386eaa843a
                    email: janedoe@example.com
                    fatca:
                      confirmed_at: 2020-02-03T17:14:46Z
                      status: false
                    phone_number: "0123456789"
                    terms_and_conditions:
                      confirmed_at: 2020-02-03T17:14:46Z
                      consent_document_id: 62814307-f14b-40af-bc66-5942a549a759
                  webhook_id: 1b097e06-8a14-4181-b72a-de0972a3c57b
      responses:
        "204":
          description: Request has been processed successfully.
  User checks events:
    post:
      operationId: user_checks_event
      summary: User checks events
      description: User checks events
      tags:
        - Users
      x-doctave-tags:
        - User Checks
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - User Checks - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - USER_CHECK.CREATED
                    - USER_CHECK.PASSED
                    - USER_CHECK.FAILED
                object:
                  title: User Check
                  oneOf:
                    - title: User Check - Know your customer
                      type: object
                      description: The KYC (Know your customer) check is completed by the client sharing the valid and relevant KYC data for the user.
                      properties:
                        id:
                          title: User Check unique identifier
                          type: string
                          description: User Check unique identifier.
                          format: uuid
                        user_id:
                          title: User unique identifier.
                          type: string
                          description: User unique identifier.
                          format: uuid
                        type:
                          type: string
                          default: KYC
                          description: The type of check must be “KYC”.
                        check_confirmed_at:
                          type: string
                          format: date-time
                          description: Completion date and time of the KYC check. Must not be older than 24 months.
                        data_download_link:
                          type: string
                          format: url
                          maxLength: 1000
                          description: Download link for the KYC evidence file. Should be a valid URL.
                        document_type:
                          type: string
                          description: |-
                            The type of document used in the KYC process.
                            * PASSPORT - Passport
                            * ID_CARD - National Identification document
                            * RESIDENCE_PERMIT - Residence Permit
                          enum:
                            - PASSPORT
                            - ID_CARD
                            - RESIDENCE_PERMIT
                        document_expiration_date:
                          type: string
                          format: date
                          description: Expiration date of the document used in KYC process in YYYY-MM-DD format.
                        nationality:
                          description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                          type: string
                          pattern: ^[A-Z]{2}$
                        status:
                          type: string
                          description: |-
                            Final status of the KYC check.
                            * IN_PROGRESS - KYC check is in progress
                            * PASSED - KYC check passed
                            * FAILED - KYC check failed
                          enum:
                            - IN_PROGRESS
                            - PASSED
                            - FAILED
                        provider:
                          type: string
                          maxLength: 100
                          description: Provider that was used to perform the KYC check.
                        method:
                          type: string
                          description: >-
                            Method used for AML compliant KYC process

                            * VIDEO_ID - Video identification

                            * IN_PERSON_ID - In person identification at the post office or the client’s outlet

                            * ELECTRONIC_ID - Advanced electronic identification methods (namely German eID)
                          enum:
                            - VIDEO_ID
                            - IN_PERSON_ID
                            - ELECTRONIC_ID
                        confirmed_address:
                          title: Address
                          type: object
                          description: Address. Must not be a P.O. box or c/o address.
                          properties:
                            address_line1:
                              type: string
                              description: First address line of the address.
                              maxLength: 100
                            address_line2:
                              type: string
                              description: Second address line of the address.
                              maxLength: 100
                            postcode:
                              title: Postal code
                              type: string
                              description: Postal code (postcode, PIN or ZIP code)
                              pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                            country:
                              description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              pattern: ^[A-Z]{2}$
                            state:
                              description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              maxLength: 50
                            city:
                              title: City name
                              type: string
                              minLength: 1
                              maxLength: 85
                          required:
                            - address_line1
                            - postcode
                            - country
                            - city
                        kyc_update:
                          type: boolean
                          description: Marks this check as a KYC refresh/update as opposed to an initial record.
                      required:
                        - id
                        - user_id
                        - type
                        - check_confirmed_at
                        - data_download_link
                        - document_type
                        - document_expiration_date
                        - nationality
                        - status
                        - provider
                        - method
                      additionalProperties: false
                    - title: User Check - Proof of Residency
                      type: object
                      description: The PoR (Proof of residency) check is completed by the client sharing a valid PoR document, if not fulfilled by the KYC check.
                      properties:
                        id:
                          title: User Check unique identifier
                          type: string
                          description: User Check unique identifier.
                          format: uuid
                        user_id:
                          title: User unique identifier.
                          type: string
                          description: User unique identifier.
                          format: uuid
                        type:
                          type: string
                          default: POR
                          description: The type of check must be POR.
                        check_confirmed_at:
                          type: string
                          format: date-time
                          description: Completion date and time of the PoR check.
                        issuance_date:
                          type: string
                          format: date
                          description: Issuance date in YYYY-MM-DD format.
                        data_download_link:
                          type: string
                          format: url
                          maxLength: 1000
                          description: Download link for the PoR evidence file. Should be a valid URL.
                        document_type:
                          type: string
                          description: "The type of document used in the PoR process. Maximum age of the document is 12 months (stated on the document) applicable for: Utility bills (water, gas, electricity), Telephone bills (only landline), Internet bills, Bank account statements. Documents that need to be still valid - Registration certificate (issued within the past 5 years), Residence permit e.g. Blue Card (as long as valid), ID Card that contains the registration address.\n* UTILITY_BILL - \n* TELEPHONE_BILL - \n* INTERNET_BILL - \n* BANK_STATEMENT - \n* REGISTRATION_CERT - \n* RESIDENCE_PERMIT - \n* ID_CARD - "
                          enum:
                            - UTILITY_BILL
                            - TELEPHONE_BILL
                            - INTERNET_BILL
                            - BANK_STATEMENT
                            - REGISTRATION_CERT
                            - RESIDENCE_PERMIT
                            - ID_CARD
                        status:
                          type: string
                          description: "Final status of the PoR check.\n* IN_PROGRESS - \n* PASSED - \n* FAILED - "
                          enum:
                            - IN_PROGRESS
                            - PASSED
                            - FAILED
                        confirmed_address:
                          title: Address
                          type: object
                          description: Address. Must not be a P.O. box or c/o address.
                          properties:
                            address_line1:
                              type: string
                              description: First address line of the address.
                              maxLength: 100
                            address_line2:
                              type: string
                              description: Second address line of the address.
                              maxLength: 100
                            postcode:
                              title: Postal code
                              type: string
                              description: Postal code (postcode, PIN or ZIP code)
                              pattern: ^[a-zA-Z0-9\s\-]{1,10}$
                            country:
                              description: Country code. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              pattern: ^[A-Z]{2}$
                            state:
                              description: State, province, county. [ISO 3166 alpha-2 Codes](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).
                              type: string
                              maxLength: 50
                            city:
                              title: City name
                              type: string
                              minLength: 1
                              maxLength: 85
                          required:
                            - address_line1
                            - postcode
                            - country
                            - city
                      required:
                        - id
                        - user_id
                        - type
                        - check_confirmed_at
                        - issuance_date
                        - data_download_link
                        - document_type
                        - status
                        - confirmed_address
                      additionalProperties: false
                    - title: User Check - Instrument fit
                      type: object
                      description: Instrument fit check is completed by the client providing the user's answers to the instrument appropriateness or suitability questionnaire.
                      properties:
                        id:
                          title: User Check unique identifier
                          type: string
                          description: User Check unique identifier.
                          format: uuid
                        user_id:
                          title: User unique identifier.
                          type: string
                          description: User unique identifier.
                          format: uuid
                        type:
                          type: string
                          default: INSTRUMENT_FIT
                          description: The type of check must be INSTRUMENT_FIT.
                        check_confirmed_at:
                          type: string
                          format: date-time
                          description: Completion date and time of the instrument fit check.
                        status:
                          type: string
                          description: >-
                            Final status of the instrument fit check.

                            * IN_PROGRESS - Instrument fit check is in progress

                            * PASSED - Instrument fit check passed

                            * FAILED - Instrument fit check failed
                          enum:
                            - IN_PROGRESS
                            - PASSED
                            - FAILED
                        instrument_suitability:
                          type: object
                          properties:
                            suitability:
                              type: boolean
                              description: Did the user go through a suitability assessment and the outcome indicated suitability.
                          required:
                            - suitability
                      required:
                        - id
                        - user_id
                        - type
                        - check_confirmed_at
                        - status
                        - instrument_suitability
                      additionalProperties: false
                    - title: User Check - Compliance
                      type: object
                      description: Compliance check
                      properties:
                        id:
                          title: User Check unique identifier
                          type: string
                          description: User Check unique identifier.
                          format: uuid
                        user_id:
                          title: User unique identifier.
                          type: string
                          description: User unique identifier.
                          format: uuid
                        type:
                          type: string
                          default: COMPLIANCE
                          description: The type of check must be COMPLIANCE.
                        status:
                          type: string
                          description: |-
                            Final status of the COMPLIANCE check.
                            * IN_PROGRESS - Compliance check is in progress
                            * PASSED - Compliance check passed
                            * FAILED - Compliance check failed
                          enum:
                            - IN_PROGRESS
                            - PASSED
                            - FAILED
                        check_confirmed_at:
                          type: string
                          format: date-time
                          description: Completion date and time of the COMPLIANCE check.
                      required:
                        - id
                        - user_id
                        - type
                        - check_confirmed_at
                      additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 38fc59d0-fc42-46ef-9512-824773219b2e
              created_at: 2021-11-19T13:06:57.820371265Z
              type: USER_CHECK.PASSED
              object:
                check_confirmed_at: 2021-08-02T15:04:05Z
                data_download_link: https://storage.cloud.google.com/upvest-mock-documents/Test_KYC_documents.zip
                document_expiration_date: 2028-01-02
                document_type: PASSPORT
                id: 32cbb9a2-dd3b-4e60-a5af-9b41460049dc
                user_id: 7b39529a-e68c-4688-8242-7549d10d6084
                method: VIDEO_ID
                nationality: RU
                provider: IDNOW
                status: PASSED
                type: KYC
              webhook_id: 1b097e06-8a14-4181-b72a-de0972a3c57b
      responses:
        "204":
          description: Request has been processed successfully.
  Orders events:
    post:
      operationId: order_event
      summary: Orders events
      description: Orders events
      tags:
        - Orders
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Orders - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - ORDER.NEW
                    - ORDER.PROCESSING
                    - ORDER.FILLED
                    - ORDER.CANCELLED
                object:
                  title: Order
                  type: object
                  properties:
                    id:
                      title: Order unique identifier
                      type: string
                      format: uuid
                    created_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    updated_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    user_id:
                      type: string
                      format: uuid
                      description: The ID of the user
                    account_id:
                      type: string
                      format: uuid
                      description: The ID of the account that owns the order
                    cash_amount:
                      allOf:
                        - type: string
                          pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                        - description: Cash amount for a nominal order, not required if a share quantity is specified.
                    currency:
                      allOf:
                        - type: string
                          format: ISO4217
                          description: >-
                            Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                            * EUR - Euro
                          enum:
                            - EUR
                          default: EUR
                        - description: The currency for the order.
                    side:
                      type: string
                      description: "Side of the order.\n* BUY - \n* SELL - "
                      enum:
                        - BUY
                        - SELL
                    instrument_id:
                      title: International securities identification number
                      type: string
                      description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                      pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                    instrument_id_type:
                      description: "The type of the ID used in the request.\n* ISIN - "
                      enum:
                        - ISIN
                      default: ISIN
                      type: string
                    order_type:
                      type: string
                      description: "Type of the order.\n* MARKET - \n* LIMIT - \n* STOP - "
                      enum:
                        - MARKET
                        - LIMIT
                        - STOP
                    quantity:
                      allOf:
                        - type: string
                          pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                        - description: Quantity of securities for the order. Only required if the cash amount is not specified.
                    user_instrument_fit_acknowledgement:
                      type: boolean
                      description: Only applicable if the user has failed the instrument fit check for the instrument type being ordered. True if the user has acknowledged their willingness to trade.
                    limit_price:
                      allOf:
                        - type: string
                          pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                        - description: The limit price for orders of the type 'limit'.
                    stop_price:
                      allOf:
                        - type: string
                          pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                        - description: The stop price for orders of the type 'stop'.
                    expiry_date:
                      allOf:
                        - title: Expiry date
                          type: string
                          pattern: ^[0-9]{4}-[0-9]{2}-[0-9]{2}$
                        - description: The order expiration date (last day the order can trade) in the YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339. The default value is order creation date + 200 years
                    status:
                      type: string
                      description: "The execution status of the order.\n* NEW - \n* PROCESSING - \n* FILLED - \n* CANCELLED - "
                      enum:
                        - NEW
                        - PROCESSING
                        - FILLED
                        - CANCELLED
                    fee:
                      type: string
                      pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                    cancellation_reason:
                      type: string
                      description: "Reason for Order cancellation. The field is present in case the Order has a status of CANCELLED.\n* CANCELLED_BY_CLIENT - \n* CANCELLED_BY_UPVEST_OPERATIONS - \n* CANCELLED_BY_TRADING_PARTNER - \n* CANCELLED_BY_UPVEST_PLATFORM - "
                      enum:
                        - CANCELLED_BY_CLIENT
                        - CANCELLED_BY_UPVEST_OPERATIONS
                        - CANCELLED_BY_TRADING_PARTNER
                        - CANCELLED_BY_UPVEST_PLATFORM
                    initiation_flow:
                      type: string
                      description: "Initiation flow used during order creation, i.e. what triggered the order.\n* API - \n* PORTFOLIO - \n* CASH_DIVIDEND_REINVESTMENT - \n* PORTFOLIO_REBALANCING - \n* SELL_TO_COVER_FEES - \n* SELL_TO_COVER_TAXES - \n* ACCOUNT_LIQUIDATION - \n* UPVEST_OPERATIONS - "
                      enum:
                        - API
                        - PORTFOLIO
                        - CASH_DIVIDEND_REINVESTMENT
                        - PORTFOLIO_REBALANCING
                        - SELL_TO_COVER_FEES
                        - SELL_TO_COVER_TAXES
                        - ACCOUNT_LIQUIDATION
                        - UPVEST_OPERATIONS
                    execution_flow:
                      type: string
                      description: "Execution flow that the order processing goes through. If no value is specified, the default value is assumed - `STRAIGHT_THROUGH`.\n* STRAIGHT_THROUGH - \n* BLOCK - "
                      enum:
                        - STRAIGHT_THROUGH
                        - BLOCK
                    executions:
                      type: array
                      description: Order executions associated with this order
                      items:
                        title: Order execution
                        type: object
                        properties:
                          id:
                            title: Order execution unique identifier
                            type: string
                            format: uuid
                          cash_amount:
                            type: string
                            pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                          share_quantity:
                            type: string
                            pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                          price:
                            type: string
                            pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                          transaction_time:
                            type: string
                            format: date-time
                          taxes:
                            type: array
                            items:
                              title: Tax
                              type: object
                              properties:
                                type:
                                  type: string
                                  description: "Tax type\n* TOTAL - "
                                  default: TOTAL
                                  enum:
                                    - TOTAL
                                amount:
                                  type: string
                                  pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                              required:
                                - type
                                - amount
                          order_id:
                            title: Order unique identifier
                            type: string
                            format: uuid
                          status:
                            type: string
                            description: "Execution status of the Execution.\n* FILLED - \n* SETTLED - \n* CANCELLED - "
                            enum:
                              - FILLED
                              - SETTLED
                              - CANCELLED
                          side:
                            type: string
                            description: "Side of the execution.\n* BUY - \n* SELL - "
                            enum:
                              - BUY
                              - SELL
                          currency:
                            type: string
                            format: ISO4217
                            description: >-
                              Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                              * EUR - Euro
                            enum:
                              - EUR
                            default: EUR
                          settlement_date:
                            allOf:
                              - title: Settlement date
                                type: string
                                pattern: ^[0-9]{4}-[0-9]{2}-[0-9]{2}$
                              - description: Order execution settlement date in the YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339
                        required:
                          - id
                          - cash_amount
                          - share_quantity
                          - price
                          - transaction_time
                          - taxes
                          - order_id
                          - status
                          - side
                          - currency
                        additionalProperties: false
                    client_reference:
                      type: string
                      description: An ID provided by the client
                      maxLength: 100
                  required:
                    - id
                    - created_at
                    - updated_at
                    - user_id
                    - account_id
                    - cash_amount
                    - currency
                    - side
                    - instrument_id
                    - instrument_id_type
                    - order_type
                    - quantity
                    - status
                    - fee
                    - initiation_flow
                    - executions
                    - client_reference
                  additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 8962b496-8d42-4560-bfab-10490dd1a721
              created_at: 2021-07-21T14:10:00.00Z
              type: ORDER.NEW
              object:
                id: eb5ba93f-5dfe-4bf1-8571-4da0caacc80c
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-21T14:10:00.00Z
                user_id: 2dedfeb0-58cd-44f2-ae08-0e41fe0413d9
                account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                cash_amount: "56.65"
                currency: EUR
                side: BUY
                instrument_id: US0378331005
                instrument_id_type: ISIN
                order_type: MARKET
                quantity: "0.05"
                user_instrument_fit_acknowledgement: true
                limit_price: ""
                stop_price: ""
                status: NEW
                fee: "0.5"
                executions: []
                client_reference: ""
                initiation_flow: API
              webhook_id: 9df39835-be87-4243-9018-f2500b39cee6
      responses:
        "204":
          description: Request has been processed successfully.
  Executions events:
    post:
      operationId: execution_event
      summary: Executions events
      description: Executions events
      tags:
        - Executions
      x-doctave-tags:
        - Orders
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Executions - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - EXECUTION.FILLED
                    - EXECUTION.SETTLED
                    - EXECUTION.CANCELLED
                object:
                  title: Order execution
                  type: object
                  properties:
                    id:
                      title: Order execution unique identifier
                      type: string
                      format: uuid
                    cash_amount:
                      type: string
                      pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                    share_quantity:
                      type: string
                      pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                    price:
                      type: string
                      pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                    transaction_time:
                      type: string
                      format: date-time
                    taxes:
                      type: array
                      items:
                        title: Tax
                        type: object
                        properties:
                          type:
                            type: string
                            description: "Tax type\n* TOTAL - "
                            default: TOTAL
                            enum:
                              - TOTAL
                          amount:
                            type: string
                            pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                        required:
                          - type
                          - amount
                    order_id:
                      title: Order unique identifier
                      type: string
                      format: uuid
                    status:
                      type: string
                      description: "Execution status of the Execution.\n* FILLED - \n* SETTLED - \n* CANCELLED - "
                      enum:
                        - FILLED
                        - SETTLED
                        - CANCELLED
                    side:
                      type: string
                      description: "Side of the execution.\n* BUY - \n* SELL - "
                      enum:
                        - BUY
                        - SELL
                    currency:
                      type: string
                      format: ISO4217
                      description: >-
                        Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                        * EUR - Euro
                      enum:
                        - EUR
                      default: EUR
                    settlement_date:
                      allOf:
                        - title: Settlement date
                          type: string
                          pattern: ^[0-9]{4}-[0-9]{2}-[0-9]{2}$
                        - description: Order execution settlement date in the YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339
                  required:
                    - id
                    - cash_amount
                    - share_quantity
                    - price
                    - transaction_time
                    - taxes
                    - order_id
                    - status
                    - side
                    - currency
                  additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 8962b496-8d42-4560-bfab-10490dd1a721
              created_at: 2022-11-17T10:42:34.758Z
              type: EXECUTION.FILLED
              object:
                cash_amount: "852.20"
                currency: EUR
                id: b40f4631-e83b-4737-a003-c0cb36382bc5
                order_id: cd2d6019-c11d-4114-aab3-b2e5dbe58cbf
                price: "85.22"
                share_quantity: "10"
                side: BUY
                status: FILLED
                taxes:
                  - amount: "0"
                    type: TOTAL
                transaction_time: 2022-11-17T10:42:34.758Z
              webhook_id: 9df39835-be87-4243-9018-f2500b39cee6
      responses:
        "204":
          description: Request has been processed successfully.
  Order Cancellations events:
    post:
      operationId: order_cancellation_event
      summary: Order Cancellations events
      description: Order Cancellations events
      tags:
        - Orders
      x-doctave-tags:
        - Orders
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Order Cancellations - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - ORDER_CANCELLATION.REJECTED
                object:
                  title: Order Cancellation
                  type: object
                  description: ""
                  properties:
                    order_id:
                      title: Order unique identifier
                      type: string
                      format: uuid
                    status:
                      type: string
                      description: Status of the order cancellation process
                      enum:
                        - REJECTED
                    reason:
                      type: string
                      description: Reason behind order cancellation rejection.
                  required:
                    - order_id
                    - status
                  additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: e0b1f0ac-d34a-4f07-b268-545278110231
              created_at: 2023-08-01T14:10:00.00Z
              type: ORDER_CANCELLATION.REJECTED
              object:
                order_id: 120c5382-d400-4a8e-95fc-d297903f3568
                status: REJECTED
                reason: Cancellation not possible
              webhook_id: 0e225118-168c-4d4d-84d9-c36096163162
      responses:
        "204":
          description: Request has been processed successfully.
  Positions events:
    post:
      operationId: position_event
      summary: Positions events
      description: Positions events
      tags:
        - Positions
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Positions - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - POSITION.UPDATED
                  default: POSITION.UPDATED
                object:
                  type: object
                  properties:
                    account_id:
                      title: Account unique identifier.
                      type: string
                      description: Account unique identifier.
                      format: uuid
                    instrument:
                      type: object
                      properties:
                        uuid:
                          type: string
                          description: Instrument unique identifier.
                          format: uuid
                        isin:
                          title: International securities identification number
                          type: string
                          description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                          pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                      required:
                        - uuid
                      additionalProperties: false
                    quantity:
                      type: string
                      pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                    locked_for_trading:
                      type: string
                      pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                    pending_settlement:
                      type: string
                      pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                    available_for_trading:
                      type: string
                      pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                  required:
                    - account_id
                    - instrument
                    - quantity
                    - locked_for_trading
                    - pending_settlement
                    - available_for_trading
                  additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 8962b496-8d42-4560-bfab-10490dd1a724
              created_at: 2021-07-21T14:10:00.00Z
              type: POSITION.UPDATED
              object:
                account_id: c5161455-4d27-4781-bc74-f05532e49a77
                instrument:
                  isin: US0378331005
                  uuid: ccb86937-8a39-4160-8d33-85bf9e902321
                quantity: "10.4"
                locked_for_trading: "5"
                pending_settlement: "0"
                available_for_trading: "5.4"
              webhook_id: 9df39835-be87-4243-9018-f2500b39cee6
      responses:
        "204":
          description: Request has been processed successfully.
  Cash Balance events:
    post:
      operationId: cash_balance_event
      summary: Cash Balance events
      description: Cash Balance events
      tags:
        - Cash Balances
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Positions - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - CASH_BALANCE.UPDATED
                  default: CASH_BALANCE.UPDATED
                object:
                  type: object
                  properties:
                    account_group_id:
                      title: Account group unique identifier.
                      type: string
                      description: Account group unique identifier.
                      format: uuid
                    currency:
                      type: string
                      format: ISO4217
                      description: >-
                        Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                        * EUR - Euro
                      enum:
                        - EUR
                      default: EUR
                    balance:
                      type: string
                      pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                    locked_for_trading:
                      type: string
                      pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                    pending_settlement:
                      type: string
                      pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                    available_for_withdrawal:
                      type: string
                      pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                    available_for_trading:
                      type: string
                      pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                  required:
                    - account_group_id
                    - currency
                    - balance
                    - locked_for_trading
                    - pending_settlement
                    - available_for_withdrawal
                    - available_for_trading
                  additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            examples:
              cash_balance_updated:
                summary: Cash Balance Updated
                value:
                  id: 8962b496-8d42-4560-bfab-10490dd1a724
                  created_at: 2021-07-21T14:10:00.00Z
                  type: CASH_BALANCE.UPDATED
                  object:
                    account_group_id: d0fc0305-97b7-4e3b-bddf-66d3c434898c
                    currency: EUR
                    balance: "100.25"
                    locked_for_trading: "10"
                    pending_settlement: "10"
                    available_for_withdrawal: "80"
                    available_for_trading: "80"
                  webhook_id: 9df39835-be87-4243-9018-f2500b39cee6
              cash_balance_not_available_for_new_withdrawal:
                summary: Cash Balance not available for NEW withdrawal
                value:
                  id: a59c81ee-7770-4f6b-9ebe-8c268b78beb4
                  created_at: 2021-07-22T14:12:00.00Z
                  type: CASH_BALANCE.UPDATED
                  object:
                    account_group_id: d0fc0305-97b7-4e3b-bddf-66d3c434898c
                    currency: EUR
                    balance: "200"
                    locked_for_trading: "0"
                    pending_settlement: "0"
                    available_for_withdrawal: "0"
                    available_for_trading: "0"
                  webhook_id: 9df39835-be87-4243-9018-f2500b39cee6
              cash_balance_empty_for_confirmed_withdrawal:
                summary: Cash Balance empty for CONFIRMED withdrawal
                value:
                  id: 8c049f77-dc72-489d-8f5f-3871db782252
                  created_at: 2021-07-21T14:11:00.00Z
                  type: CASH_BALANCE.UPDATED
                  object:
                    account_group_id: d0fc0305-97b7-4e3b-bddf-66d3c434898c
                    currency: EUR
                    balance: "0"
                    locked_for_trading: "0"
                    pending_settlement: "0"
                    available_for_withdrawal: "0"
                    available_for_trading: "0"
                  webhook_id: 9df39835-be87-4243-9018-f2500b39cee6
      responses:
        "204":
          description: Request has been processed successfully.
  Cash transactions events:
    post:
      operationId: cash_transaction_event
      summary: Cash transactions events
      description: Cash transactions events
      tags:
        - Transactions
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Cash Transactions - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - CASH_TRANSACTION.EXECUTED
                  default: CASH_TRANSACTION.EXECUTED
                object:
                  title: Cash Transaction
                  type: object
                  properties:
                    account_group_id:
                      title: Account group unique identifier.
                      type: string
                      description: Account group unique identifier.
                      format: uuid
                    booking_date:
                      title: " Transaction booking date."
                      type: string
                      description: " Transaction booking date and time. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)"
                      format: date-time
                    created_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    delta:
                      title: Cash transaction delta
                      description: Entity representing cash transaction delta.
                      type: object
                      properties:
                        amount:
                          type: string
                          pattern: ^-?[0-9]{1,9}(\.[0-9]{2})?$
                        currency:
                          type: string
                          format: ISO4217
                          description: >-
                            Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                            * EUR - Euro
                          enum:
                            - EUR
                          default: EUR
                      required:
                        - amount
                        - currency
                      additionalProperties: false
                    id:
                      title: Cash transaction unique identifier.
                      type: string
                      description: Cash transaction unique identifier.
                      format: uuid
                    instrument:
                      title: Instrument
                      description: Entity representing instrument
                      type: object
                      properties:
                        uuid:
                          description: Internal instrument identifier.
                          type: string
                          format: uuid
                        isin:
                          title: International securities identification number
                          type: string
                          description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                          pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                      required:
                        - uuid
                      additionalProperties: false
                    account_id:
                      title: Account unique identifier.
                      type: string
                      description: Account unique identifier.
                      format: uuid
                    taxes:
                      type: array
                      items:
                        title: Transaction tax
                        description: Entity representing the transaction tax.
                        type: object
                        properties:
                          amount:
                            type: string
                            pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                          currency:
                            type: string
                            format: ISO4217
                            description: >-
                              Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                              * EUR - Euro
                            enum:
                              - EUR
                            default: EUR
                          type:
                            type: string
                            description: |-
                              Type of the tax.
                              * TOTAL - Total taxes
                            enum:
                              - TOTAL
                            default: TOTAL
                        required:
                          - amount
                          - currency
                          - type
                        additionalProperties: false
                    references:
                      type: array
                      items:
                        title: Cash transaction reference
                        description: Entity representing cash transaction reference.
                        type: object
                        properties:
                          id:
                            title: Unique identifier for a resource of given type.
                            type: string
                            description: Unique identifier for a resource of given type.
                            format: uuid
                          type:
                            type: string
                            description: >-
                              Type of the reference.

                              * ORDER - Order

                              * ORDER_EXECUTION - Order execution

                              * WITHDRAWAL - Cash withdrawal

                              * DIRECT_DEBIT - Direct debit funding request

                              * CORPORATE_ACTION - Corporate action

                              * CORPORATE_ACTION_TRANSACTION_ID - Corporate action transaction ID

                              * TOPUP - Cash top up

                              * FEE_COLLECTION - Fee collection
                            enum:
                              - ORDER
                              - ORDER_EXECUTION
                              - WITHDRAWAL
                              - DIRECT_DEBIT
                              - CORPORATE_ACTION
                              - CORPORATE_ACTION_TRANSACTION_ID
                              - TOPUP
                              - FEE_COLLECTION
                        required:
                          - id
                          - type
                        additionalProperties: false
                    type:
                      title: Transaction type
                      description: >-
                        Transaction type.

                        * CALL_ON_INTERMEDIATE_SECURITIES - Call on Intermediate Securities

                        * CALL_ON_INTERMEDIATE_SECURITIES_CANCELLATION - Call on Intermediate Securities, Cancellation

                        * CASH_DIVIDEND - Cash dividend

                        * CASH_DIVIDEND_CANCELLATION - Cash dividend cancellation

                        * DECREASE_IN_VALUE - Decrease in Value

                        * DECREASE_IN_VALUE_CANCELLATION - Decrease in Value, Cancellation

                        * DIVIDEND_OPTION - Dividend Option

                        * DIVIDEND_OPTION_CANCELLATION - Dividend Option, Cancellation

                        * DIVIDEND_REINVESTMENT - Dividend Reinvestment

                        * DIVIDEND_REINVESTMENT_CANCELLATION - Dividend Reinvestment, Cancellation

                        * DUTCH_AUCTION - Dutch Auction

                        * DUTCH_AUCTION_CANCELLATION - Dutch Auction, Cancellation

                        * FEE_COLLECTION - Fee collection

                        * FEE_COLLECTION_CANCELLATION - Fee collection cancellation

                        * INCREASE_IN_VALUE - Increase in Value

                        * INCREASE_IN_VALUE_CANCELLATION - Increase in Value, Cancellation

                        * LIQUIDATION_PAYMENT - Liquidation Dividend/Liquidation Payment

                        * LIQUIDATION_PAYMENT_CANCELLATION - Liquidation Dividend/Liquidation Payment, Cancellation

                        * MERGER - Merger

                        * MERGER_CANCELLATION - Merger, Cancellation

                        * NON_OFFICIAL_OFFER - Non-Official Offer

                        * NON_OFFICIAL_OFFER_CANCELLATION - Non-Official Offer, Cancellation

                        * ODD_LOT_SALE - Odd Lot Sale/Purchase

                        * ODD_LOT_SALE_CANCELLATION - Odd Lot Sale/Purchase, Cancellation

                        * ORDER_EXECUTION - Order execution

                        * ORDER_EXECUTION_CANCELLATION - Order execution cancellation

                        * OTHER_EVENT - Other Event

                        * OTHER_EVENT_CANCELLATION - Other Event, Cancellation

                        * PRIORITY_ISSUE - Priority Issue

                        * PRIORITY_ISSUE_CANCELLATION - Priority Issue, Cancellation

                        * REPURCHASE_OFFER - Repurchase Offer/Issuer Bid/Reverse Rights

                        * REPURCHASE_OFFER_CANCELLATION - Repurchase Offer/Issuer Bid/Reverse Rights, Cancellation

                        * REVERSE_STOCK_SPLIT - Reverse Stock Split/Change in Nominal Value

                        * REVERSE_STOCK_SPLIT_CANCELLATION - Reverse Stock Split/Change in Nominal Value, Cancellation

                        * SEPA_DIRECT_DEBIT - Sepa direct debit

                        * SEPA_DIRECT_DEBIT_CHARGE_BACK - Sepa direct debit charge back

                        * SPIN_OFF - Spin-Off

                        * SPIN_OFF_CANCELLATION - Spin-Off, Cancellation

                        * STOCK_SPLIT - Stock Split/Change in Nominal Value/Subdivision

                        * STOCK_SPLIT_CANCELLATION - Stock Split/Change in Nominal Value/Subdivision, Cancellation

                        * TENDER - Tender/Acquisition/Takeover/Purchase Offer

                        * TENDER_CANCELLATION - Tender/Acquisition/Takeover/Purchase Offer, Cancellation

                        * TOPUP - Cash top up

                        * WITHDRAWAL - Withdrawal

                        * WITHDRAWAL_CANCELLATION - Withdrawal cancellation

                        * DD_REFUND_REJECT_FEE - DD refund reject fee

                        * DD_REFUND_REJECT_FEE_CANCELLATION - DD refund reject fee cancellation
                      type: string
                      enum:
                        - CALL_ON_INTERMEDIATE_SECURITIES
                        - CALL_ON_INTERMEDIATE_SECURITIES_CANCELLATION
                        - CASH_DIVIDEND
                        - CASH_DIVIDEND_CANCELLATION
                        - DECREASE_IN_VALUE
                        - DECREASE_IN_VALUE_CANCELLATION
                        - DIVIDEND_OPTION
                        - DIVIDEND_OPTION_CANCELLATION
                        - DIVIDEND_REINVESTMENT
                        - DIVIDEND_REINVESTMENT_CANCELLATION
                        - DUTCH_AUCTION
                        - DUTCH_AUCTION_CANCELLATION
                        - FEE_COLLECTION
                        - FEE_COLLECTION_CANCELLATION
                        - INCREASE_IN_VALUE
                        - INCREASE_IN_VALUE_CANCELLATION
                        - LIQUIDATION_PAYMENT
                        - LIQUIDATION_PAYMENT_CANCELLATION
                        - MERGER
                        - MERGER_CANCELLATION
                        - NON_OFFICIAL_OFFER
                        - NON_OFFICIAL_OFFER_CANCELLATION
                        - ODD_LOT_SALE
                        - ODD_LOT_SALE_CANCELLATION
                        - ORDER_EXECUTION
                        - ORDER_EXECUTION_CANCELLATION
                        - OTHER_EVENT
                        - OTHER_EVENT_CANCELLATION
                        - PRIORITY_ISSUE
                        - PRIORITY_ISSUE_CANCELLATION
                        - REPURCHASE_OFFER
                        - REPURCHASE_OFFER_CANCELLATION
                        - REVERSE_STOCK_SPLIT
                        - REVERSE_STOCK_SPLIT_CANCELLATION
                        - SEPA_DIRECT_DEBIT
                        - SEPA_DIRECT_DEBIT_CHARGE_BACK
                        - SPIN_OFF
                        - SPIN_OFF_CANCELLATION
                        - STOCK_SPLIT
                        - STOCK_SPLIT_CANCELLATION
                        - TENDER
                        - TENDER_CANCELLATION
                        - TOPUP
                        - WITHDRAWAL
                        - WITHDRAWAL_CANCELLATION
                        - DD_REFUND_REJECT_FEE
                        - DD_REFUND_REJECT_FEE_CANCELLATION
                    updated_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    value_date:
                      title: Transaction value date
                      type: string
                      description: Transaction value date and time. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                      format: date-time
                  required:
                    - id
                    - type
                    - account_group_id
                    - booking_date
                    - value_date
                    - delta
                    - taxes
                    - references
                    - created_at
                    - updated_at
                  additionalProperties: true
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            examples:
              cash_dividend:
                summary: Cash Dividend
                value:
                  id: 55a877ce-effa-11ed-a05b-0242ac120003
                  created_at: 2023-01-01T00:00:00Z
                  type: CASH_TRANSACTION.EXECUTED
                  object:
                    account_group_id: 6409e3f2-8835-11ed-96a4-2eabd0c03f8a
                    account_id: 0255e6c4-effa-11ed-a05b-0242ac120003
                    booking_date: 2023-01-01T00:00:00Z
                    created_at: 2023-01-01T00:00:00Z
                    delta:
                      amount: "25.00"
                      currency: EUR
                    instrument:
                      uuid: ccb86937-8a39-4160-8d33-85bf9e902321
                      isin: US0378331005
                    id: 6dc9fbca-8835-11ed-a217-2eabd0c03f8a
                    references:
                      - id: 1f5758d3-1ef7-4b4c-96ec-6b3da2bf1a8a
                        type: CORPORATE_ACTION_TRANSACTION_ID
                    taxes:
                      - amount: "2.00"
                        currency: EUR
                        type: TOTAL
                    type: CASH_DIVIDEND
                    updated_at: 2023-01-01T00:00:00Z
                    value_date: 2023-01-01T00:00:00Z
                  webhook_id: 9d3ac2e0-effa-11ed-a05b-0242ac120003
              cash_dividend_cancellation:
                summary: Cash Dividend Cancellation
                value:
                  id: e23218bc-effa-11ed-a05b-0242ac120003
                  created_at: 2023-01-01T00:00:00Z
                  type: CASH_TRANSACTION.EXECUTED
                  object:
                    account_group_id: 6409e3f2-8835-11ed-96a4-2eabd0c03f8a
                    account_id: 0255e6c4-effa-11ed-a05b-0242ac120003
                    booking_date: 2023-01-01T00:00:00Z
                    created_at: 2023-01-01T00:00:00Z
                    delta:
                      amount: "-25.00"
                      currency: EUR
                    instrument:
                      uuid: ccb86937-8a39-4160-8d33-85bf9e902321
                      isin: US0378331005
                    id: dafd9954-effa-11ed-a05b-0242ac120003
                    references:
                      - id: 1f5758d3-1ef7-4b4c-96ec-6b3da2bf1a8a
                        type: CORPORATE_ACTION_TRANSACTION_ID
                    taxes:
                      - amount: "2.00"
                        currency: EUR
                        type: TOTAL
                    type: CASH_DIVIDEND_CANCELLATION
                    updated_at: 2023-01-01T00:00:00Z
                    value_date: 2023-01-01T00:00:00Z
                  webhook_id: d68273ae-effa-11ed-a05b-0242ac120003
              order_execution:
                summary: Order Execution
                value:
                  id: 398278e2-8835-11ed-97e3-2eabd0c03f8a
                  created_at: 2023-01-01T00:00:00Z
                  type: CASH_TRANSACTION.EXECUTED
                  object:
                    account_group_id: 6409e3f2-8835-11ed-96a4-2eabd0c03f8a
                    booking_date: 2023-01-01T00:00:00Z
                    created_at: 2023-01-01T00:00:00Z
                    delta:
                      amount: "250"
                      currency: EUR
                    id: 6dc9fbca-8835-11ed-a217-2eabd0c03f8a
                    references:
                      - id: 7579a672-8835-11ed-9455-2eabd0c03f8a
                        type: ORDER_EXECUTION
                      - id: 1f5758d3-1ef7-4b4c-96ec-6b3da2bf1a8a
                        type: ORDER
                    taxes:
                      - amount: "20"
                        currency: EUR
                        type: TOTAL
                    type: ORDER_EXECUTION
                    updated_at: 2023-01-01T00:00:00Z
                    value_date: 2023-01-01T00:00:00Z
                  webhook_id: 35701970-effb-11ed-a05b-0242ac120003
              order_execution_cancellation:
                summary: Order Execution Cancellation
                value:
                  id: 1dac4156-effb-11ed-a05b-0242ac120003
                  created_at: 2023-01-01T00:00:00Z
                  type: CASH_TRANSACTION.EXECUTED
                  object:
                    account_group_id: 6409e3f2-8835-11ed-96a4-2eabd0c03f8a
                    booking_date: 2023-01-01T00:00:00Z
                    created_at: 2023-01-01T00:00:00Z
                    delta:
                      amount: "-250"
                      currency: EUR
                    id: 25c56ab6-effb-11ed-a05b-0242ac120003
                    references:
                      - id: 7579a672-8835-11ed-9455-2eabd0c03f8a
                        type: ORDER_EXECUTION
                      - id: 1f5758d3-1ef7-4b4c-96ec-6b3da2bf1a8a
                        type: ORDER
                    taxes:
                      - amount: "20.00"
                        currency: EUR
                        type: TOTAL
                    type: ORDER_EXECUTION_CANCELLATION
                    updated_at: 2023-01-01T00:00:00Z
                    value_date: 2023-01-01T00:00:00Z
                  webhook_id: 162db946-effb-11ed-a05b-0242ac120003
              fee_collection:
                summary: Fee Collection
                value:
                  id: 1d27576e-f4a3-11ed-a05b-0242ac120003
                  created_at: 2023-01-01T00:00:00Z
                  type: CASH_TRANSACTION.EXECUTED
                  object:
                    account_group_id: 6409e3f2-8835-11ed-96a4-2eabd0c03f8a
                    booking_date: 2023-01-01T00:00:00Z
                    created_at: 2023-01-01T00:00:00Z
                    delta:
                      amount: "-10.00"
                      currency: EUR
                    id: 2349857c-f4a3-11ed-a05b-0242ac120003
                    references:
                      - id: 17c36d9e-f4a3-11ed-a05b-0242ac120003
                        type: FEE_COLLECTION
                    taxes: []
                    type: FEE_COLLECTION
                    updated_at: 2023-01-01T00:00:00Z
                    value_date: 2023-01-01T00:00:00Z
                  webhook_id: 1216067c-f4a3-11ed-a05b-0242ac120003
              fee_collection_cancellation:
                summary: Fee Collection Cancellation
                value:
                  id: 3cdfad72-f4a3-11ed-a05b-0242ac120003
                  created_at: 2023-01-01T00:00:00Z
                  type: CASH_TRANSACTION.EXECUTED
                  object:
                    account_group_id: 6409e3f2-8835-11ed-96a4-2eabd0c03f8a
                    booking_date: 2023-01-01T00:00:00Z
                    created_at: 2023-01-01T00:00:00Z
                    delta:
                      amount: "10.00"
                      currency: EUR
                    id: 2349857c-f4a3-11ed-a05b-0242ac120003
                    references:
                      - id: 45d15c46-f4a3-11ed-a05b-0242ac120003
                        type: FEE_COLLECTION
                    taxes: []
                    type: FEE_COLLECTION_CANCELLATION
                    updated_at: 2023-01-01T00:00:00Z
                    value_date: 2023-01-01T00:00:00Z
                  webhook_id: 40fb1252-f4a3-11ed-a05b-0242ac120003
              sepa_direct_debit:
                summary: Sepa Direct Debit
                value:
                  id: a9a76224-eff8-11ed-a05b-0242ac120003
                  created_at: 2023-01-01T00:00:00Z
                  type: CASH_TRANSACTION.EXECUTED
                  object:
                    account_group_id: 6409e3f2-8835-11ed-96a4-2eabd0c03f8a
                    booking_date: 2023-01-01T00:00:00Z
                    created_at: 2023-01-01T00:00:00Z
                    delta:
                      amount: "100.00"
                      currency: EUR
                    id: 9e7a3188-eff8-11ed-a05b-0242ac120003
                    references:
                      - id: 98f01200-eff8-11ed-a05b-0242ac120003
                        type: DIRECT_DEBIT
                    taxes: []
                    type: SEPA_DIRECT_DEBIT
                    updated_at: 2023-01-01T00:00:00Z
                    value_date: 2023-01-01T00:00:00Z
                  webhook_id: 9390c822-eff8-11ed-a05b-0242ac120003
              sepa_direct_debit_chargeback:
                summary: Sepa Direct Debit Chargeback
                value:
                  id: 2e471146-eff9-11ed-a05b-0242ac120003
                  created_at: 2023-01-01T00:00:00Z
                  type: CASH_TRANSACTION.EXECUTED
                  object:
                    account_group_id: 6409e3f2-8835-11ed-96a4-2eabd0c03f8a
                    booking_date: 2023-01-01T00:00:00Z
                    created_at: 2023-01-01T00:00:00Z
                    delta:
                      amount: "-305.00"
                      currency: EUR
                    id: 23547364-eff9-11ed-a05b-0242ac120003
                    references:
                      - id: 1d2a347e-eff9-11ed-a05b-0242ac120003
                        type: DIRECT_DEBIT
                    taxes: []
                    type: SEPA_DIRECT_DEBIT_CHARGE_BACK
                    updated_at: 2023-01-01T00:00:00Z
                    value_date: 2023-01-01T00:00:00Z
                  webhook_id: 060844b6-eff9-11ed-a05b-0242ac120003
              topup:
                summary: Topup
                value:
                  id: e619bf74-effb-11ed-a05b-0242ac120003
                  created_at: 2023-01-01T00:00:00Z
                  type: CASH_TRANSACTION.EXECUTED
                  object:
                    account_group_id: 6409e3f2-8835-11ed-96a4-2eabd0c03f8a
                    booking_date: 2023-01-01T00:00:00Z
                    created_at: 2023-01-01T00:00:00Z
                    delta:
                      amount: "100"
                      currency: EUR
                    id: e165c4b4-effb-11ed-a05b-0242ac120003
                    references:
                      - id: dbf4d0a6-effb-11ed-a05b-0242ac120003
                        type: TOPUP
                    taxes: []
                    type: TOPUP
                    updated_at: 2023-01-01T00:00:00Z
                    value_date: 2023-01-01T00:00:00Z
                  webhook_id: d53b06f4-effb-11ed-a05b-0242ac120003
              withdrawal:
                summary: Withdrawal
                value:
                  id: 398278e2-8835-11ed-97e3-2eabd0c03f8a
                  created_at: 2023-01-01T00:00:00Z
                  type: CASH_TRANSACTION.EXECUTED
                  object:
                    account_group_id: 6409e3f2-8835-11ed-96a4-2eabd0c03f8a
                    booking_date: 2023-01-01T00:00:00Z
                    created_at: 2023-01-01T00:00:00Z
                    delta:
                      amount: "-305.00"
                      currency: EUR
                    id: 6dc9fbca-8835-11ed-a217-2eabd0c03f8a
                    references:
                      - id: 1f5758d3-1ef7-4b4c-96ec-6b3da2bf1a8a
                        type: WITHDRAWAL
                    taxes: []
                    type: WITHDRAWAL
                    updated_at: 2023-01-01T00:00:00Z
                    value_date: 2023-01-01T00:00:00Z
                  webhook_id: 7eea34e2-8835-11ed-a47e-2eabd0c03f8a
              withdrawal_cancellation:
                summary: Withdrawal Cancellation
                value:
                  id: 10cabec6-effc-11ed-a05b-0242ac120003
                  created_at: 2023-01-01T00:00:00Z
                  type: CASH_TRANSACTION.EXECUTED
                  object:
                    account_group_id: 6409e3f2-8835-11ed-96a4-2eabd0c03f8a
                    booking_date: 2023-01-01T00:00:00Z
                    created_at: 2023-01-01T00:00:00Z
                    delta:
                      amount: "305.00"
                      currency: EUR
                    id: 15750eae-effc-11ed-a05b-0242ac120003
                    references:
                      - id: 1cffa512-effc-11ed-a05b-0242ac120003
                        type: WITHDRAWAL
                    taxes: []
                    type: WITHDRAWAL_CANCELLATION
                    updated_at: 2023-01-01T00:00:00Z
                    value_date: 2023-01-01T00:00:00Z
                  webhook_id: 0d0edd62-effc-11ed-a05b-0242ac120003
      responses:
        "204":
          description: Request has been processed successfully.
  Security transactions events:
    post:
      operationId: security_transaction_event
      summary: Security transactions events
      description: Security transactions events
      tags:
        - Transactions
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Security Transactions - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - SECURITY_TRANSACTION.EXECUTED
                  default: SECURITY_TRANSACTION.EXECUTED
                object:
                  title: Security Transaction
                  type: object
                  properties:
                    account_group_id:
                      title: Account group unique identifier.
                      type: string
                      description: Account group unique identifier.
                      format: uuid
                    account_id:
                      title: Account unique identifier.
                      type: string
                      description: Account unique identifier.
                      format: uuid
                    booking_date:
                      title: " Transaction booking date."
                      type: string
                      description: " Transaction booking date and time. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)"
                      format: date-time
                    created_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    delta:
                      title: Security transaction delta
                      description: Entity representing the security transaction delta.
                      type: object
                      properties:
                        amount:
                          type: string
                          pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                      required:
                        - amount
                      additionalProperties: true
                    id:
                      title: Security transaction unique identifier.
                      type: string
                      description: Security transaction unique identifier.
                      format: uuid
                    instrument:
                      title: Instrument
                      description: Entity representing instrument
                      type: object
                      properties:
                        uuid:
                          description: Internal instrument identifier.
                          type: string
                          format: uuid
                        isin:
                          title: International securities identification number
                          type: string
                          description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                          pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                      required:
                        - uuid
                      additionalProperties: false
                    type:
                      title: Transaction type
                      description: >-
                        Transaction type

                        * BONUS_ISSUE - Bonus Issue/Capitalisation Issue

                        * BONUS_ISSUE_CANCELLATION - Bonus Issue/Capitalisation Issue, Cancellation

                        * CALL_ON_INTERMEDIATE_SECURITIES - Call on Intermediate Securities

                        * CALL_ON_INTERMEDIATE_SECURITIES_CANCELLATION - Call on Intermediate Securities, Cancellation

                        * CHANGE - Change

                        * CHANGE_CANCELLATION - Change, Cancellation

                        * DIVIDEND_OPTION - Dividend Option

                        * DIVIDEND_OPTION_CANCELLATION - Dividend Option, Cancellation

                        * DIVIDEND_REINVESTMENT - Dividend Reinvestment

                        * DIVIDEND_REINVESTMENT_CANCELLATION - Dividend Reinvestment, Cancellation

                        * DUST_CLEANUP - Dust Cleanup

                        * DUTCH_AUCTION - Dutch Auction

                        * DUTCH_AUCTION_CANCELLATION - Dutch Auction, Cancellation

                        * INTERMEDIATE_SECURITIES_DISTRIBUTION - Intermediate Securities Distribution

                        * INTERMEDIATE_SECURITIES_DISTRIBUTION_CANCELLATION - Intermediate Securities Distribution, Cancellation

                        * MERGER - Merger

                        * MERGER_CANCELLATION - Merger, Cancellation

                        * NON_OFFICIAL_OFFER - Non-Official Offer

                        * NON_OFFICIAL_OFFER_CANCELLATION - Non-Official Offer, Cancellation

                        * ODD_LOT_SALE - Odd Lot Sale/Purchase

                        * ODD_LOT_SALE_CANCELLATION - Odd Lot Sale/Purchase, Cancellation

                        * ORDER_EXECUTION - Order execution

                        * ORDER_EXECUTION_CANCELLATION - Order execution cancellation

                        * OTHER_EVENT - Other Event

                        * OTHER_EVENT_CANCELLATION - Other Event, Cancellation

                        * PRIORITY_ISSUE - Priority Issue

                        * PRIORITY_ISSUE_CANCELLATION - Priority Issue, Cancellation

                        * REPURCHASE_OFFER - Repurchase Offer/Issuer Bid/Reverse Rights

                        * REPURCHASE_OFFER_CANCELLATION - Repurchase Offer/Issuer Bid/Reverse Rights, Cancellation

                        * REVERSE_STOCK_SPLIT - Reverse Stock Split/Change in Nominal Value

                        * REVERSE_STOCK_SPLIT_CANCELLATION - Reverse Stock Split/Change in Nominal Value, Cancellation

                        * RIGHTS_ISSUE - Rights Issue/Subscription Rights/Rights Offer

                        * RIGHTS_ISSUE_CANCELLATION - Rights Issue/Subscription Rights/Rights Offer, Cancellation

                        * SPIN_OFF - Spin-Off

                        * SPIN_OFF_CANCELLATION - Spin-Off, Cancellation

                        * STOCK_DIVIDEND - Stock Dividend

                        * STOCK_DIVIDEND_CANCELLATION - Stock Dividend, Cancellation

                        * STOCK_SPLIT - Stock Split/Change in Nominal Value/Subdivision

                        * STOCK_SPLIT_CANCELLATION - Stock Split/Change in Nominal Value/Subdivision, Cancellation

                        * TENDER - Tender/Acquisition/Takeover/Purchase Offer

                        * TENDER_CANCELLATION - Tender/Acquisition/Takeover/Purchase Offer, Cancellation

                        * WORTHLESS - Worthless

                        * WORTHLESS_CANCELLATION - Worthless, Cancellation
                      type: string
                      enum:
                        - BONUS_ISSUE
                        - BONUS_ISSUE_CANCELLATION
                        - CALL_ON_INTERMEDIATE_SECURITIES
                        - CALL_ON_INTERMEDIATE_SECURITIES_CANCELLATION
                        - CHANGE
                        - CHANGE_CANCELLATION
                        - DIVIDEND_OPTION
                        - DIVIDEND_OPTION_CANCELLATION
                        - DIVIDEND_REINVESTMENT
                        - DIVIDEND_REINVESTMENT_CANCELLATION
                        - DUST_CLEANUP
                        - DUTCH_AUCTION
                        - DUTCH_AUCTION_CANCELLATION
                        - INTERMEDIATE_SECURITIES_DISTRIBUTION
                        - INTERMEDIATE_SECURITIES_DISTRIBUTION_CANCELLATION
                        - MERGER
                        - MERGER_CANCELLATION
                        - NON_OFFICIAL_OFFER
                        - NON_OFFICIAL_OFFER_CANCELLATION
                        - ODD_LOT_SALE
                        - ODD_LOT_SALE_CANCELLATION
                        - ORDER_EXECUTION
                        - ORDER_EXECUTION_CANCELLATION
                        - OTHER_EVENT
                        - OTHER_EVENT_CANCELLATION
                        - PRIORITY_ISSUE
                        - PRIORITY_ISSUE_CANCELLATION
                        - REPURCHASE_OFFER
                        - REPURCHASE_OFFER_CANCELLATION
                        - REVERSE_STOCK_SPLIT
                        - REVERSE_STOCK_SPLIT_CANCELLATION
                        - RIGHTS_ISSUE
                        - RIGHTS_ISSUE_CANCELLATION
                        - SPIN_OFF
                        - SPIN_OFF_CANCELLATION
                        - STOCK_DIVIDEND
                        - STOCK_DIVIDEND_CANCELLATION
                        - STOCK_SPLIT
                        - STOCK_SPLIT_CANCELLATION
                        - TENDER
                        - TENDER_CANCELLATION
                        - WORTHLESS
                        - WORTHLESS_CANCELLATION
                    references:
                      type: array
                      items:
                        title: Security transaction reference
                        description: Entity representing security transaction reference
                        type: object
                        properties:
                          id:
                            title: Unique identifier for a resource of given type.
                            type: string
                            description: Unique identifier for a resource of given type.
                            format: uuid
                          type:
                            type: string
                            description: >-
                              Type of the reference.

                              * ORDER - Order

                              * ORDER_EXECUTION - Order execution

                              * CORPORATE_ACTION - Corporate action

                              * CORPORATE_ACTION_TRANSACTION_ID - Corporate action transaction ID
                            enum:
                              - ORDER
                              - ORDER_EXECUTION
                              - CORPORATE_ACTION
                              - CORPORATE_ACTION_TRANSACTION_ID
                        required:
                          - id
                          - type
                        additionalProperties: false
                    updated_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    value_date:
                      title: Transaction value date
                      type: string
                      description: Transaction value date and time. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                      format: date-time
                  required:
                    - id
                    - type
                    - account_group_id
                    - account_id
                    - booking_date
                    - value_date
                    - delta
                    - instrument
                    - references
                    - created_at
                    - updated_at
                  additionalProperties: true
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            examples:
              order_execution:
                summary: Order Execution
                value:
                  id: 543c9996-eff6-11ed-a05b-0242ac120003
                  created_at: 2023-01-01T00:00:00Z
                  type: SECURITY_TRANSACTION.EXECUTED
                  object:
                    account_group_id: 6409e3f2-8835-11ed-96a4-2eabd0c03f8a
                    account_id: db6290bb-1491-45bf-aafe-262dad59d497
                    booking_date: 2023-01-01T00:00:00Z
                    created_at: 2023-01-01T00:00:00Z
                    delta:
                      amount: "-2.5234543879"
                    id: 6dc9fbca-8835-11ed-a217-2eabd0c03f8a
                    instrument:
                      uuid: ccb86937-8a39-4160-8d33-85bf9e902321
                      isin: US0378331005
                    references:
                      - id: 7579a672-8835-11ed-9455-2eabd0c03f8a
                        type: ORDER_EXECUTION
                      - id: 1f5758d3-1ef7-4b4c-96ec-6b3da2bf1a8a
                        type: ORDER
                    type: ORDER_EXECUTION
                    updated_at: 2023-01-01T00:00:00Z
                    value_date: 2023-01-01T00:00:00Z
                  webhook_id: 3ae8a8a4-eff6-11ed-a05b-0242ac120003
              order_execution_cancellation:
                summary: Order Execution Cancellation
                value:
                  id: 398278e2-8835-11ed-97e3-2eabd0c03f8a
                  created_at: 2023-01-01T00:00:00Z
                  type: SECURITY_TRANSACTION.EXECUTED
                  object:
                    account_group_id: 6409e3f2-8835-11ed-96a4-2eabd0c03f8a
                    account_id: db6290bb-1491-45bf-aafe-262dad59d497
                    booking_date: 2023-01-01T00:00:00Z
                    created_at: 2023-01-01T00:00:00Z
                    delta:
                      amount: "2.50"
                    id: 6dc9fbca-8835-11ed-a217-2eabd0c03f8a
                    instrument:
                      uuid: ccb86937-8a39-4160-8d33-85bf9e902321
                      isin: US0378331005
                    references:
                      - id: 7579a672-8835-11ed-9455-2eabd0c03f8a
                        type: ORDER_EXECUTION
                      - id: 1f5758d3-1ef7-4b4c-96ec-6b3da2bf1a8a
                        type: ORDER
                    type: ORDER_EXECUTION_CANCELLATION
                    updated_at: 2023-01-01T00:00:00Z
                    value_date: 2023-01-01T00:00:00Z
                  webhook_id: fd9690e2-effa-11ed-a05b-0242ac120003
              merger:
                summary: Merger
                value:
                  id: 71478127-4688-46b6-b3c6-871febb20330
                  created_at: 2023-01-01T00:00:00Z
                  type: SECURITY_TRANSACTION.EXECUTED
                  object:
                    account_group_id: 6409e3f2-8835-11ed-96a4-2eabd0c03f8a
                    account_id: db6290bb-1491-45bf-aafe-262dad59d497
                    booking_date: 2023-01-01T00:00:00Z
                    created_at: 2023-01-01T00:00:00Z
                    delta:
                      amount: "32.52"
                    id: f0f6834a-ddc8-4ef4-b4e2-025a6bbd1cf1
                    instrument:
                      uuid: ccb86937-8a39-4160-8d33-85bf9e902321
                      isin: US0378331005
                    references:
                      - id: 7f3a087b-2934-40f0-a311-caab2e449d9b
                        type: CORPORATE_ACTION
                      - id: f29af46d-d424-4b87-b656-ab2cb46e460c
                        type: CORPORATE_ACTION_TRANSACTION_ID
                    type: MERGER
                    updated_at: 2023-01-01T00:00:00Z
                    value_date: 2023-01-01T00:00:00Z
                  webhook_id: 52a47a86-8805-43be-b631-d79e67bb5da9
      responses:
        "204":
          description: Request has been processed successfully.
  Treasury reports events:
    post:
      operationId: treasury_report_event
      summary: Treasury reports events
      description: Treasury reports events
      tags:
        - Treasury Reports
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Treasury report - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - TREASURY_REPORT.CREATED
                  default: TREASURY_REPORT.CREATED
                object:
                  title: Treasury report
                  type: object
                  properties:
                    id:
                      title: Treasury operation unique identifier
                      type: string
                      format: uuid
                    type:
                      type: string
                      description: "Treasury operation type.\n* TRADING - \n* CORPORATE_ACTION - \n* FEE - "
                      enum:
                        - TRADING
                        - CORPORATE_ACTION
                        - FEE
                    settlement_amount:
                      type: string
                      pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                    report_date:
                      description: The date when the treasury report was created.
                      type: string
                      format: date
                    direction:
                      type: string
                      description: "Direction of the treasury operation.\n* INCOMING - \n* OUTGOING - \n* NA - "
                      enum:
                        - INCOMING
                        - OUTGOING
                        - NA
                    filename:
                      description: The report name.
                      type: string
                  required:
                    - id
                    - type
                    - settlement_amount
                    - report_date
                    - direction
                    - filename
                  additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 8962b496-8d42-4560-bfab-10490dd1a721
              created_at: 2023-05-08T10:42:34.758Z
              type: TREASURY_REPORT.CREATED
              object:
                id: 6e736b54-ed57-46ad-8620-0ef59ddd8e6d
                type: TRADING
                settlement_amount: "123.12"
                report_date: 2023-05-08
                direction: OUTGOING
                filename: trading_buy_05082023.csv
              webhook_id: 9df39835-be87-4243-9018-f2500b39cee6
      responses:
        "204":
          description: Request has been processed successfully.
  User reports events:
    post:
      operationId: report_event
      summary: User reports events
      description: User reports events
      tags:
        - Reports
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Reports - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - REPORT.CREATED
                  default: REPORT.CREATED
                object:
                  title: Report
                  oneOf:
                    - title: Report
                      type: object
                      properties:
                        id:
                          title: Report unique identifier.
                          type: string
                          description: Report unique identifier.
                          format: uuid
                        created_at:
                          type: string
                          format: date-time
                          description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                        user_id:
                          title: User unique identifier.
                          type: string
                          description: User unique identifier.
                          format: uuid
                        type:
                          title: Report type
                          description: >-
                            Report type

                            * BUY_ORDER - Buy order

                            * SELL_ORDER - Sell order

                            * INCOME_DISTRIBUTION - Income distribution report

                            * GENERAL_MEETING_NOTIFICATION - General meeting notification

                            * INCOME_REINVESTMENT - Reinvestment billing report (accumulating funds)

                            * FUND_COMMUNICATION - Generic fund communication

                            * TAX_REFUND - Tax refund document (after tax optimization)

                            * TAX_EXEMPTION_CREATION - Creation of exemption order ("Freistellungsauftrag")

                            * CANCELLED_ORDER - Cancelled buy or sell order (not yet executed, user cancels or trading venue cancelled)

                            * REVOKED_ORDER - Revoked buy or sell order ("Storno")

                            * ACCOUNT_OPENING - Securities account opening

                            * ACCOUNT_CLOSING - Securities account closure

                            * DIRECT_DEBIT_MANDATE - Creation of SEPA direct debit mandate

                            * ANNUAL_TAX_STATEMENT - Annual tax reporting

                            * ANNUAL_ACCOUNT_STATEMENT - Annual account statement

                            * ANNUAL_INCOME_STATEMENT - Annual tax income statement ("Erträgnisaufstellung")

                            * GENERIC_COMMUNICATION - Generic communication

                            * BANK_ACCOUNT_CONNECTED - Connect reference bank account

                            * AD_HOC_ACCOUNT_STATEMENT - Ad hoc account statement

                            * EX_POST_COST - Ex-post cost report
                          type: string
                          enum:
                            - BUY_ORDER
                            - SELL_ORDER
                            - INCOME_DISTRIBUTION
                            - GENERAL_MEETING_NOTIFICATION
                            - INCOME_REINVESTMENT
                            - FUND_COMMUNICATION
                            - TAX_REFUND
                            - TAX_EXEMPTION_CREATION
                            - CANCELLED_ORDER
                            - REVOKED_ORDER
                            - ACCOUNT_OPENING
                            - ACCOUNT_CLOSING
                            - DIRECT_DEBIT_MANDATE
                            - ANNUAL_TAX_STATEMENT
                            - ANNUAL_ACCOUNT_STATEMENT
                            - ANNUAL_INCOME_STATEMENT
                            - GENERIC_COMMUNICATION
                            - BANK_ACCOUNT_CONNECTED
                            - AD_HOC_ACCOUNT_STATEMENT
                            - EX_POST_COST
                        substituted_report_id:
                          oneOf:
                            - type: "null"
                            - title: Substituted Report unique identifier.
                              type: string
                              description: References report that has been replaced by this one.
                              format: uuid
                        data:
                          title: Report Data
                          type: object
                          description: Contents of the report.
                          properties:
                            account:
                              type: object
                              title: Account.
                              description: Account information.
                              properties:
                                id:
                                  title: Account unique identifier.
                                  type: string
                                  description: Account unique identifier.
                                  format: uuid
                      required:
                        - id
                        - user_id
                        - created_at
                        - type
                        - substituted_report_id
                      additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 8962b496-8d42-4560-bfab-10490dd1a721
              created_at: 2021-07-21T14:10:00.00Z
              type: REPORT.CREATED
              object:
                id: b96b1ee7-d491-43eb-b5e4-4833af9c9c2f
                created_at: 2020-08-24T14:15:22Z
                user_id: d1a4be99-8bb6-4e78-b897-8168f6823ab5
                type: BUY_ORDER
                substituted_report_id: null
                data:
                  account:
                    id: a9a4ad54-6dd1-419a-a98d-ab48f9f23bc8
              webhook_id: 9df39835-be87-4243-9018-f2500b39cee6
      responses:
        "204":
          description: Request has been processed successfully.
  Account events:
    post:
      operationId: account_event
      summary: Account events
      description: Account events
      tags:
        - Accounts
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Accounts - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - ACCOUNT.CREATED
                    - ACCOUNT.ACTIVATED
                    - ACCOUNT.CLOSING_INITIATED
                    - ACCOUNT.CLOSED
                    - ACCOUNT.LOCKED
                    - ACCOUNT.UPDATED
                object:
                  title: Account
                  type: object
                  description: ""
                  properties:
                    id:
                      title: Account unique identifier.
                      type: string
                      description: Account unique identifier.
                      format: uuid
                    created_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    updated_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    account_group_id:
                      title: Account group unique identifier.
                      type: string
                      description: Account group unique identifier.
                      format: uuid
                    type:
                      type: string
                      description: >-
                        Account type.

                        * TRADING - Orders in accounts of this type are created on a specific instrument basis.

                        * PORTFOLIO - Orders in accounts of this type are created on a portfolio basis and additional portfolio functionality is available.
                      enum:
                        - TRADING
                        - PORTFOLIO
                    users:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            title: User unique identifier.
                            type: string
                            description: User unique identifier.
                            format: uuid
                          type:
                            type: string
                            description: "Relation type\n* OWNER - "
                            enum:
                              - OWNER
                            default: OWNER
                    account_number:
                      type: integer
                      description: The serial account number of the account in the account group.
                      minimum: 1
                    name:
                      type: string
                      description: The name of the account.
                      maxLength: 100
                    status:
                      type: string
                      description: >-
                        The status of the account

                        * PENDING_APPROVAL - Account approval is pending - the account is visible through our API but cannot be acted on.

                        * ACTIVE - Account is active - full functionality of the Investment API is accessible.

                        * CLOSING - Account is closing - only sell orders or the transfer of positions out are permissible before the account is closed.

                        * CLOSED - Account is closed with zero balance successfully.

                        * LOCKED - Account is locked for all actions.
                      enum:
                        - PENDING_APPROVAL
                        - ACTIVE
                        - CLOSING
                        - CLOSED
                        - LOCKED
                  required:
                    - id
                    - created_at
                    - updated_at
                    - account_group_id
                    - type
                    - users
                    - name
                    - status
                    - account_number
                  additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 56510309-d9de-4730-9b5b-4a0ed047f3a9
              created_at: 2021-07-21T14:10:00.00Z
              type: ACCOUNT.CREATED
              object:
                id: ad45b27f-c0e7-4cfb-b48c-a83670dbdfbd
                created_at: 2020-08-24T14:15:22Z
                updated_at: 2020-08-24T14:15:22Z
                account_group_id: fa2414ed-8d62-46fd-85ed-565a340c81d6
                type: TRADING
                users:
                  - id: 9c36af78-91a0-4174-a515-fc81214e3dab
                    type: OWNER
                account_number: 1
                name: Main account
                status: ACTIVE
              webhook_id: b838bde5-b6df-4f1f-bfc4-71d3fb01d430
      responses:
        "204":
          description: Request has been processed successfully.
  Account Group events:
    post:
      operationId: account_group_event
      summary: Account group events
      description: Account group events
      tags:
        - Account Groups
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Account Groups - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - ACCOUNT_GROUP.CREATED
                    - ACCOUNT_GROUP.ACTIVATED
                    - ACCOUNT_GROUP.CLOSING_INITIATED
                    - ACCOUNT_GROUP.CLOSED
                    - ACCOUNT_GROUP.LOCKED
                object:
                  title: Account Group
                  type: object
                  description: ""
                  properties:
                    id:
                      title: Account group unique identifier.
                      type: string
                      description: Account group unique identifier.
                      format: uuid
                    created_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    updated_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    users:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            title: User unique identifier.
                            type: string
                            description: User unique identifier.
                            format: uuid
                          type:
                            type: string
                            description: "Relation type\n* OWNER - "
                            enum:
                              - OWNER
                            default: OWNER
                    status:
                      type: string
                      description: >-
                        Status of the account group

                        * PENDING_APPROVAL - Account group approval is pending - the account group is visible through our API but cannot be acted on.

                        * ACTIVE - Account group is active - full functionality of the Investment API is accessible.

                        * CLOSING - Account group is closing.

                        * CLOSED - Account group is closed.

                        * LOCKED - Account group is locked for all actions.
                      enum:
                        - PENDING_APPROVAL
                        - ACTIVE
                        - CLOSING
                        - CLOSED
                        - LOCKED
                    type:
                      type: string
                      description: >-
                        Account group type.

                        * PERSONAL - Account group of a person holding assets on their own behalf.

                        * LEGAL_ENTITY - Account group of a legal entity holding assets on behalf of their users.
                      enum:
                        - PERSONAL
                        - LEGAL_ENTITY
                    securities_account_number:
                      type: string
                      description: Securities account number
                      pattern: ^[0-9]{9}$
                  required:
                    - id
                    - created_at
                    - updated_at
                    - users
                    - status
                    - type
                    - securities_account_number
                  additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 72da9e41-9926-419f-976e-4c8069a04249
              created_at: 2021-07-21T14:10:00.00Z
              type: ACCOUNT_GROUP.CREATED
              object:
                id: 9d95820d-4333-46b6-98de-04ab7512e76f
                created_at: 2020-08-24T14:15:22Z
                updated_at: 2020-08-24T14:15:22Z
                type: PERSONAL
                status: ACTIVE
                users:
                  - id: 413715f2-5401-4b97-8055-034a6b879f8c
                    type: OWNER
                securities_account_number: "123456789"
              webhook_id: 9df39835-be87-4243-9018-f2500b39cee6
      responses:
        "204":
          description: Request has been processed successfully.
  Direct Debit events:
    post:
      operationId: direct_debit_event
      summary: Direct Debit events
      description: Direct Debit events
      tags:
        - Payments
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Direct Debits - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - DIRECT_DEBIT.NEW
                    - DIRECT_DEBIT.PROCESSING
                    - DIRECT_DEBIT.CONFIRMED
                    - DIRECT_DEBIT.CANCELLED
                object:
                  type: object
                  properties:
                    id:
                      title: Direct debit funding request unique identifier
                      type: string
                      description: Direct debit funding request unique identifier
                      format: uuid
                    created_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    user_id:
                      title: User unique identifier.
                      type: string
                      description: User unique identifier.
                      format: uuid
                    account_group_id:
                      title: Account group unique identifier.
                      type: string
                      description: Account group unique identifier.
                      format: uuid
                    mandate_id:
                      title: Direct Debit Mandate unique identifier.
                      type: string
                      description: Direct Debit Mandate unique identifier.
                      format: uuid
                    cash_amount:
                      type: string
                      pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                    currency:
                      type: string
                      format: ISO4217
                      description: >-
                        Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                        * EUR - Euro
                      enum:
                        - EUR
                      default: EUR
                    remittance_information:
                      type: string
                      maxLength: 140
                      pattern: ^[0-9A-Za-z+?/\-:()\.,'; ]{0,140}$
                      description: Payment reference the end user will see in their bank statement for the corresponding direct debit booking (“Verwendungszweck”)
                    status:
                      type: string
                      description: >-
                        Status of the direct debit

                        * NEW - Direct debit is created but not started processing.

                        * PROCESSING - Direct debit is in processing.

                        * CONFIRMED - Direct debit was successfully processed.

                        * CANCELLED - Direct debit was cancelled.
                      enum:
                        - NEW
                        - PROCESSING
                        - CONFIRMED
                        - CANCELLED
                  required:
                    - id
                    - created_at
                    - user_id
                    - account_group_id
                    - mandate_id
                    - cash_amount
                    - currency
                  additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 8962b496-8d42-4560-bfab-10490dd1a721
              created_at: 2021-07-21T14:10:00.00Z
              type: DIRECT_DEBIT.NEW
              object:
                id: 1ab4fef9-a097-4c6f-9345-647025d5fde6
                created_at: 2020-08-24T14:15:22Z
                user_id: 82b49999-1145-4e05-916a-567662daa7bc
                account_group_id: 1ea60f56-b67b-61fc-829a-0242ac130003
                mandate_id: 730b8719-0bc6-401d-98dd-b2de72afbf05
                cash_amount: "200.00"
                currency: EUR
                remittance_information: payment for green energy portfolio
                status: NEW
              webhook_id: 9df39835-be87-4243-9018-f2500b39cee6
      responses:
        "204":
          description: Request has been processed successfully.
  Withdrawals events:
    post:
      operationId: withdrawal_event
      summary: Withdrawals events
      description: Withdrawals events
      tags:
        - Payments
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Withdrawals - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - WITHDRAWAL.NEW
                    - WITHDRAWAL.PROCESSING
                    - WITHDRAWAL.CONFIRMED
                    - WITHDRAWAL.CANCELLED
                object:
                  title: Payments - Withdrawal
                  type: object
                  additionalProperties: false
                  properties:
                    id:
                      title: Cash withdrawal unique identifier
                      type: string
                      description: Cash withdrawal unique identifier
                      format: uuid
                    created_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    updated_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    reference_account_id:
                      title: Reference account unique identifier.
                      type: string
                      description: Reference account unique identifier.
                      format: uuid
                    account_group_id:
                      title: Account group unique identifier.
                      type: string
                      description: Account group unique identifier.
                      format: uuid
                    user_id:
                      title: User unique identifier.
                      type: string
                      description: User unique identifier.
                      format: uuid
                    amount:
                      type: string
                      pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                    currency:
                      type: string
                      format: ISO4217
                      description: >-
                        Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                        * EUR - Euro
                      enum:
                        - EUR
                      default: EUR
                    remittance_information:
                      type: string
                      maxLength: 140
                      pattern: ^[0-9A-Za-z+?/\-:()\.,'; ]{0,140}$
                      description: Payment reference the end user will see in their bank statement for the corresponding credit transfer booking (“Verwendungszweck”)
                    status:
                      type: string
                      description: |-
                        Status of the withdrawal
                        * NEW - Withdrawal is created but not started processing.
                        * PROCESSING - Withdrawal is in processing.
                        * CONFIRMED - Withdrawal was successfully processed.
                        * CANCELLED - Withdrawal was cancelled.
                      enum:
                        - NEW
                        - PROCESSING
                        - CONFIRMED
                        - CANCELLED
                  required:
                    - id
                    - reference_account_id
                    - account_group_id
                    - user_id
                    - amount
                    - currency
                    - created_at
                    - updated_at
                    - remittance_information
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 8962b496-8d42-4560-bfab-10490dd1a721
              created_at: 2021-07-21T14:10:00.00Z
              type: WITHDRAWAL.NEW
              object:
                id: 6ffa6b16-2380-4e7a-88b2-ae625c8eef99
                created_at: 2020-08-24T14:15:22Z
                updated_at: 2020-08-24T14:15:22Z
                reference_account_id: 295378ec-036e-4f3f-ae5c-2be85c93e837
                account_group_id: ac1c39e9-2101-46b8-a624-d10a9e351b6c
                user_id: b668282b-cdf3-439a-bda2-3f3c9f655bb7
                amount: "200.00"
                currency: EUR
                remittance_information: Withdrawal
                status: NEW
              webhook_id: 9df39835-be87-4243-9018-f2500b39cee6
      responses:
        "204":
          description: Request has been processed successfully.
  Portfolio orders events:
    post:
      operationId: portfolio_order_event
      summary: Portfolios orders events
      description: Portfolios orders events
      tags:
        - Portfolios
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Portfolios Orders - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - PORTFOLIO_ORDER.NEW
                    - PORTFOLIO_ORDER.PROCESSING
                    - PORTFOLIO_ORDER.FILLED
                    - PORTFOLIO_ORDER.SETTLED
                    - PORTFOLIO_ORDER.CANCELLED
                object:
                  title: Portfolios order
                  type: object
                  properties:
                    id:
                      title: Portfolios order unique identifier
                      type: string
                      format: uuid
                    created_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    updated_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    user_id:
                      title: User unique identifier.
                      type: string
                      description: User unique identifier.
                      format: uuid
                    account_id:
                      title: Account unique identifier.
                      type: string
                      description: Account unique identifier.
                      format: uuid
                    allocation_id:
                      title: Portfolio allocation unique identifier
                      type: string
                      format: uuid
                    cash_amount:
                      type: string
                      pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                    currency:
                      type: string
                      format: ISO4217
                      description: >-
                        Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                        * EUR - Euro
                      enum:
                        - EUR
                      default: EUR
                    status:
                      type: string
                      description: "Execution status of the Portfolio Order.\n* NEW - \n* PROCESSING - \n* FILLED - \n* SETTLED - \n* CANCELLED - "
                      enum:
                        - NEW
                        - PROCESSING
                        - FILLED
                        - SETTLED
                        - CANCELLED
                    type:
                      type: string
                      description: "Type of the Portfolio Order.\n* BUY - \n* SELL - \n* REBALANCING - "
                      enum:
                        - BUY
                        - SELL
                        - REBALANCING
                    post_tax:
                      type: boolean
                      description: Cash amount is post-tax value
                      default: false
                    orders:
                      type: array
                      description: Orders associated with this portfolio order
                      items:
                        title: Portfolios order
                        type: object
                        properties:
                          id:
                            title: Order unique identifier
                            type: string
                            format: uuid
                          side:
                            type: string
                            description: "Side of the portfolio order.\n* BUY - \n* SELL - "
                            enum:
                              - BUY
                              - SELL
                          status:
                            type: string
                            description: "The execution status of the order.\n* NEW - \n* PROCESSING - \n* FILLED - \n* CANCELLED - "
                            enum:
                              - NEW
                              - PROCESSING
                              - FILLED
                              - CANCELLED
                        required:
                          - id
                          - side
                          - status
                        additionalProperties: false
                  required:
                    - id
                    - created_at
                    - updated_at
                    - account_id
                    - cash_amount
                    - currency
                    - status
                    - post_tax
                    - orders
                  additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 54b8d84f-5bd0-4e43-bf0f-164388cb4c23
              created_at: 2021-07-21T14:10:00.00Z
              type: PORTFOLIO_ORDER.NEW
              object:
                id: eb5ba93f-5dfe-4bf1-8571-4da0caacc80c
                created_at: 2021-07-21T14:10:00.000Z
                updated_at: 2021-07-21T14:10:00.000Z
                account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                allocation_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                cash_amount: "1000"
                currency: EUR
                status: PROCESSING
                type: SELL
                post_tax: false
                orders:
                  - id: e7aecb80-5e84-4bf7-984b-b39ab77eb0a8
                    side: SELL
                    status: NEW
                  - id: eb5ba93f-5dfe-4bf1-8571-4da0caacc80c
                    side: SELL
                    status: PROCESSING
                  - id: d8a85120-2941-4ed6-8d57-e80401a4779c
                    side: SELL
                    status: FILLED
              webhook_id: cd2e4183-4e62-4e0f-981b-44b594d14610
      responses:
        "204":
          description: Request has been processed successfully.
  Portfolio allocations events:
    post:
      operationId: portfolio_allocation_event
      summary: Portfolios allocations events
      description: Portfolios allocations events
      tags:
        - Portfolios
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Portfolios Orders - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - PORTFOLIO_ALLOCATION.CREATED
                    - PORTFOLIO_ALLOCATION.CHANGED
                object:
                  title: Portfolios allocation
                  type: object
                  properties:
                    id:
                      title: Portfolio allocation unique identifier
                      type: string
                      format: uuid
                    created_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    updated_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    name:
                      description: Allocation name
                      type: string
                    allocation:
                      description: List of portfolios allocations
                      type: array
                      items:
                        type: object
                        properties:
                          instrument_id:
                            oneOf:
                              - title: International securities identification number
                                type: string
                                description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                                pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                              - title: Unique identifier
                                description: UPVEST instrument identifier
                                type: string
                                format: uuid
                                pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
                          instrument_id_type:
                            description: >-
                              The type of the ID used in the request.

                              * ISIN - International Securities Identification Number

                              * UPVEST - UPVEST's unique instrument identifier
                            enum:
                              - ISIN
                              - UPVEST
                            default: ISIN
                            type: string
                          weight:
                            description: Instrument allocation weight
                            type: string
                            pattern: ^(100|[0-9]{1,2}(\.[0-9]{1,5})?)$
                        required:
                          - instrument_id
                          - instrument_id_type
                          - weight
                        additionalProperties: false
                  required:
                    - id
                    - created_at
                    - updated_at
                    - name
                    - allocation
                  additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 54b8d84f-5bd0-4e43-bf0f-164388cb4c23
              created_at: 2021-07-21T14:10:00.00Z
              type: PORTFOLIO_ALLOCATION.CREATED
              object:
                id: 436244bb-4afd-4002-b53b-b1d7a3bca032
                created_at: 2021-07-21T14:10:00.00Z
                updated_at: 2021-07-21T14:10:00.00Z
                name: Allocation 1
                allocation:
                  - instrument_id: IE00B0M62Q58
                    instrument_id_type: ISIN
                    weight: "0.7"
                  - instrument_id: US0378331005
                    instrument_id_type: ISIN
                    weight: "0.3"
              webhook_id: cd2e4183-4e62-4e0f-981b-44b594d14610
      responses:
        "204":
          description: Request has been processed successfully.
  Account valuation events:
    post:
      operationId: account_valuation_event
      summary: Account valuation events
      description: Account valuation events
      tags:
        - Valuations
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Account Valuation - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - ACCOUNT_VALUATION.CREATED
                object:
                  title: Account Valuation
                  type: object
                  properties:
                    id:
                      title: Account valuation unique identifier
                      description: Account valuation unique identifier.
                      type: string
                      format: uuid
                    created_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    updated_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    account_id:
                      title: Account unique identifier.
                      type: string
                      description: Account unique identifier.
                      format: uuid
                    total_security_value:
                      title: Total security value
                      description: Entity representing the monetary value by amount and currency.
                      type: object
                      properties:
                        amount:
                          type: string
                          pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                        currency:
                          type: string
                          format: ISO4217
                          description: >-
                            Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                            * EUR - Euro
                          enum:
                            - EUR
                          default: EUR
                      required:
                        - amount
                        - currency
                      additionalProperties: false
                    price_quality:
                      type: string
                      description: >-
                        Price quality used for the calculation of the account valuation.

                        * EOD - end of day price
                      enum:
                        - EOD
                      default: EOD
                    security_positions:
                      type: array
                      description: Positions associated with this account valuation.
                      items:
                        title: Account valuation security position
                        type: object
                        properties:
                          instrument:
                            title: Instrument
                            description: Entity representing the financial instrument.
                            type: object
                            properties:
                              uuid:
                                description: String representing the instrument internal identifier.
                                type: string
                                format: uuid
                              isin:
                                title: International securities identification number
                                type: string
                                description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                                pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                            required:
                              - uuid
                            additionalProperties: false
                          quantity:
                            allOf:
                              - type: string
                                pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                              - description: Total quantity of the instrument (10 decimal places).
                          value:
                            nullable: true
                            allOf:
                              - title: Security position value
                                description: Entity representing the monetary value by amount and currency, and the time of the price used.
                                type: object
                                properties:
                                  amount:
                                    type: string
                                    pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                                  currency:
                                    type: string
                                    format: ISO4217
                                    description: >-
                                      Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                                      * EUR - Euro
                                    enum:
                                      - EUR
                                    default: EUR
                                  price_time:
                                    type: string
                                    format: date-time
                                    description: The date and time of the price used for the calculation. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                                required:
                                  - amount
                                  - currency
                                  - price_time
                                additionalProperties: false
                              - nullable: true
                          weight:
                            nullable: true
                            allOf:
                              - type: string
                                pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                              - description: Total weight of the instrument (10 decimal places).
                        required:
                          - instrument
                          - quantity
                          - value
                          - weight
                        additionalProperties: false
                    valuation_time:
                      type: string
                      format: date-time
                      description: Date and time as of which the value was calculated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  required:
                    - id
                    - account_id
                    - created_at
                    - updated_at
                    - valuation_time
                    - total_security_value
                    - price_quality
                  additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 8962b496-8d42-4560-bfab-10490dd1a721
              created_at: 2023-01-10T00:15:32Z
              type: ACCOUNT_VALUATION.CREATED
              object:
                id: 404b170a-9042-11ed-9a51-2eabd0c03f8a
                created_at: 2023-01-10T00:15:22Z
                updated_at: 2023-01-10T00:15:22Z
                valuation_time: 2023-01-10T00:15:22Z
                account_id: 51cdc0cc-9042-11ed-b017-2eabd0c03f8a
                price_quality: EOD
                total_security_value:
                  amount: "142.29"
                  currency: EUR
                security_positions:
                  - instrument:
                      uuid: 123e4567-e89b-12d3-a456-426614174000
                      isin: DE0007664005
                    value:
                      amount: "104.81"
                      currency: EUR
                      price_time: 2023-01-09T00:00:00Z
                    quantity: "0.65"
                    weight: "0.736595"
                  - instrument:
                      uuid: 48b798b7-3a62-4f30-8307-ee94d35b21b7
                      isin: FR0010524777
                    value:
                      amount: "37.48"
                      currency: EUR
                      price_time: 2023-01-09T00:00:00Z
                    quantity: "1.00"
                    weight: "0.263405"
              webhook_id: 9df39835-be87-4243-9018-f2500b39cee6
      responses:
        "204":
          description: Request has been processed successfully.
  Intraday account valuation events:
    post:
      operationId: intraday_account_valuation_event
      summary: Intraday account valuation events
      description: Intraday account valuation events
      tags:
        - Valuations
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Intraday Account Valuation - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - INTRADAY_ACCOUNT_VALUATION.CREATED
                object:
                  title: Account Valuation
                  type: object
                  properties:
                    id:
                      title: Account valuation unique identifier
                      description: Account valuation unique identifier.
                      type: string
                      format: uuid
                    created_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    updated_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    account_id:
                      title: Account unique identifier.
                      type: string
                      description: Account unique identifier.
                      format: uuid
                    total_security_value:
                      title: Total security value
                      description: Entity representing the monetary value by amount and currency.
                      type: object
                      properties:
                        amount:
                          type: string
                          pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                        currency:
                          type: string
                          format: ISO4217
                          description: >-
                            Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                            * EUR - Euro
                          enum:
                            - EUR
                          default: EUR
                      required:
                        - amount
                        - currency
                      additionalProperties: false
                    price_quality:
                      type: string
                      description: >-
                        Price quality used for the calculation of the account valuation.

                        * EOD - end of day price
                      enum:
                        - EOD
                      default: EOD
                    security_positions:
                      type: array
                      description: Positions associated with this account valuation.
                      items:
                        title: Account valuation security position
                        type: object
                        properties:
                          instrument:
                            title: Instrument
                            description: Entity representing the financial instrument.
                            type: object
                            properties:
                              uuid:
                                description: String representing the instrument internal identifier.
                                type: string
                                format: uuid
                              isin:
                                title: International securities identification number
                                type: string
                                description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number).
                                pattern: ^[A-Z]{2}[A-Z0-9]{9}[0-9]$
                            required:
                              - uuid
                            additionalProperties: false
                          quantity:
                            allOf:
                              - type: string
                                pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                              - description: Total quantity of the instrument (10 decimal places).
                          value:
                            nullable: true
                            allOf:
                              - title: Security position value
                                description: Entity representing the monetary value by amount and currency, and the time of the price used.
                                type: object
                                properties:
                                  amount:
                                    type: string
                                    pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                                  currency:
                                    type: string
                                    format: ISO4217
                                    description: >-
                                      Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                                      * EUR - Euro
                                    enum:
                                      - EUR
                                    default: EUR
                                  price_time:
                                    type: string
                                    format: date-time
                                    description: The date and time of the price used for the calculation. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                                required:
                                  - amount
                                  - currency
                                  - price_time
                                additionalProperties: false
                              - nullable: true
                          weight:
                            nullable: true
                            allOf:
                              - type: string
                                pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                              - description: Total weight of the instrument (10 decimal places).
                        required:
                          - instrument
                          - quantity
                          - value
                          - weight
                        additionalProperties: false
                    valuation_time:
                      type: string
                      format: date-time
                      description: Date and time as of which the value was calculated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                  required:
                    - id
                    - account_id
                    - created_at
                    - updated_at
                    - valuation_time
                    - total_security_value
                    - price_quality
                  additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 8962b496-8d42-4560-bfab-10490dd1a722
              created_at: 2023-01-10T14:15:32Z
              type: INTRADAY_ACCOUNT_VALUATION.CREATED
              object:
                id: 404b170a-9042-11ed-9a51-2eabd0c03f8b
                created_at: 2023-01-10T14:15:22Z
                updated_at: 2023-01-10T14:15:22Z
                valuation_time: 2023-01-10T14:15:22Z
                account_id: 51cdc0cc-9042-11ed-b017-2eabd0c03f8a
                price_quality: EOD
                total_security_value:
                  amount: "142.29"
                  currency: EUR
                security_positions:
                  - instrument:
                      uuid: 123e4567-e89b-12d3-a456-426614174000
                      isin: DE0007664005
                    value:
                      amount: "104.81"
                      currency: EUR
                      price_time: 2023-01-09T00:00:00Z
                    quantity: "0.65"
                    weight: "0.736595"
                  - instrument:
                      uuid: 48b798b7-3a62-4f30-8307-ee94d35b21b7
                      isin: FR0010524777
                    value:
                      amount: "37.48"
                      currency: EUR
                      price_time: 2023-01-09T00:00:00Z
                    quantity: "1.00"
                    weight: "0.263405"
              webhook_id: 9df39835-be87-4243-9018-f2500b39cee7
      responses:
        "204":
          description: Request has been processed successfully.
  Account liquidation events:
    post:
      operationId: account_liquidation_event
      summary: Account liquidation events
      description: Account liquidation events
      tags:
        - Liquidations
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Accounts - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - ACCOUNT_LIQUIDATION.NEW
                    - ACCOUNT_LIQUIDATION.PROCESSING
                    - ACCOUNT_LIQUIDATION.FILLED
                    - ACCOUNT_LIQUIDATION.CANCELLED
                    - ACCOUNT_LIQUIDATION.SETTLED
                object:
                  title: Account liquidation
                  type: object
                  properties:
                    id:
                      title: Account liquidation unique identifier
                      type: string
                      format: uuid
                    created_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    updated_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    user_id:
                      title: User unique identifier.
                      type: string
                      description: User unique identifier.
                      format: uuid
                    account_id:
                      title: Account unique identifier.
                      type: string
                      description: Account unique identifier.
                      format: uuid
                    cash_amount:
                      type: string
                      pattern: ^[0-9]{0,63}(\.[0-9]{1,27})?$
                    currency:
                      type: string
                      format: ISO4217
                      description: >-
                        Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                        * EUR - Euro
                      enum:
                        - EUR
                      default: EUR
                    status:
                      type: string
                      description: "Execution status of the Account liquidation.\n* NEW - \n* PROCESSING - \n* FILLED - \n* CANCELLED - \n* SETTLED - "
                      enum:
                        - NEW
                        - PROCESSING
                        - FILLED
                        - CANCELLED
                        - SETTLED
                    orders:
                      type: array
                      description: Position liquidation orders associated with this account liquidation
                      items:
                        title: Account liquidation
                        type: object
                        properties:
                          id:
                            title: Account liquidation order unique identifier
                            type: string
                            format: uuid
                          side:
                            type: string
                            description: "Side of the order.\n* SELL - "
                            default: SELL
                          status:
                            type: string
                            description: "Execution status of the Account liquidation order.\n* NEW - \n* PROCESSING - \n* FILLED - \n* CANCELLED - "
                            enum:
                              - NEW
                              - PROCESSING
                              - FILLED
                              - CANCELLED
                        required:
                          - id
                          - side
                          - status
                        additionalProperties: false
                  required:
                    - id
                    - created_at
                    - updated_at
                    - account_id
                    - cash_amount
                    - currency
                    - status
                    - orders
                  additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 56510309-d9de-4730-9b5b-4a0ed047f3a9
              created_at: 2021-07-21T14:10:00.00Z
              type: ACCOUNT_LIQUIDATION.NEW
              object:
                id: b2f541dc-a27b-4d5a-b970-41812b0892b9
                created_at: 2021-07-21T14:10:00.000Z
                updated_at: 2021-07-21T14:10:00.000Z
                account_id: debf2026-f2da-4ff0-bb84-92e45babb1e3
                user_id: 81dfb00e-9be6-4617-8994-dfd0407f34df
                cash_amount: "1000"
                currency: EUR
                status: NEW
                orders: []
              webhook_id: b838bde5-b6df-4f1f-bfc4-71d3fb01d430
      responses:
        "204":
          description: Request has been processed successfully.
  Account returns events:
    post:
      operationId: account_returns_event
      summary: Account returns event
      description: Account returns event
      tags:
        - Returns
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Account Returns - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - ACCOUNT_RETURNS.CREATED
                  default: ACCOUNT_RETURNS.CREATED
                object:
                  title: Account Returns
                  type: object
                  properties:
                    account_id:
                      title: Account unique identifier.
                      type: string
                      description: Account unique identifier.
                      format: uuid
                    date:
                      type: string
                      format: date-time
                      description: Date when returns were calculated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    twr:
                      title: ""
                      type: object
                      properties:
                        daily:
                          type: string
                          pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                        cumulative:
                          type: string
                          pattern: ^-?[0-9]{0,63}(\.[0-9]{1,27})?$
                        cumulative_start_date:
                          type: string
                          format: date-time
                          description: Date when the cumulative time-weighted returns calculation starts.
                  required:
                    - account_id
                    - date
                    - twr
                  additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 399dc0a7-f4cb-42a4-9513-496df030381e
              created_at: 2023-09-02T05:15:00Z
              type: ACCOUNT_RETURNS.CREATED
              object:
                account_id: bbe9e784-e009-4cb6-a07c-24831897327b
                date: 2023-09-01T00:00:00Z
                twr:
                  daily: "0.0132434142"
                  cumulative: "0.0324353234"
                  cumulative_start_date: 2023-08-01T00:00:00Z
              webhook_id: 435719ac-c064-4c7a-a8b9-6db9446965de
      responses:
        "204":
          description: Request has been processed successfully.
  Virtual cash increase events:
    post:
      operationId: virtual_cash_increase_event
      summary: Virtual cash increase events
      description: Virtual cash increase events
      tags:
        - Virtual Cash Balances
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Virtual Cash Balance - Virtual Cash Increase - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - VIRTUAL_CASH_INCREASE.ISSUED
                    - VIRTUAL_CASH_INCREASE.CONFIRMED
                object:
                  title: Virtual Cash Balance - Virtual Cash Increase
                  type: object
                  additionalProperties: false
                  properties:
                    id:
                      title: Virtual cash unique identifier
                      type: string
                      description: Virtual cash unique identifier
                      format: uuid
                    created_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    updated_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    account_group_id:
                      title: Account group unique identifier.
                      type: string
                      description: Account group unique identifier.
                      format: uuid
                    amount:
                      type: string
                      pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                    currency:
                      type: string
                      format: ISO4217
                      description: >-
                        Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                        * EUR - Euro
                      enum:
                        - EUR
                      default: EUR
                    status:
                      type: string
                      description: >-
                        Status of the virtual cash

                        * ISSUED - Virtual cash increase is created.

                        * CONFIRMED - Virtual cash increase was successfully processed.
                      enum:
                        - ISSUED
                        - CONFIRMED
                  required:
                    - id
                    - account_group_id
                    - amount
                    - currency
                    - status
                    - created_at
                    - updated_at
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 8962b496-8d42-4560-bfab-10490dd1a721
              created_at: 2021-07-21T14:10:00.00Z
              type: VIRTUAL_CASH_INCREASE.ISSUED
              object:
                id: 6ffa6b16-2380-4e7a-88b2-ae625c8eef99
                created_at: 2020-08-24T14:15:22Z
                updated_at: 2020-08-24T14:15:22Z
                account_group_id: ac1c39e9-2101-46b8-a624-d10a9e351b6c
                amount: "200.00"
                currency: EUR
                status: ISSUED
              webhook_id: 9df39835-be87-4243-9018-f2500b39cee6
      responses:
        "204":
          description: Request has been processed successfully.
  Virtual cash decrease events:
    post:
      operationId: virtual_cash_decrease_event
      summary: Virtual cash decrease events
      description: Virtual cash decrease events
      tags:
        - Virtual Cash Balances
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Virtual Cash Balance - Virtual Cash Decrease - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - VIRTUAL_CASH_DECREASE.ISSUED
                    - VIRTUAL_CASH_DECREASE.CONFIRMED
                    - VIRTUAL_CASH_DECREASE.QUEUED
                    - VIRTUAL_CASH_DECREASE.CANCELLED
                object:
                  title: Virtual Cash Balance - Virtual Cash Decrease
                  type: object
                  additionalProperties: false
                  properties:
                    id:
                      title: Virtual cash unique identifier
                      type: string
                      description: Virtual cash unique identifier
                      format: uuid
                    created_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    updated_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    account_group_id:
                      title: Account group unique identifier.
                      type: string
                      description: Account group unique identifier.
                      format: uuid
                    amount:
                      type: string
                      pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                    currency:
                      type: string
                      format: ISO4217
                      description: >-
                        Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                        * EUR - Euro
                      enum:
                        - EUR
                      default: EUR
                    status:
                      type: string
                      description: >-
                        Status of the virtual cash

                        * ISSUED - Virtual cash decrease is created.

                        * CONFIRMED - Virtual cash decrease was successfully processed.

                        * QUEUED - Virtual cash decrease was queued.

                        * CANCELLED - Virtual cash decrease was cancelled.
                      enum:
                        - ISSUED
                        - CONFIRMED
                        - QUEUED
                        - CANCELLED
                  required:
                    - id
                    - account_group_id
                    - amount
                    - currency
                    - status
                    - created_at
                    - updated_at
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 8962b496-8d42-4560-bfab-10490dd1a721
              created_at: 2021-07-21T14:10:00.00Z
              type: VIRTUAL_CASH_DECREASE.ISSUED
              object:
                id: 6ffa6b16-2380-4e7a-88b2-ae625c8eef99
                created_at: 2020-08-24T14:15:22Z
                updated_at: 2020-08-24T14:15:22Z
                account_group_id: ac1c39e9-2101-46b8-a624-d10a9e351b6c
                amount: "200.00"
                currency: EUR
                status: ISSUED
              webhook_id: 9df39835-be87-4243-9018-f2500b39cee6
      responses:
        "204":
          description: Request has been processed successfully.
  Fee collection events:
    post:
      operationId: fee_collection_event
      summary: Fee collection events
      description: Fee collection events
      tags:
        - Fees
      requestBody:
        content:
          application/json:
            schema:
              title: Webhook - Fee Collection - Callback
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  description: Event unique identifier
                created_at:
                  type: string
                  format: date-time
                  description: Date and time when the event was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                type:
                  type: string
                  description: Event type
                  enum:
                    - FEE_COLLECTION.CREATED
                    - FEE_COLLECTION.FINALISED
                    - FEE_COLLECTION.CANCELLED
                object:
                  title: Fee Collection
                  type: object
                  properties:
                    id:
                      title: Fee collection unique identifier.
                      type: string
                      description: Fee collection unique identifier.
                      format: uuid
                    created_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was created. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    updated_at:
                      type: string
                      format: date-time
                      description: Date and time when the resource was last updated. [RFC 3339-5](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6), [ISO8601 UTC](https://www.iso.org/iso-8601-date-and-time-format.html)
                    account_id:
                      title: Account unique identifier.
                      type: string
                      description: Account unique identifier.
                      format: uuid
                    account_group_id:
                      title: Account group unique identifier.
                      type: string
                      description: Account group unique identifier.
                      format: uuid
                    type:
                      type: string
                      description: >-
                        Type of the fee collection

                        * SERVICE_FEE - Service fee intake in a pre-defined cadence (e.g. monthly)

                        * SERVICE_FEE_LIQUIDATION - Service fee intake as a result of a Portfolio liquidation
                      enum:
                        - SERVICE_FEE
                        - SERVICE_FEE_LIQUIDATION
                    collection_amount:
                      type: string
                      pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                    processed_amount:
                      type: object
                      properties:
                        cash_balance:
                          type: string
                          pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                        sell_to_cover:
                          type: string
                          pattern: ^[0-9]{1,9}(\.[0-9]{2})?$
                    currency:
                      type: string
                      format: ISO4217
                      description: >-
                        Alphabetic three-letter [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code.

                        * EUR - Euro
                      enum:
                        - EUR
                      default: EUR
                    status:
                      type: string
                      description: >-
                        Status of the fee collection

                        * PROCESSING - Fee collection is in progress.

                        * FINALISED - Fees have been collected from the account and the funds has been transferred to the client.

                        * CANCELLED - Fee collection has been cancelled.
                      enum:
                        - PROCESSING
                        - FINALISED
                        - CANCELLED
                    period_start:
                      type: string
                      format: date
                      description: Start date of the fee collection period in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339
                    period_end:
                      type: string
                      format: date
                      description: End date of the fee collection period in YYYY-MM-DD format. [RFC 3339, section 5.6](https://json-schema.org/draft/2020-12/json-schema-validation.html#RFC3339) RFC 3339
                  required:
                    - id
                    - account_id
                    - account_group_id
                    - type
                    - collection_amount
                    - processed_amount
                    - currency
                    - status
                    - period_start
                    - period_end
                    - created_at
                    - updated_at
                  additionalProperties: false
                webhook_id:
                  title: Webhook ID
                  type: string
                  description: Webhook unique identifier.
                  format: uuid
              required:
                - id
                - created_at
                - type
                - object
                - webhook_id
              additionalProperties: false
            example:
              id: 38fc59d0-fc42-46ef-9512-824773219b2e
              created_at: 2023-08-19T13:06:57.820371265Z
              type: FEE_COLLECTION.CREATED
              webhook_id: 1b097e06-8a14-4181-b72a-de0972a3c57b
              object:
                account_group_id: 999f7566-2ca3-4007-b99d-e501be8c7222
                account_id: 689f7566-2ca3-4007-b99d-e501be8c7783
                collection_amount: "12.41"
                created_at: 2022-11-30T14:16:22Z
                currency: EUR
                id: d77e6924-9bb7-4db0-addc-404442258f4b
                period_start: 2022-11-01
                period_end: 2022-11-30
                processed_amount:
                  cash_balance: "0"
                  sell_to_cover: "0"
                status: PROCESSING
                type: SERVICE_FEE
                updated_at: 2022-11-30T14:16:22Z
      responses:
        "204":
          description: Request has been processed successfully.
components:
  securitySchemes:
    oauth-client-credentials:
      type: oauth2
      flows:
        clientCredentials:
          tokenUrl: https://sandbox.upvest.co/auth/token
          scopes:
            accounts:read: Read accounts and account groups
            accounts:admin: Create/update/delete accounts and account groups
            webhooks:admin: Create/update/delete webhooks
            webhooks:read: Read webhooks
            orders:admin: Create/update/delete orders
            orders:read: Read orders
            users:admin: Create/update/delete users
            users:read: Read users
            checks:admin: Create checks
            checks:read: Read checks
            positions:read: Read positions
            reference_accounts:admin: Create/update/delete reference accounts
            reference_accounts:read: Read reference accounts
            mandates:admin: Create/update/delete mandates
            mandates:read: Read mandates
            payments:admin: Payins and withdrawal operations
            payments:read: Payins and withdrawal read operations
            topups:admin: Topups operations
            topups:read: Topups read operations
            credit_fundings:read: Credit Fundings read operations
            reports:read: Read reports
            taxes:read: Read tax residencies
            taxes:admin: Modify tax residencies
            transactions:read: Read cash and securities transactions
            instruments:read: Read instruments
            fees:admin: Create and read fee operations
            fees:read: Read fee operations
            portfolios:read: Read portfolios
            portfolios:admin: Modify portfolios
            valuations:read: Read valuations
            account_liquidations:read: Read accounts liquidations
            account_liquidations:admin: Trigger/read/cancel accounts liquidations
            account_returns:read: Read accounts returns
            virtual_cash_balances:admin: Virtual cash balances
  headers:
    upvest-request-id:
      required: true
      schema:
        type: string
        format: uuid
        example: 169ae4c7-ebd7-4041-94da-25369653eba7
  parameters:
    apiVersion:
      name: upvest-api-version
      in: header
      required: false
      schema:
        type: string
        enum:
          - "1"
        default: "1"
        example: 1
      description: "Upvest API version (Note: Do not include quotation marks)"
    authorization:
      name: authorization
      in: header
      description: |
        Bearer (access) token from the OAuth flow with correct scopes.
        https://datatracker.ietf.org/doc/html/rfc6750
      required: true
      schema:
        type: string
        pattern: ^Bearer [a-zA-Z0-9\-\._~+/]*=*
        example: Bearer c2VjcmV0Cg==
    clientID:
      name: upvest-client-id
      in: header
      description: Tenant Client ID
      required: true
      schema:
        type: string
        format: uuid
        example: ebabcf4d-61c3-4942-875c-e265a7c2d062
    signature:
      name: signature
      in: header
      required: true
      schema:
        type: string
      description: https://tools.ietf.org/id/draft-ietf-httpbis-message-signatures-01.html#name-the-signature-http-header
      example: "sig1=:K2qGT5srn2OGbOIDzQ6kYT+ruaycnDAAUpKv+ePFfD0RAxn/1BUeZx/Kdrq32DrfakQ6bPsvB9aqZqognNT6be4olHROIkeV879RrsrObury8L9SCEibeoHyqU/yCjphSmEdd7WD+zrchK57quskKwRefy2iEC5S2uAH0EPyOZKWlvbKmKu5q4CaB8X/I5/+HLZLGvDiezqi6/7p2Gngf5hwZ0lSdy39vyNMaaAT0tKo6nuVw0S1MVg1Q7MpWYZs0soHjttq0uLIA3DIbQfLiIvK6/l0BdWTU7+2uQj7lBkQAsFZHoA96ZZgFquQrXRlmYOh+Hx5D9fJkXcXe5tmAg==:"
    signatureInput:
      name: signature-input
      in: header
      required: true
      schema:
        type: string
      description: https://tools.ietf.org/id/draft-ietf-httpbis-message-signatures-01.html#name-the-signature-input-http-he
      example: 'sig1=(*request-target, *created, host, date, cache-control, x-empty-header, x-example); keyId="test-key-a"; alg=hs2019; created=1402170695; expires=1402170995'
    idempotencyKey:
      name: idempotency-key
      in: header
      required: true
      schema:
        type: string
        format: uuid
        pattern: ^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
        example: ccb07f42-4104-44ad-8e1f-c660bb7b269c
      description: "A UUID to be used as an idempotency key.  This prevents a duplicate request from being replayed. \nhttps://docs.upvest.co/concepts/api_concepts/idempotency\n"
    limit:
      name: limit
      in: query
      schema:
        type: integer
        format: int32
        default: 100
        minimum: 0
        maximum: 1000
      allowEmptyValue: true
      description: Use the `limit` argument to specify the maximum number of items returned.
    offset:
      name: offset
      in: query
      schema:
        type: integer
        minimum: 0
        format: int32
      allowEmptyValue: true
      description: Use the `offset` argument to specify where in the list of results to start when returning items for a particular query.
    order:
      name: order
      in: query
      required: false
      schema:
        type: string
        enum:
          - ASC
          - DESC
        default: ASC
      description: Sort order of the result list if the `sort` parameter is specified. Use `ASC` for ascending or `DESC` for descending sort order.
    order_asc:
      name: order
      in: query
      required: false
      schema:
        type: string
        enum:
          - ASC
        default: ASC
      description: Sort order of the result list if the `sort` parameter is specified. By default, only ASC for ascending sort.
    webhookID:
      name: webhook_id
      in: path
      description: Webhook identifier
      required: true
      schema:
        title: Webhook ID
        type: string
        description: Webhook unique identifier.
        format: uuid
    userID:
      name: user_id
      in: path
      required: true
      schema:
        title: User unique identifier.
        type: string
        description: User unique identifier.
        format: uuid
    identifierID:
      name: identifier_id
      in: path
      required: true
      schema:
        title: Unique identifier for the user's national ID.
        type: string
        description: Unique identifier for the user's national ID.
        format: uuid
    feeCollectionID:
      name: fee_collection_id
      in: path
      required: true
      schema:
        title: Fee collection unique identifier.
        type: string
        description: Fee collection unique identifier.
        format: uuid
    accountID:
      name: account_id
      in: query
      required: true
      schema:
        title: Account unique identifier.
        type: string
        description: Account unique identifier.
        format: uuid
    accountGroupID:
      name: account_group_id
      in: query
      required: true
      schema:
        title: Account group unique identifier.
        type: string
        description: Account group unique identifier.
        format: uuid
    referenceAccountID:
      name: reference_account_id
      in: path
      required: true
      schema:
        title: Reference account unique identifier.
        type: string
        description: Reference account unique identifier.
        format: uuid
    mandateID:
      name: mandate_id
      in: path
      required: true
      schema:
        title: Direct Debit Mandate unique identifier.
        type: string
        description: Direct Debit Mandate unique identifier.
        format: uuid
    directDebitID:
      name: direct_debit_id
      in: path
      required: true
      schema:
        title: Direct debit funding request unique identifier
        type: string
        description: Direct debit funding request unique identifier
        format: uuid
    checkID:
      name: check_id
      in: path
      required: true
      schema:
        title: User Check unique identifier
        type: string
        description: User Check unique identifier.
        format: uuid
    instrumentID:
      name: instrument_id
      in: path
      required: true
      schema:
        title: Instrument unique identifier
        description: Instrument unique identifier.
        oneOf:
          - title: International securities identification number with 'isin:' URN namespace
            type: string
            description: International securities identification number defined by [ISO 6166](https://en.wikipedia.org/wiki/International_Securities_Identification_Number), prefixed with a 'isin:' [URN scheme](https://datatracker.ietf.org/doc/html/rfc8141).
            pattern: ^(urn:)?isin:[A-Z]{2}[A-Z0-9]{9}[0-9]$
          - title: Universally Unique IDentifier (UUID) with 'uuid:' URN scheme
            type: string
            description: Universally Unique IDentifier (UUID) with 'uuid:' URN namespace, defined by [RFC 4122](https://datatracker.ietf.org/doc/html/rfc4122).
            pattern: ^(urn:)?uuid:[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-5][0-9a-fA-F]{3}-?[089abAB][0-9a-fA-F]{3}-?[0-9a-fA-F]{12}$
    orderID:
      name: order_id
      description: ""
      in: path
      required: true
      schema:
        title: Order unique identifier
        type: string
        format: uuid
    executionID:
      name: execution_id
      description: ""
      in: path
      required: true
      schema:
        title: Order execution unique identifier
        type: string
        format: uuid
    reportID:
      name: report_id
      in: path
      required: true
      schema:
        title: Report unique identifier.
        type: string
        description: Report unique identifier.
        format: uuid
    withdrawalID:
      name: withdrawal_id
      in: path
      required: true
      schema:
        title: Cash withdrawal unique identifier
        type: string
        description: Cash withdrawal unique identifier
        format: uuid
    allocationID:
      name: allocation_id
      in: path
      required: true
      schema:
        title: Portfolio allocation unique identifier
        type: string
        format: uuid
    portfolioExecutionID:
      name: portfolio_execution_id
      in: path
      required: true
      schema:
        title: Portfolio execution unique identifier
        type: string
        format: uuid
    rebalancingStrategyID:
      name: strategy_id
      in: path
      required: true
      schema:
        title: Portfolio rebalancing strategy unique identifier
        type: string
        format: uuid
    portfolioOrderID:
      name: portfolio_order_id
      in: path
      required: true
      schema:
        title: Portfolios order unique identifier
        type: string
        format: uuid
    accountLiquidationID:
      name: account_liquidation_id
      in: path
      required: true
      schema:
        title: Account liquidation unique identifier
        type: string
        format: uuid
    virtualCashDecreaseID:
      name: virtual_cash_decrease_id
      in: path
      required: true
      schema:
        title: Virtual cash unique identifier
        type: string
        description: Virtual cash unique identifier
        format: uuid
  responses:
    WebhookNoContentResponse:
      description: Request has been processed successfully.
    ResponseNoContent:
      description: Request has been processed successfully.
      headers:
        upvest-request-id:
          required: true
          schema:
            type: string
            format: uuid
            example: 169ae4c7-ebd7-4041-94da-25369653eba7
    ResponseAccepted:
      description: The request has been successfully accepted and will be processed asynchronously.
      headers:
        upvest-request-id:
          required: true
          schema:
            type: string
            format: uuid
            example: 169ae4c7-ebd7-4041-94da-25369653eba7
    ResponseSingleError:
      description: |-
        Shared error response to be used for all errors returned from the API.

        We follow the generic parts of RFC 7807 "Problem Details for HTTP APIs"
        https://datatracker.ietf.org/doc/html/rfc7807
      content:
        application/problem+json:
          schema:
            title: Error
            type: object
            description: ""
            properties:
              type:
                type: string
                description: URL to a document describing the error condition.
              status:
                type: integer
                description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
              title:
                type: string
                description: A short, human-readable title for the general error type; the title should not change for given types.
              detail:
                type: string
                description: A human-readable description of the specific error.
              instance:
                type: string
                description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
              request_id:
                type: string
                description: Correlation ID for the original request.
            required:
              - type
              - status
            additionalProperties: false
    ResponseError400:
      description: Bad Request. The incoming request had a malformed parameter/object.
      headers:
        upvest-request-id:
          required: true
          schema:
            type: string
            format: uuid
            example: 169ae4c7-ebd7-4041-94da-25369653eba7
      content:
        application/problem+json:
          schema:
            title: Error
            type: object
            description: ""
            properties:
              type:
                type: string
                description: URL to a document describing the error condition.
              status:
                type: integer
                description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
              title:
                type: string
                description: A short, human-readable title for the general error type; the title should not change for given types.
              detail:
                type: string
                description: A human-readable description of the specific error.
              instance:
                type: string
                description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
              request_id:
                type: string
                description: Correlation ID for the original request.
            required:
              - type
              - status
            additionalProperties: false
          example:
            status: 400
            type: bad_request
    ResponseError401:
      description: Unauthorized. The caller has not been authenticated.
      headers:
        upvest-request-id:
          required: true
          schema:
            type: string
            format: uuid
            example: 169ae4c7-ebd7-4041-94da-25369653eba7
      content:
        application/problem+json:
          schema:
            title: Error
            type: object
            description: ""
            properties:
              type:
                type: string
                description: URL to a document describing the error condition.
              status:
                type: integer
                description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
              title:
                type: string
                description: A short, human-readable title for the general error type; the title should not change for given types.
              detail:
                type: string
                description: A human-readable description of the specific error.
              instance:
                type: string
                description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
              request_id:
                type: string
                description: Correlation ID for the original request.
            required:
              - type
              - status
            additionalProperties: false
          example:
            status: 401
            type: unauthorized
    ResponseError403:
      description: Forbidden. The caller has been authenticated but is not allowed to take the requested action.
      headers:
        upvest-request-id:
          required: true
          schema:
            type: string
            format: uuid
            example: 169ae4c7-ebd7-4041-94da-25369653eba7
      content:
        application/problem+json:
          schema:
            title: Error
            type: object
            description: ""
            properties:
              type:
                type: string
                description: URL to a document describing the error condition.
              status:
                type: integer
                description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
              title:
                type: string
                description: A short, human-readable title for the general error type; the title should not change for given types.
              detail:
                type: string
                description: A human-readable description of the specific error.
              instance:
                type: string
                description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
              request_id:
                type: string
                description: Correlation ID for the original request.
            required:
              - type
              - status
            additionalProperties: false
          example:
            status: 403
            type: forbidden
    ResponseError404:
      description: Not Found. The requested resource could not be found.
      headers:
        upvest-request-id:
          required: true
          schema:
            type: string
            format: uuid
            example: 169ae4c7-ebd7-4041-94da-25369653eba7
      content:
        application/problem+json:
          schema:
            title: Error
            type: object
            description: ""
            properties:
              type:
                type: string
                description: URL to a document describing the error condition.
              status:
                type: integer
                description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
              title:
                type: string
                description: A short, human-readable title for the general error type; the title should not change for given types.
              detail:
                type: string
                description: A human-readable description of the specific error.
              instance:
                type: string
                description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
              request_id:
                type: string
                description: Correlation ID for the original request.
            required:
              - type
              - status
            additionalProperties: false
          example:
            status: 404
            type: not_found
    ResponseError405:
      description: Method Not Allowed. The requested method is not allowed on the requested resource.
      headers:
        upvest-request-id:
          required: true
          schema:
            type: string
            format: uuid
            example: 169ae4c7-ebd7-4041-94da-25369653eba7
      content:
        application/problem+json:
          schema:
            title: Error
            type: object
            description: ""
            properties:
              type:
                type: string
                description: URL to a document describing the error condition.
              status:
                type: integer
                description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
              title:
                type: string
                description: A short, human-readable title for the general error type; the title should not change for given types.
              detail:
                type: string
                description: A human-readable description of the specific error.
              instance:
                type: string
                description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
              request_id:
                type: string
                description: Correlation ID for the original request.
            required:
              - type
              - status
            additionalProperties: false
          example:
            status: 405
            type: method_not_allowed
    ResponseError406:
      description: Not Acceptable. The resource does not have a current representation that would be acceptable to the user agent. "Accept" header defined unsupported value.
      headers:
        upvest-request-id:
          required: true
          schema:
            type: string
            format: uuid
            example: 169ae4c7-ebd7-4041-94da-25369653eba7
      content:
        application/problem+json:
          schema:
            title: Error
            type: object
            description: ""
            properties:
              type:
                type: string
                description: URL to a document describing the error condition.
              status:
                type: integer
                description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
              title:
                type: string
                description: A short, human-readable title for the general error type; the title should not change for given types.
              detail:
                type: string
                description: A human-readable description of the specific error.
              instance:
                type: string
                description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
              request_id:
                type: string
                description: Correlation ID for the original request.
            required:
              - type
              - status
            additionalProperties: false
          example:
            status: 406
            type: not_acceptable
    ResponseError409:
      description: Conflict. An operation is not available for the current state of the resource.
      headers:
        upvest-request-id:
          required: true
          schema:
            type: string
            format: uuid
            example: 169ae4c7-ebd7-4041-94da-25369653eba7
      content:
        application/problem+json:
          schema:
            title: Error
            type: object
            description: ""
            properties:
              type:
                type: string
                description: URL to a document describing the error condition.
              status:
                type: integer
                description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
              title:
                type: string
                description: A short, human-readable title for the general error type; the title should not change for given types.
              detail:
                type: string
                description: A human-readable description of the specific error.
              instance:
                type: string
                description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
              request_id:
                type: string
                description: Correlation ID for the original request.
            required:
              - type
              - status
            additionalProperties: false
          example:
            status: 409
            type: conflict
    ResponseError422:
      description: Unprocessable Entity. The syntax of request is correct but server can't process it due a semantic error.
      headers:
        upvest-request-id:
          required: true
          schema:
            type: string
            format: uuid
            example: 169ae4c7-ebd7-4041-94da-25369653eba7
      content:
        application/problem+json:
          schema:
            title: Error
            type: object
            description: ""
            properties:
              type:
                type: string
                description: URL to a document describing the error condition.
              status:
                type: integer
                description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
              title:
                type: string
                description: A short, human-readable title for the general error type; the title should not change for given types.
              detail:
                type: string
                description: A human-readable description of the specific error.
              instance:
                type: string
                description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
              request_id:
                type: string
                description: Correlation ID for the original request.
            required:
              - type
              - status
            additionalProperties: false
          example:
            status: 422
            type: unprocessable_entity
    ResponseError429:
      description: Too Many Requests. The caller has exceeded their quota for the time period and has been throttled.
      headers:
        upvest-request-id:
          required: true
          schema:
            type: string
            format: uuid
            example: 169ae4c7-ebd7-4041-94da-25369653eba7
      content:
        application/problem+json:
          schema:
            title: Error
            type: object
            description: ""
            properties:
              type:
                type: string
                description: URL to a document describing the error condition.
              status:
                type: integer
                description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
              title:
                type: string
                description: A short, human-readable title for the general error type; the title should not change for given types.
              detail:
                type: string
                description: A human-readable description of the specific error.
              instance:
                type: string
                description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
              request_id:
                type: string
                description: Correlation ID for the original request.
            required:
              - type
              - status
            additionalProperties: false
          example:
            status: 429
            type: too_many_requests
    ResponseError500:
      description: Internal Server Error. The service encountered an unexpected error.
      headers:
        upvest-request-id:
          required: true
          schema:
            type: string
            format: uuid
            example: 169ae4c7-ebd7-4041-94da-25369653eba7
      content:
        application/problem+json:
          schema:
            title: Error
            type: object
            description: ""
            properties:
              type:
                type: string
                description: URL to a document describing the error condition.
              status:
                type: integer
                description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
              title:
                type: string
                description: A short, human-readable title for the general error type; the title should not change for given types.
              detail:
                type: string
                description: A human-readable description of the specific error.
              instance:
                type: string
                description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
              request_id:
                type: string
                description: Correlation ID for the original request.
            required:
              - type
              - status
            additionalProperties: false
          example:
            status: 500
            type: internal_server_error
    ResponseError503:
      description: Service Unavailable. The service handling for this request cannot be reached at this time.
      headers:
        upvest-request-id:
          required: true
          schema:
            type: string
            format: uuid
            example: 169ae4c7-ebd7-4041-94da-25369653eba7
      content:
        application/problem+json:
          schema:
            title: Error
            type: object
            description: ""
            properties:
              type:
                type: string
                description: URL to a document describing the error condition.
              status:
                type: integer
                description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
              title:
                type: string
                description: A short, human-readable title for the general error type; the title should not change for given types.
              detail:
                type: string
                description: A human-readable description of the specific error.
              instance:
                type: string
                description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
              request_id:
                type: string
                description: Correlation ID for the original request.
            required:
              - type
              - status
            additionalProperties: false
          example:
            status: 503
            type: method_not_allowed
    ResponseError504:
      description: Gateway Timeout. The service gateway has reached its internal timeout.
      headers:
        upvest-request-id:
          required: true
          schema:
            type: string
            format: uuid
            example: 169ae4c7-ebd7-4041-94da-25369653eba7
      content:
        application/problem+json:
          schema:
            title: Error
            type: object
            description: ""
            properties:
              type:
                type: string
                description: URL to a document describing the error condition.
              status:
                type: integer
                description: Transmission of the HTTP status code so that all information can be found in one place, but also to correct changes in the status code due to the use of proxy servers.
              title:
                type: string
                description: A short, human-readable title for the general error type; the title should not change for given types.
              detail:
                type: string
                description: A human-readable description of the specific error.
              instance:
                type: string
                description: This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
              request_id:
                type: string
                description: Correlation ID for the original request.
            required:
              - type
              - status
            additionalProperties: false
          example:
            status: 504
            type: gateway_timeout
